{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/img/20230818103122.jpg","path":"img/20230818103122.jpg","modified":1,"renderable":0},{"_id":"source/img/20230822143445.jpg","path":"img/20230822143445.jpg","modified":1,"renderable":0},{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/20230818103122.jpg","path":"img/20230818103122.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/20230823160932.png","path":"img/20230823160932.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/thumbbig-1221433.jpg","path":"img/thumbbig-1221433.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/_data/link.yaml","hash":"80576ac894f882f25903e2ab824427b8d11988cd","modified":1692324729920},{"_id":"source/_posts/hello-world.md","hash":"9db9748dfecfc3146a3239035331efaf5cb9cf92","modified":1692774850502},{"_id":"source/_drafts/draft.md","hash":"b472be5771163e18b109ee34e0cc62ba571bb40d","modified":1692327202494},{"_id":"source/about/index.md","hash":"67d4cc7108911b8662a0201bdabf042dbaef7b09","modified":1691119039026},{"_id":"source/categories/index.md","hash":"d77b6f39e85b912ee0a4f6708974edf1677f7c8a","modified":1692324631370},{"_id":"source/link/index.md","hash":"b749372caa351fad232a4420c82ae06acca33d7a","modified":1692324680798},{"_id":"source/tags/index.md","hash":"fbfe43a3c44f87bafe265cc8d0ef3de7acbed1cf","modified":1692324602674},{"_id":"source/_posts/docker/uninstall_docker.md","hash":"fe3044b3520af04ef501894ee9345b302546540f","modified":1692856339606},{"_id":"source/_posts/golang/go_template.md","hash":"576c203bdf37b4a835f657a26c086ef704896acc","modified":1692773723180},{"_id":"source/_posts/golang/last_version_mod.md","hash":"3623367c5fa8c4ff5bc93b1d023e8b8844fe4f7e","modified":1692773729952},{"_id":"source/_posts/linux/chrony.md","hash":"3428f5425df5d51f9c87d98c60f194fc6367d9a1","modified":1698390511967},{"_id":"source/_posts/kubernetes/deepflow-dashboard.md","hash":"7db65ddc47fbd7bc9346e36fa86c207ce42b8807","modified":1697620707736},{"_id":"source/_posts/kubernetes/efk.md","hash":"07bac5cc6a41a1525479956266d636f71466ed6d","modified":1692866102494},{"_id":"source/_posts/kubernetes/fluent_Bit_Fluentd.md","hash":"aad3274f394baa501e2ac724183f136ec885b562","modified":1692864882291},{"_id":"source/_posts/kubernetes/gateway.md","hash":"33d6f4d6b630bade78902eadbab7343ef296a6d0","modified":1698895775022},{"_id":"source/_posts/kubernetes/grafana-create-alert-rule.md","hash":"7a4562029a4e3333ce5ba8be8c19a59651db0ee4","modified":1693473182480},{"_id":"source/_posts/kubernetes/grafana-dashboard.md","hash":"8b194ae66ee614a19bb6c98b234b15d7b1ac4eab","modified":1698720609089},{"_id":"source/_posts/kubernetes/image-1.png","hash":"0bae2d21312c343fd0a9d5e3a08ba0a22a4c740e","modified":1697619448570},{"_id":"source/_posts/kubernetes/image-100.png","hash":"1b0ab0fa5f9b916745de168a908f8378a22f0a16","modified":1698720347392},{"_id":"source/_posts/kubernetes/image-101.png","hash":"94cf0ec9da20ace1bf8c7a14efd7c18b8a08964c","modified":1698720358691},{"_id":"source/_posts/kubernetes/image-102.png","hash":"aeaf8c0f6a8a5b257a9967e248fdf7859f266810","modified":1698720367219},{"_id":"source/_posts/kubernetes/image-103.png","hash":"aeaf8c0f6a8a5b257a9967e248fdf7859f266810","modified":1698720417711},{"_id":"source/_posts/kubernetes/image-105.png","hash":"b7ca1fef4fcecc6a2c4e93419d5d0e158f3fa8ad","modified":1698895034656},{"_id":"source/_posts/kubernetes/image-106.png","hash":"8e66e7149fd5f7c9ab2e655166786d4dd1e29693","modified":1698895082442},{"_id":"source/_posts/kubernetes/image-109.png","hash":"eb6e4e7912a1ced2ced02fb66ae709cf80a7254d","modified":1698895373288},{"_id":"source/_posts/kubernetes/image-110.png","hash":"757dcc40fc32dfe6abd6f6a9858b4a83bd6f19e4","modified":1698895522957},{"_id":"source/_posts/kubernetes/image-111.png","hash":"0480afa59660ab35c6e24937eee69fd0ee8a6e74","modified":1698895582844},{"_id":"source/_posts/kubernetes/image-112.png","hash":"b9770f39e04202cc3b63a911a920619fbcc6cce7","modified":1698895644232},{"_id":"source/_posts/kubernetes/image-31.png","hash":"c710557cdd1d1577b40ac61813621f7db4ded7a5","modified":1698718344387},{"_id":"source/_posts/kubernetes/image-36.png","hash":"66e582fcd670a9b49a9de2d20a3e8980257697cf","modified":1698718482688},{"_id":"source/_posts/kubernetes/image-37.png","hash":"743a60f2769fc51649732eaa86d0e41c9d96d27d","modified":1698718500106},{"_id":"source/_posts/kubernetes/image-38.png","hash":"fc4255e93690dff11aaa0526f35a2162001292c9","modified":1698718518781},{"_id":"source/_posts/kubernetes/image-41.png","hash":"80070fa3e376ac4ff3e571e6bd3a09283a64f420","modified":1698718750712},{"_id":"source/_posts/kubernetes/image-40.png","hash":"0ee3616e66ae359aa2c8b51c28684216c6d1a1ff","modified":1698718737489},{"_id":"source/_posts/kubernetes/image-42.png","hash":"4d8880dbbb89155f138cdffeaa8a7a7a9285a2a0","modified":1698718764272},{"_id":"source/_posts/kubernetes/image-45.png","hash":"77de8ecf4184a9fdfa3819053a23bdf49dae31d5","modified":1698718823126},{"_id":"source/_posts/kubernetes/image-46.png","hash":"f79309cf8e6036a950271750db9ee2b21a8d300b","modified":1698718865688},{"_id":"source/_posts/kubernetes/image-43.png","hash":"80f3f58498ce6de8cc546f3300c5fb7f543ef4d0","modified":1698718787263},{"_id":"source/_posts/kubernetes/image-47.png","hash":"afc8fda7d671d3254708cd0e837fe525dce29c46","modified":1698718880940},{"_id":"source/_posts/kubernetes/image-49.png","hash":"cfd5d4d2a49edbb981496e299bd59a5343f8523d","modified":1698718935939},{"_id":"source/_posts/kubernetes/image-50.png","hash":"8d7c17c1a7d9875542f6f42e02bf36a29368f399","modified":1698718992397},{"_id":"source/_posts/kubernetes/image-48.png","hash":"cfd5d4d2a49edbb981496e299bd59a5343f8523d","modified":1698718919831},{"_id":"source/_posts/kubernetes/image-51.png","hash":"fc1c6ab4457134611823b69bcbedb4a57b57ed80","modified":1698719002729},{"_id":"source/_posts/kubernetes/image-52.png","hash":"11b5f7a74d7896af37662fc8e4081d41656b3bd6","modified":1698719030500},{"_id":"source/_posts/kubernetes/image-53.png","hash":"d459219182ffd72c6acdd87c7b8ce7edde574da9","modified":1698719058796},{"_id":"source/_posts/kubernetes/image-56.png","hash":"64e9adf6739255bb2eb40e5755f4f7bdb6a17904","modified":1698719107531},{"_id":"source/_posts/kubernetes/image-54.png","hash":"299d28a04287244f29535b0d7e5318cc6f586ff5","modified":1698719073471},{"_id":"source/_posts/kubernetes/image-57.png","hash":"0eea76a844232b3c4f91de0fd3a53469b4a0cdca","modified":1698719139906},{"_id":"source/_posts/kubernetes/image-59.png","hash":"280d3d4dc238e159245b083fbd54d265087c5ebb","modified":1698719164454},{"_id":"source/_posts/kubernetes/image-60.png","hash":"7fb67366654da7c29ce42e474659d67850c9f6ce","modified":1698719203293},{"_id":"source/_posts/kubernetes/image-61.png","hash":"550775d9d5ceb16ea9c2574eca609634fa71a239","modified":1698719218625},{"_id":"source/_posts/kubernetes/image-62.png","hash":"0165eff4797e7805ec74b8b6147191b958c12a43","modified":1698719257077},{"_id":"source/_posts/kubernetes/image-63.png","hash":"ba2334f015489a3a4c9613ba50993bd7a538c786","modified":1698719273433},{"_id":"source/_posts/kubernetes/image-64.png","hash":"26471faee5fdd35a1fe2f491ed666999525e1eae","modified":1698719285777},{"_id":"source/_posts/kubernetes/image-65.png","hash":"81cd738de264644f461f5170c8abd1e5a91388ce","modified":1698719310709},{"_id":"source/_posts/kubernetes/image-67.png","hash":"ead429319262aeab8737e2105650883968d805e4","modified":1698719334386},{"_id":"source/_posts/kubernetes/image-66.png","hash":"fc0505e6cb1699ea429070a6226b626e1d212092","modified":1698719321549},{"_id":"source/_posts/kubernetes/image-69.png","hash":"e6ed109b2755cfc57a9e61501a411a606f04e750","modified":1698719402798},{"_id":"source/_posts/kubernetes/image-73.png","hash":"840ecc5496b340f9746d98b793150c454f42dc5a","modified":1698719460774},{"_id":"source/_posts/kubernetes/image-72.png","hash":"9e22c3544c40b9a3db1875da4f476cf7fdf2b301","modified":1698719445694},{"_id":"source/_posts/kubernetes/image-74.png","hash":"971b99ab5c9af871c2f46858b3ff6c3f9725fe87","modified":1698719489934},{"_id":"source/_posts/kubernetes/image-75.png","hash":"69b94a0fbb236ca9eb71376bcc9ee9a0faca2a50","modified":1698719501311},{"_id":"source/_posts/kubernetes/image-76.png","hash":"cb33eafaee31dd82f964fe4fcac79a028b6983e2","modified":1698719549287},{"_id":"source/_posts/kubernetes/image-77.png","hash":"7e3d931071d694c7604aa802aaded264af87861e","modified":1698719573263},{"_id":"source/_posts/kubernetes/image-80.png","hash":"a0e9d3bd083ccea3069be3ca3d7e9e430cc87b2e","modified":1698719956142},{"_id":"source/_posts/kubernetes/image-81.png","hash":"27790c1698bb6513f4a4c5487d3f7d1dcaf897e5","modified":1698719965526},{"_id":"source/_posts/kubernetes/image-84.png","hash":"5ff54504162ac13f0387a2b1a30fae513087e9eb","modified":1698720011794},{"_id":"source/_posts/kubernetes/image-85.png","hash":"9f4356dacd84a84c770eba419ebeb488f624f7e8","modified":1698720024338},{"_id":"source/_posts/kubernetes/image-86.png","hash":"980e787ffa567f1169ed4a095f20e70fe1017afd","modified":1698720038142},{"_id":"source/_posts/kubernetes/image-87.png","hash":"c8d2fe0c709fd13ddfe32e3a80db1a54cbb62fbb","modified":1698720058445},{"_id":"source/_posts/kubernetes/image-89.png","hash":"e0c6a0ee95b01c028dc3e1d21aed7af949174e45","modified":1698720106441},{"_id":"source/_posts/kubernetes/image-90.png","hash":"0d4658bb81069c721104b84e71b7228ca61ce092","modified":1698720130509},{"_id":"source/_posts/kubernetes/image-91.png","hash":"c7b34df348cfe2ab0c29b8bdb3d959aec98a4e08","modified":1698720158949},{"_id":"source/_posts/kubernetes/image-92.png","hash":"d053f79d742ddeeb1d0868c8c36d7e241a35b11a","modified":1698720177165},{"_id":"source/_posts/kubernetes/image-93.png","hash":"319f401eba3b9fbb9a096583330228697ef8275e","modified":1698720193173},{"_id":"source/_posts/kubernetes/image-94.png","hash":"09c74a48926b5e6e71acd7e493f118d90ad24a57","modified":1698720207777},{"_id":"source/_posts/kubernetes/image-95.png","hash":"7c25b38935643d75354b5140bdd562a74599fc2f","modified":1698720228868},{"_id":"source/_posts/kubernetes/image-97.png","hash":"c7011a7e56ec64932f723f21fe520289e00be7f2","modified":1698720289320},{"_id":"source/_posts/kubernetes/image-98.png","hash":"4d7ec40ebc0b516072767acc1caf9e74988d16c9","modified":1698720321600},{"_id":"source/_posts/kubernetes/image-99.png","hash":"cf36ac2fccac421ff1b995773d64118f67e6716d","modified":1698720332704},{"_id":"source/_posts/kubernetes/kibana-ilm.md","hash":"aee2063dbe6ef6784d668fe3587af183a9524513","modified":1693901792662},{"_id":"source/_posts/kubernetes/kube-ovn-underlay.md","hash":"5ad8e780c11b9b7e71115757917ee1cc7b2c7692","modified":1698891753396},{"_id":"source/_posts/kubernetes/kubevirt-vm-expose.md","hash":"df504cf158ab3119727bdc8edf94fac62eae5b17","modified":1693561138859},{"_id":"source/_posts/kubernetes/metrics-server.md","hash":"72afa48992cda6663acfd8d8be61fb5a044ebc8d","modified":1692930793160},{"_id":"source/_posts/kubernetes/monitor.md","hash":"4ddc99d69c473ffb33b4ad5bed84de4e4a072d3a","modified":1692773744756},{"_id":"source/_posts/kubernetes/uninstall_cintainerd.md","hash":"18cfe19dd7d2878fdbf3f37b6420a060227dd464","modified":1692689392616},{"_id":"source/_posts/nodejs/install_nodejs.md","hash":"46282da1aa96fc8843c1209df2da921cf4727795","modified":1692693367375},{"_id":"source/img/20230818103122.jpg","hash":"690b5dbaea6aff4c293708ec80de2ac601b3495c","modified":1692325882489},{"_id":"source/_posts/kubernetes/image-107.png","hash":"1fe0ecbf2d9a49ac93f74a27d7b357b3e2f89618","modified":1698895146731},{"_id":"source/_posts/kubernetes/image-108.png","hash":"1fe0ecbf2d9a49ac93f74a27d7b357b3e2f89618","modified":1698895296694},{"_id":"source/_posts/kubernetes/image-113.png","hash":"2dcbdff3f87791dab52706f0289ff2bdb4075439","modified":1698895754790},{"_id":"source/_posts/kubernetes/image-32.png","hash":"f784ed8efe08d7e7eac4185f50d873096c044ab4","modified":1698718360121},{"_id":"source/_posts/kubernetes/image-33.png","hash":"0be6780c63b75bf6dfc0e7f6d4a9dc5aef4fa255","modified":1698718418178},{"_id":"source/_posts/kubernetes/image-34.png","hash":"6a3f1fc8b6d2880992c56b0914c715ef34d6a390","modified":1698718443195},{"_id":"source/_posts/kubernetes/image-39.png","hash":"dbcc6ef1e63b213a286b0fb2f01e3bb78811c156","modified":1698718605335},{"_id":"source/_posts/kubernetes/image-44.png","hash":"230530a1ac2dad9efd45bec20a3a5e61b7ca6859","modified":1698718807434},{"_id":"source/_posts/kubernetes/image-55.png","hash":"600227e9d875d5f7c284f4be146a3e01916d0d2a","modified":1698719095483},{"_id":"source/_posts/kubernetes/image-58.png","hash":"8e687183cbe66e7b0b8b8c64b0508433948a36ca","modified":1698719152030},{"_id":"source/_posts/kubernetes/image-70.png","hash":"42352f9554e114f272d0b2a792e8f0964c31fb55","modified":1698719415906},{"_id":"source/_posts/kubernetes/image-78.png","hash":"687baf5c3e30a642122ef7ee654b23567f7c6653","modified":1698719586791},{"_id":"source/_posts/kubernetes/image-79.png","hash":"d7102328a4c39d2b28fb0cec2b39a3cb9df890b6","modified":1698719603939},{"_id":"source/_posts/kubernetes/image-82.png","hash":"cd35f34f1152f22c98ab8b0e1ab9019bada2af45","modified":1698719977194},{"_id":"source/_posts/kubernetes/image-83.png","hash":"93b5e8165a6578fd835dc4b12f6cf7447b5c4dfe","modified":1698719989946},{"_id":"source/_posts/kubernetes/image-88.png","hash":"cb8c1eb7c10a96753acf1417b92952aa0889441d","modified":1698720090161},{"_id":"source/_posts/kubernetes/image-96.png","hash":"b868a98e911e94366d47ccc89a5dc8c988233dac","modified":1698720280248},{"_id":"source/_posts/kubernetes/image.png","hash":"c00ddad579b17a31ca404ab556135d9d91b6cdf4","modified":1697619408222},{"_id":"source/_posts/kubernetes/image-104.png","hash":"bf7b2f75e4e0a087096c13c405ee1fe023cc906f","modified":1698894565579},{"_id":"source/_posts/kubernetes/image-35.png","hash":"b4a832f4b8f401f3bfdf981bd0147a896d7f68fa","modified":1698718456170},{"_id":"source/_posts/kubernetes/image-68.png","hash":"7010b1883062f9f8e3357cc672290f44e9359849","modified":1698719388702},{"_id":"source/_posts/kubernetes/image-71.png","hash":"7b09d11fa959561ebd82b5712611bd2f6a718aa6","modified":1698719439010},{"_id":"source/img/20230822143445.jpg","hash":"3a109901811ca6833fb3223189064fa867653bbf","modified":1692686095318},{"_id":"source/_posts/kubernetes/image-11.png","hash":"f090d32691a601a3a72c857178314feb6f4a4a1e","modified":1697619571328},{"_id":"source/_posts/kubernetes/image-22.png","hash":"e1c93d730901898a27860e76a6f84d353fb2101b","modified":1697619686062},{"_id":"source/_posts/kubernetes/image-23.png","hash":"e1c93d730901898a27860e76a6f84d353fb2101b","modified":1697619695438},{"_id":"source/_posts/kubernetes/image-30.png","hash":"5df67fa051c6f27895f2ca5022eeed4c0faa3685","modified":1698718295502},{"_id":"source/_posts/kubernetes/image-10.png","hash":"7d76732ad4527872e296755bdf77e63913403408","modified":1697619561608},{"_id":"source/_posts/kubernetes/image-12.png","hash":"0d05e583a35c37c95401e432d9095adbc3cc01b2","modified":1697619579008},{"_id":"source/_posts/kubernetes/image-2.png","hash":"8cf3b9cff450966ebfb92ce8064a3ff7fc999a1c","modified":1697619496901},{"_id":"source/_posts/kubernetes/image-26.png","hash":"eb6b5a407fe209b16f295dba705c53f81be24d3e","modified":1697619909607},{"_id":"source/_posts/kubernetes/image-25.png","hash":"eb6b5a407fe209b16f295dba705c53f81be24d3e","modified":1697619900099},{"_id":"source/_posts/kubernetes/image-27.png","hash":"eb6b5a407fe209b16f295dba705c53f81be24d3e","modified":1697619925471},{"_id":"source/_posts/kubernetes/image-28.png","hash":"eb6b5a407fe209b16f295dba705c53f81be24d3e","modified":1697619936771},{"_id":"source/_posts/kubernetes/image-29.png","hash":"eb6b5a407fe209b16f295dba705c53f81be24d3e","modified":1697620057858},{"_id":"source/_posts/kubernetes/image-16.png","hash":"7c0981723b4a22b60e2f1e5d2ed85b82735afec7","modified":1697619620123},{"_id":"source/_posts/kubernetes/image-17.png","hash":"7c0981723b4a22b60e2f1e5d2ed85b82735afec7","modified":1697619626943},{"_id":"source/_posts/kubernetes/image-21.png","hash":"bb110c2d27853f867fd2c701783dfc4d7900169e","modified":1697619678634},{"_id":"source/_posts/kubernetes/image-20.png","hash":"aee0b068cfdfc7ca5ee5c7a4571c704f766ef8ee","modified":1697619669930},{"_id":"source/_posts/kubernetes/image-3.png","hash":"a81a8f9bab8435537e5cd0fb019c67e7d6da17ea","modified":1697619509317},{"_id":"source/_posts/kubernetes/image-4.png","hash":"959af5ef59ac3a24e595faf6230f58bf0b33243e","modified":1697619515457},{"_id":"source/_posts/kubernetes/image-6.png","hash":"d872952ad5d1a85c93386637ccee9c518f4789ee","modified":1697619535316},{"_id":"source/_posts/kubernetes/image-7.png","hash":"425ad21cb2c5486d5c20685dfc36c556f34e715a","modified":1697619540588},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1691120115272},{"_id":"themes/butterfly/README.md","hash":"b5d6e7271b88d1a63755386442663af03e36a428","modified":1691120115276},{"_id":"themes/butterfly/README_CN.md","hash":"86569b94949392e9b981608433495f0941d20b0c","modified":1691120115276},{"_id":"themes/butterfly/_config.yml","hash":"be87170c21e91b4eac9ccf9a76eb5adf16f048c3","modified":1692857608301},{"_id":"themes/butterfly/package.json","hash":"1646604798f745ef068852772eb22239985ba731","modified":1691120115284},{"_id":"themes/butterfly/plugins.yml","hash":"d0e179ae31cdc62037062432b0ee7a9008155a73","modified":1691120115284},{"_id":"themes/butterfly/languages/default.yml","hash":"4025c0ba440eb24705dd0293ca9ca84efb3105cc","modified":1691120115276},{"_id":"themes/butterfly/languages/en.yml","hash":"4e9cdb7a3570929bcf082de7a4eac49140dddc73","modified":1691120115276},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"7dd849c3ba34986c57c764d9e36150b4bfffd2e9","modified":1691120115276},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"ee01e068f12dc33adfae5733824ea1255deb5ca6","modified":1691120115276},{"_id":"themes/butterfly/layout/archive.pug","hash":"a0c034c2d319320a54046805e80b58dc48b7e233","modified":1691120115276},{"_id":"themes/butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1691120115276},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1691120115284},{"_id":"themes/butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1691120115284},{"_id":"themes/butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1691120115284},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"aca0ec7ef69b21d1f242c62fed389468a0f0e1a2","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"02390a5b6ae1f57497b22ba2e6be9f13cfb7acac","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"dd9fde431add984330e3178e06a8d74705e7340e","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"7fa9ae4b70b87fc97e992dde5944681f92b59bea","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"4c85de4dea4dca4e5088097a79bd6d7009cbf8ef","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"d15124c488273ea0801a042888feadc9261d0b2f","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"9f0e9e039f304439007460fa0a7c8ac18e0ffd37","modified":1691120115276},{"_id":"themes/butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1691120115284},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"21fb5aabe043486d095c4c8cce361ed85ba88a26","modified":1691120115284},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"5351e0bc09e6b5b3f6d30f333a2520626a28ca3a","modified":1691120115284},{"_id":"themes/butterfly/scripts/events/init.js","hash":"428b94c7b9e83f7ea36227dee66bfe3c23aee4a8","modified":1691120115284},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"9819f0996234fbd80d6c50a9e526c56ebf22588d","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1691120115284},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"e00efdb5d02bc5c6eb4159e498af69fa61a7dbb9","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/findArchiveLength.js","hash":"9ea86bd7a3c3fca3324f70b1cd4d9e42f9efb08d","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"4238e06ff448ff2ee717cd4c874f37f04d35da06","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"ce5d5a3d07b0d76ac5e96e5f9e5783f4b601b6be","modified":1691120115284},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"4677be4175da6800c0b3b8c1614e593f73df8831","modified":1691120115284},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"932df912976261929f809b7dbd4eb473e7787345","modified":1691120115284},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"8d25f47434deae870bbffd07efe528a40363ab4d","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"91d954f6e9fe6e571eb8ec9f8996294b2dc3688e","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"950b3dbac0b21717458a8d1769cbfc454d0eff54","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"396c3ab1bcf1c7693ad7e506eadd13016c6769b6","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"531808a290b8bdd66bac2faab211ada8e9646a37","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"03b2afef41d02bd1045c89578a02402c28356006","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"d51812b43924f1bbf413c67499510dd125022005","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"ea679dfe12d0e2290113b4a9d00663ce7a5ee5ad","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1691120115284},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"6c6e415623d0fd39da016d9e353bb4f5cca444f5","modified":1691120115284},{"_id":"themes/butterfly/source/css/index.styl","hash":"755490867fd8afe47d5cce24faea2ca172b0c4dd","modified":1691120115292},{"_id":"themes/butterfly/source/css/var.styl","hash":"30abbb8eed880d51f61f336064d93abd709e0115","modified":1691120115292},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1691120115292},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1691120115292},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1691120115292},{"_id":"themes/butterfly/source/img/thumbbig-1221433.jpg","hash":"8c32ca61f09cf449dee0024a21972a3ad9c26eff","modified":1692857524894},{"_id":"themes/butterfly/source/js/main.js","hash":"0227b5bd233a3c66582e0ee820cdb353ce52ece1","modified":1691120115292},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"42b106354d72a0ea1fe62587b313a5b7de3cc393","modified":1691120115292},{"_id":"themes/butterfly/source/js/utils.js","hash":"aaaedc207440095da1ffabcad870fc2641befb0e","modified":1691120115292},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"944d6e9dd50df3395f3a2c7ad9db667d50dea4ed","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"f61659aa457d1a2d1baa3a13157996cfac4d6609","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"9698f22751778dde063cbfbd01c59ca4462ccd85","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"5de9a82032cdad1db3b868b797460921cd775fc2","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"67e1c3b48e4ca7ee0b2c76d3ca7476b9883cf105","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"75e7a524af64fbaaaf7b05a1b1922bf6940d7afe","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"a03b3ddc06e7aa9fd07eea0d5f97c8d5addd2315","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"8aa8d799aedbfd811195b84a451bc4b6e2647c12","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"9e8c5788602b29a527ef35fe8a20076a5fa969bd","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"131f344d68b4c241d6e03849b243ee792fcd3cea","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"6ab4e301c92586505d6cddce1b3ad23b7c79010d","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"90554c2ca5ba946f4c02e1bc5fe2859cef1b1594","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"1ed873db25eec869beebb6873f04e19f0b0f4134","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"f9ce83978b217a71a2eb8761dc14b09866faa3f4","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"9621991359e22b14049346f1cf87bdedc94edf5a","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"ebecba46a5f4efe1c98a386df06c56e26fbd07b9","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"864869c43fe5b5bb6f4ac6b13dd4bfb16ea47550","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"cde142861edfc7aab435b8a0ebb84d9ba450fb5b","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"8044b9c18b34b019ffe26b7383e7e80356b5e4b5","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"03c6afabbf1ac729c7fb21c7ec06da0190b0fdc7","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"7834bf7c711e739fd33cfcd0b53d151013b3d449","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"3057a2f6f051355e35d3b205121af8735100eacf","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e5aac7b28ed4123d75797263c64e74ac547945bc","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"eceb4420a64c720f0d2741e89d6229bbb3d87353","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"35ce167c5a275211bfc1fa3d49adfde5b404d98f","modified":1691120115284},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"010e3d548ababca2280c4fc4168d9a4a1ee4f536","modified":1691120115284},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"e0de61a059b5e6c7b8ebc7149b4650bdcd69af5e","modified":1691120115284},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"51868d861c94a9f1ad7c0dbd66d2f475c5d4ea62","modified":1691120115284},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"57a19eb0c418d92a88b143f56ccb8cd60e6d7ad0","modified":1691120115284},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"57adf29a3e36e4ea84384e36c034eb294dffb208","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"f9a5d3f1fc5ed0ed2ee4c1eaa58ed650d11ddebd","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"c61dccca690d486c3d9c29cf028d87b777385141","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"83a7a70eb0532ea9c4267939fe484af915fca01e","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"8cd2aaa32cd68cd1908c9001444a811c3d0f9267","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"fc9424d9c5def2201ec1d04dc79d0beedc1d2175","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"c5cfed620708807a48076b5ee59b0ba84e29aa80","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"bbc884d6b2158a833b77a1bbc07248e17874b22e","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"631ca35a38bc4ac052e9caf47508ff1f99842fc7","modified":1691120115288},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"5556c9bf4f53a90cb9b4945cd76a8849bd67f3f3","modified":1691120115288},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"e4f948b0d4eb5483b2b360e56cbfe3359751b438","modified":1691120115288},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"c481d1f689a4e6d7ee492a03751bda47a30225ce","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"c9e98027f2dd730ce389c2047f62ebb748955fcf","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"4e320e16d49bc18085045937681f7331a1e243ca","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"b3ea08d9460122751144a3ca835e009a460d6ad3","modified":1691120115288},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1691120115288},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"649a054e73278b6724bd4dd9b94724791ec5c928","modified":1691120115288},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"20a3134e1302b62bfc881f4ec43f398267111f22","modified":1691120115288},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"a86e4e9198b225b4b73a7a45f04b86cbbed0d231","modified":1691120115288},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"81ad85acf0e0fe7f9ee23c16a700e7154574d5dd","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"85ae91c83691ea4511f4277da1194a185251cc78","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"bf9568444dd54e39dc59b461323dcd38942f27d9","modified":1691120115292},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1691120115292},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1691120115292},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"fd86281d4f0f99ce173e49c1a0df3507fe268d37","modified":1691120115292},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"ed6906b7c6aa7046bbad95dfdda9211997be7099","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f58f1648d2d71311bafca4833f20b605bb5f18c8","modified":1691120115276},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"8509cbd954ee9e099dcfbbfdafba70893a56e9ae","modified":1691120115292},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"5f86add36eeffbed61d11f08972a13697b4d9437","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d85c3737b5c9548553a78b757a7698df126a52cf","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"0344477a2cf38698318ead2681c63ac12f01586e","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"d02f3cc9e6183e7d05c7e90e9ae1dee5ce21f297","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"618e1b7f9204049b07beb9e1363c844a78a9ace3","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/messenger.pug","hash":"e39a9c37adf4cb15a2ba3b2cc65542ffea88650d","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"dd61eca6e9a45f63e09bdefba89fe285a81ba096","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"5d5d8a0a3a7690d6d01e3feb91c2a36a5cd651b1","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"9ef303da16d180619da18b146ddb9bc35f66bdbf","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"6e17b2cea503eabeb328835038812cfa95f15871","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"0704efed9079c867ab5f7bee7381a6c869154c73","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"5127bc550a2edb1ab9f45416e1964c76e8201544","modified":1691120115276},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"2fc5627eb63118c83df9422b47c801822e28df98","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"35ae7980f658a349c5956c5699efd435b604b836","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"598790433e3c9be28b0063bff08d257acd0abf75","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"4d78f6266d0870c06c10eaf47c951bd4d9a7732e","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"2a8d02ed9303092e8816f6489a443e7388102470","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"e55b9c0f8ced231f47eb88bd7f4ec99f29c5c29d","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"0a1b8fe95623b095eb7ede3f30ca327684d1e613","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"dfcbd9881be569ea420eff1a6b00e4f4dbe2138e","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"d0ce1891b042dcc2c93cacc866e38721b94aa4c4","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"8c0d9a45bd2d83cc6d0e7bbfe172a09ff33c0178","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"4fe8faf77b8420fc031ae1b54f78b2ece9fcc07e","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"0330e3063ccf0ce40e4828b8d4fbef62362e8195","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"4ec0642f2d5444acfab570a6f8c7868e7ff43fde","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"44991d67abb81784c5cdb4337b2b9798fc4361e1","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"aa6061183a32472cd1882fce445a5049108a984b","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"b7b2aa5be4112065d5066c0f066f5f58721153bf","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"ae1ccd78926cc19399d396b237d5161d7cde44a8","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"9c3c109a12d2b6916e8b4965cca12f521510ead9","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"1c3e101445c5571ba998ce293d3984319df1b3b0","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"5ebd5e8d39c9f77f5b2d983f6cd6802ccaf98746","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"4c4a9c15215ae8ac5eadb0e086b278f76db9ee92","modified":1691120115280},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"c7dd2b2ae9b23aa0a60fffd7df9e9f76ef52033e","modified":1691120115280},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1691120115284},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1691120115284},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1691120115288},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1691120115288},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1691120115288},{"_id":"source/_posts/kubernetes/image-15.png","hash":"d32f59117d4817866be14e904b370cd265b0f784","modified":1697619614575},{"_id":"source/_posts/kubernetes/image-8.png","hash":"c19eff01c86dff878643104cabd691ad2d6eb2f3","modified":1697619548336},{"_id":"source/_posts/kubernetes/image-9.png","hash":"c19eff01c86dff878643104cabd691ad2d6eb2f3","modified":1697619554620},{"_id":"themes/butterfly/source/img/20230818103122.jpg","hash":"690b5dbaea6aff4c293708ec80de2ac601b3495c","modified":1692325954425},{"_id":"source/_posts/kubernetes/image-19.png","hash":"f9c0e4887ce3bcd96ea8a8396d49042bcbee3063","modified":1697619657446},{"_id":"source/_posts/kubernetes/image-24.png","hash":"b6c6757c1d0be6252a3b60d3b96e520f84ff599c","modified":1697619855624},{"_id":"source/_posts/kubernetes/image-13.png","hash":"f49833ea73f79f8dd1e0b510641d94c7bc79b14c","modified":1697619586691},{"_id":"source/_posts/kubernetes/image-14.png","hash":"f49833ea73f79f8dd1e0b510641d94c7bc79b14c","modified":1697619599783},{"_id":"source/_posts/kubernetes/image-5.png","hash":"c7c05824a660325f6b8ae10ed634158af50a3941","modified":1697619526600},{"_id":"source/_posts/kubernetes/image-18.png","hash":"7f214ee3a7bdfb4a347f5e9d5fb3ac1ea0d448ce","modified":1697619639199},{"_id":"themes/butterfly/source/img/20230823160932.png","hash":"9864346b852cb55c5fb3fdd45b80265e0f64bf20","modified":1692778176057},{"_id":"public/search.xml","hash":"db02aa79a899f26ed547a3572fa3d7e444e31bb1","modified":1698896091793},{"_id":"public/about/index.html","hash":"d7144e06d9024e32da767a71d3597eb0c65bbc30","modified":1698896091793},{"_id":"public/categories/index.html","hash":"e6bb7ec7a15e25090eadf5488fccf25d5566bde1","modified":1698896091793},{"_id":"public/link/index.html","hash":"f5df10913487f16d0f3af480699cde98c15fc8ca","modified":1698896091793},{"_id":"public/tags/index.html","hash":"35769e46f86028a91433dc6cb0650989862490ed","modified":1698896091793},{"_id":"public/2023/11/02/kubernetes/gateway/index.html","hash":"c962f979382649dbbfb2c4b6199fb58e7c985b17","modified":1698896091793},{"_id":"public/2023/11/02/kubernetes/kube-ovn-underlay/index.html","hash":"445963526e1b85110d79e888cce9d8f6b9f01153","modified":1698896091793},{"_id":"public/2023/10/31/kubernetes/grafana-dashboard/index.html","hash":"ca5ba31c73b5b68a4e919ad0070caa518bb0febd","modified":1698896091793},{"_id":"public/2023/10/27/linux/chrony/index.html","hash":"a6c3d523060d465672f639bc88b08540d0762bf8","modified":1698896091793},{"_id":"public/2023/10/18/kubernetes/deepflow-dashboard/index.html","hash":"f5687403ae5a6ed7cb9c1b17401a0f44e836a148","modified":1698896091793},{"_id":"public/2023/09/05/kubernetes/kibana-ilm/index.html","hash":"02a46cc7e4036f74524480e3a33eccd2ac6747f5","modified":1698896091793},{"_id":"public/2023/09/01/kubernetes/kubevirt-vm-expose/index.html","hash":"11aa44613c2dcd50850df62151d78061fcfed841","modified":1698896091793},{"_id":"public/2023/08/31/kubernetes/grafana-create-alert-rule/index.html","hash":"6f8655267cbd98f5c9739737fb68f9e0e570cdcb","modified":1698896091793},{"_id":"public/2023/08/25/kubernetes/metrics-server/index.html","hash":"6e908c51c237fcb26857d326808153aa0d70356f","modified":1698896091793},{"_id":"public/2023/08/24/kubernetes/efk/index.html","hash":"2e1aff550a2af31f4039937bef62612502516260","modified":1698896091793},{"_id":"public/2023/08/24/kubernetes/fluent_Bit_Fluentd/index.html","hash":"615b5e6144f9581ca67fdf7ce8f10136e6fbcbc7","modified":1698896091793},{"_id":"public/2023/08/23/golang/go_template/index.html","hash":"ebff75331d96598beb64cb07c87a0c86dd00d30d","modified":1698896091793},{"_id":"public/2023/08/23/docker/uninstall_docker/index.html","hash":"af9bb13a24cf102cbdafa168cbeaeb71e9e6395a","modified":1698896091793},{"_id":"public/2023/08/22/nodejs/install_nodejs/index.html","hash":"9782cac9d2261ef5a248329b12309449e793daf7","modified":1698896091793},{"_id":"public/2023/08/22/kubernetes/uninstall_cintainerd/index.html","hash":"ddf5986c87e8be75058af7f98bfd0c5ae03da38e","modified":1698896091793},{"_id":"public/2023/08/18/golang/last_version_mod/index.html","hash":"ba3c17692e6b283590f4c8a339af8f79a0c58a40","modified":1698896091793},{"_id":"public/2023/08/18/kubernetes/monitor/index.html","hash":"f966c3ddb5faee7771efe320ece001270288c34c","modified":1698896091793},{"_id":"public/2023/08/04/hello-world/index.html","hash":"b8ad2316c153c3ce63780663bee8f4d607592aa7","modified":1698896091793},{"_id":"public/archives/index.html","hash":"54b1656188ecefe01ded7bfab15866138aed71c9","modified":1698896091793},{"_id":"public/archives/page/2/index.html","hash":"bd9c6dd5f57113165691e3264910565d31d11584","modified":1698896091793},{"_id":"public/archives/2023/index.html","hash":"ddc92ef0419edfe750ce542fa5ed98563234aff1","modified":1698896091793},{"_id":"public/archives/2023/page/2/index.html","hash":"47bd4a5120dbb15db8cb7848035acbd37d5fff22","modified":1698896091793},{"_id":"public/archives/2023/08/index.html","hash":"2a67e6377699036887e5a981eeaf1aa17ff22f81","modified":1698896091793},{"_id":"public/archives/2023/08/page/2/index.html","hash":"2305cd022be062a6e1949499548bcaba33d3b85b","modified":1698896091793},{"_id":"public/archives/2023/09/index.html","hash":"fba701b080e2550e728db28c25b87206734f812c","modified":1698896091793},{"_id":"public/archives/2023/10/index.html","hash":"b29bd4835a30e91ae8a7178272ec282e2625fe92","modified":1698896091793},{"_id":"public/archives/2023/11/index.html","hash":"d5f628835b9cd39eeeaa1d1ca01530880aa9a3d9","modified":1698896091793},{"_id":"public/categories/docker/index.html","hash":"3c47e64024bc57e42145413cc47a6b1dbe446bb3","modified":1698896091793},{"_id":"public/categories/golang/index.html","hash":"6154da46afed444c8fe6eca396700888015d6c8e","modified":1698896091793},{"_id":"public/categories/linux/index.html","hash":"2b49f7dbd00fe0b2898b774351384767d77661db","modified":1698896091793},{"_id":"public/categories/kubernetes/index.html","hash":"e54f017776541c065c2976017fe657246d2a12ab","modified":1698896091793},{"_id":"public/categories/kubernetes/page/2/index.html","hash":"037ef32fdf285a6e185073d39c423369feb55451","modified":1698896091793},{"_id":"public/index.html","hash":"81d3c1b148f47eddb0c16e986a2eba2aa0ae7b70","modified":1698896091793},{"_id":"public/page/2/index.html","hash":"f96509c9d41a6c704721e5ecd70832eae4bea5a1","modified":1698896091793},{"_id":"public/tags/docker/index.html","hash":"df9d445d46d1db23317cac40031f6bf53facb430","modified":1698896091793},{"_id":"public/tags/golang/index.html","hash":"ce6c91525e6a9a74d132d82b2b298c95e85e1011","modified":1698896091793},{"_id":"public/tags/chrony/index.html","hash":"9c88f29a15dd5ac82353f825eefb8e1ee297171a","modified":1698896091793},{"_id":"public/tags/deepflow/index.html","hash":"3aad99456010db27275d3fa8528a4699b33238ef","modified":1698896091793},{"_id":"public/tags/logging/index.html","hash":"8558f426be86048ce41330e59a1a4a58ca9a7248","modified":1698896091793},{"_id":"public/tags/gateway/index.html","hash":"3201c5be6461bdf0bb34a136886edfc3f866171f","modified":1698896091793},{"_id":"public/tags/grafana/index.html","hash":"2281cccb75ed73993c8309e2380d16d25bf03cd2","modified":1698896091793},{"_id":"public/tags/kibana/index.html","hash":"6e7739362a45e9a40f12a67c81533fa37bbacf9a","modified":1698896091793},{"_id":"public/tags/kubeovn/index.html","hash":"89a3aafa2fb20d1447724de955cd481c7c2958d0","modified":1698896091793},{"_id":"public/tags/kubevirt/index.html","hash":"907a2851d9a6b13576799baa3cdc7a89afabaaea","modified":1698896091793},{"_id":"public/tags/kubernetes/index.html","hash":"b2cafd6c88c5c2f87a06f56ae3744b101c56e1b1","modified":1698896091793},{"_id":"public/tags/containerd/index.html","hash":"ee4974fba00a1827237ecf1848485f5c26066248","modified":1698896091793},{"_id":"public/tags/nodejs/index.html","hash":"c72dbfcd9a7e102a905ddf82bfef43e04f90f8a8","modified":1698896091793},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1698896091793},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1698896091793},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1698896091793},{"_id":"public/img/thumbbig-1221433.jpg","hash":"8c32ca61f09cf449dee0024a21972a3ad9c26eff","modified":1698896091793},{"_id":"public/img/20230818103122.jpg","hash":"690b5dbaea6aff4c293708ec80de2ac601b3495c","modified":1698896091793},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1698896091793},{"_id":"public/js/utils.js","hash":"aaaedc207440095da1ffabcad870fc2641befb0e","modified":1698896091793},{"_id":"public/js/search/algolia.js","hash":"fd86281d4f0f99ce173e49c1a0df3507fe268d37","modified":1698896091793},{"_id":"public/js/search/local-search.js","hash":"8509cbd954ee9e099dcfbbfdafba70893a56e9ae","modified":1698896091793},{"_id":"public/css/index.css","hash":"d2ac9ea2eda7e3436cf544deaafd55ae1e3a81e3","modified":1698896091793},{"_id":"public/js/main.js","hash":"0227b5bd233a3c66582e0ee820cdb353ce52ece1","modified":1698896091793},{"_id":"public/js/tw_cn.js","hash":"42b106354d72a0ea1fe62587b313a5b7de3cc393","modified":1698896091793},{"_id":"public/img/20230822143445.jpg","hash":"3a109901811ca6833fb3223189064fa867653bbf","modified":1698896091793},{"_id":"public/img/20230823160932.png","hash":"9864346b852cb55c5fb3fdd45b80265e0f64bf20","modified":1698896091793}],"Category":[{"name":"docker","_id":"clogmvawb000alsjx0qma6pq6"},{"name":"golang","_id":"clogmvawe000elsjx7bczgk1l"},{"name":"linux","_id":"clogmvawo000plsjxgy5g6m9b"},{"name":"kubernetes","_id":"clogmvawq000vlsjx6veu7lpk"}],"Data":[{"_id":"link","data":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}],"Page":[{"title":"about","date":"2023-08-04T03:17:19.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2023-08-04 11:17:19\n---\n","updated":"2023-08-04T03:17:19.026Z","path":"about/index.html","comments":1,"layout":"page","_id":"clogmvavi0000lsjxcneefynf","content":"","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":""},{"title":"categories","date":"2023-08-18T02:10:06.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-08-18 10:10:06\ntype: \"categories\"\n---\n","updated":"2023-08-18T02:10:31.370Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clogmvavw0002lsjxa1of0rzx","content":"","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":""},{"title":"link","date":"2023-08-18T02:10:46.000Z","type":"link","_content":"","source":"link/index.md","raw":"---\ntitle: link\ndate: 2023-08-18 10:10:46\ntype: \"link\"\n---\n","updated":"2023-08-18T02:11:20.798Z","path":"link/index.html","comments":1,"layout":"page","_id":"clogmvaw10004lsjx766bflwh","content":"","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":""},{"title":"tags","date":"2023-08-18T02:08:43.000Z","type":"tags","orderby":"name","order":1,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-08-18 10:08:43\ntype: \"tags\"\norderby: name\norder: 1\n---\n","updated":"2023-08-18T02:10:02.674Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clogmvaw40006lsjxd9i78gqh","content":"","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":""}],"Post":[{"title":"draft","_content":"","source":"_drafts/draft.md","raw":"---\ntitle: draft\ntags:\n---\n","slug":"draft","published":0,"date":"2023-08-18T02:53:22.494Z","updated":"2023-08-18T02:53:22.494Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvavo0001lsjxg1u8dx8a","content":"","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":""},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\ndependencies:\n* node, npm\n* sudo npm install -g hexo-cli\n* sudo npm install hexo\n* npm install hexo-deployer-git --save\n* npm install hexo-generator-search --save\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\ndependencies:\n* node, npm\n* sudo npm install -g hexo-cli\n* sudo npm install hexo\n* npm install hexo-deployer-git --save\n* npm install hexo-generator-search --save\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2023-08-04T02:11:25.933Z","updated":"2023-08-23T07:14:10.502Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvavx0003lsjxh0a35grt","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><p>dependencies:</p>\n<ul>\n<li>node, npm</li>\n<li>sudo npm install -g hexo-cli</li>\n<li>sudo npm install hexo</li>\n<li>npm install hexo-deployer-git save</li>\n<li>npm install hexo-generator-search save</li>\n</ul>\n<h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><p>dependencies:</p>\n<ul>\n<li>node, npm</li>\n<li>sudo npm install -g hexo-cli</li>\n<li>sudo npm install hexo</li>\n<li>npm install hexo-deployer-git save</li>\n<li>npm install hexo-generator-search save</li>\n</ul>\n<h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"uninstall docker","date":"2023-08-23T05:53:22.000Z","comments":1,"_content":"CentOS 7Docker\n\n1. Docker\n\n```\nsudo systemctl stop docker\n```\n\n2. Docker\n\n```\nsudo rm -rf /var/lib/docker\n```\n\n3. DockerDocker\n\n- Docker`yum`\n\n```\nsudo yum remove docker-ce docker-ce-cli containerd.io\n```\n\n- Docker`dnf`\n\n```\nsudo dnf remove docker-ce docker-ce-cli containerd.io\n```\n\n- DockerRPM\n\n```\nsudo rpm -e docker-ce docker-ce-cli containerd.io\n```\n\n4. \n\n```\nsudo rm -rf /etc/docker\nsudo rm -rf /etc/systemd/system/docker.service.d\n```\n\n5. \n\n```\nsudo groupdel docker\nsudo userdel docker\n```\n\nDocker","source":"_posts/docker/uninstall_docker.md","raw":"---\ntitle: uninstall docker\ndate: 2023-08-23 13:53:22\ncategories:\n  - [docker]\ntags: docker\ncomments: true\n---\nCentOS 7Docker\n\n1. Docker\n\n```\nsudo systemctl stop docker\n```\n\n2. Docker\n\n```\nsudo rm -rf /var/lib/docker\n```\n\n3. DockerDocker\n\n- Docker`yum`\n\n```\nsudo yum remove docker-ce docker-ce-cli containerd.io\n```\n\n- Docker`dnf`\n\n```\nsudo dnf remove docker-ce docker-ce-cli containerd.io\n```\n\n- DockerRPM\n\n```\nsudo rpm -e docker-ce docker-ce-cli containerd.io\n```\n\n4. \n\n```\nsudo rm -rf /etc/docker\nsudo rm -rf /etc/systemd/system/docker.service.d\n```\n\n5. \n\n```\nsudo groupdel docker\nsudo userdel docker\n```\n\nDocker","slug":"docker/uninstall_docker","published":1,"updated":"2023-08-24T05:52:19.606Z","layout":"post","photos":[],"link":"","_id":"clogmvaw20005lsjx6to8h5la","content":"<p>CentOS 7Docker</p>\n<ol>\n<li>Docker</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl stop docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>DockerDocker</li>\n</ol>\n<ul>\n<li>Docker<code>yum</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Docker<code>dnf</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo dnf remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>DockerRPM</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rpm -e docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /etc/docker</span><br><span class=\"line\">sudo rm -rf /etc/systemd/system/docker.service.d</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo groupdel docker</span><br><span class=\"line\">sudo userdel docker</span><br></pre></td></tr></table></figure>\n\n<p>Docker</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>CentOS 7Docker</p>\n<ol>\n<li>Docker</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl stop docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>DockerDocker</li>\n</ol>\n<ul>\n<li>Docker<code>yum</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Docker<code>dnf</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo dnf remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>DockerRPM</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rpm -e docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm -rf /etc/docker</span><br><span class=\"line\">sudo rm -rf /etc/systemd/system/docker.service.d</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo groupdel docker</span><br><span class=\"line\">sudo userdel docker</span><br></pre></td></tr></table></figure>\n\n<p>Docker</p>\n"},{"title":"golang","date":"2023-08-23T06:52:39.000Z","_content":"Go`text/template``html/template``html/template`\n\n`text/template``html/template`\n\n1. \n\n   `{{/*  */}}`\n\n   \n   ```\n   {{/* This is a comment */}}\n   ```\n\n2. \n\n   `{{.}}`\n\n   \n   ```\n   {{.}}  // \n   ```\n\n3. \n\n   `{{if .Condition}} ... {{else}} ... {{end}}`\n\n   \n   ```\n   {{if .Condition}}\n       True Block\n   {{else}}\n       False Block\n   {{end}}\n   ```\n\n4. \n\n   `{{range .Slice}} ... {{end}}`\n\n   \n   ```\n   {{range .Slice}}\n       {{.}}  // .\n   {{end}}\n   ```\n\n5. \n\n   `{{with .Variable}} ... {{end}}`\n\n   \n   ```\n   {{with .Variable}}\n       {{.}}  // \n   {{end}}\n   ```\n\n6. \n\n   `{{ 1 2 ...}}`\n\n   \n   ```\n   {{len .String}}  // len\n   ```\n\n7. \n\n   `{{template \"\" .}}`\n\n   \n   ```\n   {{template \"header\" .PageTitle}}  // \"header\".PageTitle\n   ```\n\nHTMLGohttps://golang.org/pkg/html/template/\n\nGoGo\n\n\n\n1. `and`\n\n```\n{{and true true}}  // true\n{{and true false}} // false\n```\n\n2. `or`\n\n```\n{{or true true}}  // true\n{{or true false}} // true\n```\n\n3. `not`\n\n```\n{{not true}}  // false\n{{not false}} // true\n```\n\n4. `eq`\n\n```\n{{eq 10 10}}   // true\n{{eq \"abc\" \"def\"}} // false\n```\n\n5. `ne`\n\n```\n{{ne 10 20}}   // true\n{{ne \"abc\" \"abc\"}} // false\n```\n\n6. `lt`\n\n```\n{{lt 10 20}}   // true\n{{lt \"abc\" \"def\"}} // true\n```\n\n7. `le`\n\n```\n{{le 20 20}}   // true\n{{le \"abc\" \"def\"}} // true\n```\n\n8. `gt`\n\n```\n{{gt 20 10}}   // true\n{{gt \"def\" \"abc\"}} // true\n```\n\n9. `ge`\n\n```\n{{ge 20 20}}   // true\n{{ge \"def\" \"abc\"}} // true\n```\n\n10. `len`\n\n```\n{{len \"hello\"}}  // 5\n{{len .slice}}   // \n```\n\n","source":"_posts/golang/go_template.md","raw":"---\ntitle: golang\ndate: 2023-08-23 14:52:39\ncategories:\n  - [golang]\ntags: golang\n---\nGo`text/template``html/template``html/template`\n\n`text/template``html/template`\n\n1. \n\n   `{{/*  */}}`\n\n   \n   ```\n   {{/* This is a comment */}}\n   ```\n\n2. \n\n   `{{.}}`\n\n   \n   ```\n   {{.}}  // \n   ```\n\n3. \n\n   `{{if .Condition}} ... {{else}} ... {{end}}`\n\n   \n   ```\n   {{if .Condition}}\n       True Block\n   {{else}}\n       False Block\n   {{end}}\n   ```\n\n4. \n\n   `{{range .Slice}} ... {{end}}`\n\n   \n   ```\n   {{range .Slice}}\n       {{.}}  // .\n   {{end}}\n   ```\n\n5. \n\n   `{{with .Variable}} ... {{end}}`\n\n   \n   ```\n   {{with .Variable}}\n       {{.}}  // \n   {{end}}\n   ```\n\n6. \n\n   `{{ 1 2 ...}}`\n\n   \n   ```\n   {{len .String}}  // len\n   ```\n\n7. \n\n   `{{template \"\" .}}`\n\n   \n   ```\n   {{template \"header\" .PageTitle}}  // \"header\".PageTitle\n   ```\n\nHTMLGohttps://golang.org/pkg/html/template/\n\nGoGo\n\n\n\n1. `and`\n\n```\n{{and true true}}  // true\n{{and true false}} // false\n```\n\n2. `or`\n\n```\n{{or true true}}  // true\n{{or true false}} // true\n```\n\n3. `not`\n\n```\n{{not true}}  // false\n{{not false}} // true\n```\n\n4. `eq`\n\n```\n{{eq 10 10}}   // true\n{{eq \"abc\" \"def\"}} // false\n```\n\n5. `ne`\n\n```\n{{ne 10 20}}   // true\n{{ne \"abc\" \"abc\"}} // false\n```\n\n6. `lt`\n\n```\n{{lt 10 20}}   // true\n{{lt \"abc\" \"def\"}} // true\n```\n\n7. `le`\n\n```\n{{le 20 20}}   // true\n{{le \"abc\" \"def\"}} // true\n```\n\n8. `gt`\n\n```\n{{gt 20 10}}   // true\n{{gt \"def\" \"abc\"}} // true\n```\n\n9. `ge`\n\n```\n{{ge 20 20}}   // true\n{{ge \"def\" \"abc\"}} // true\n```\n\n10. `len`\n\n```\n{{len \"hello\"}}  // 5\n{{len .slice}}   // \n```\n\n","slug":"golang/go_template","published":1,"updated":"2023-08-23T06:55:23.180Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvaw50007lsjx8t1efzt0","content":"<p>Go<code>text/template</code><code>html/template</code><code>html/template</code></p>\n<p><code>text/template</code><code>html/template</code></p>\n<ol>\n<li><p></p>\n<p><code>&#123;&#123;/*  */&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;/* This is a comment */&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;.&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;.&#125;&#125;  // </span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;if .Condition&#125;&#125; ... &#123;&#123;else&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;if .Condition&#125;&#125;</span><br><span class=\"line\">    True Block</span><br><span class=\"line\">&#123;&#123;else&#125;&#125;</span><br><span class=\"line\">    False Block</span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;range .Slice&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;range .Slice&#125;&#125;</span><br><span class=\"line\">    &#123;&#123;.&#125;&#125;  // .</span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;with .Variable&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;with .Variable&#125;&#125;</span><br><span class=\"line\">    &#123;&#123;.&#125;&#125;  // </span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123; 1 2 ...&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;len .String&#125;&#125;  // len</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;template \"\" .&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;template &quot;header&quot; .PageTitle&#125;&#125;  // &quot;header&quot;.PageTitle</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>HTMLGo<a href=\"https://golang.org/pkg/html/template/\">https://golang.org/pkg/html/template/</a></p>\n<p>GoGo</p>\n<p></p>\n<ol>\n<li><p><code>and</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;and true true&#125;&#125;  // true</span><br><span class=\"line\">&#123;&#123;and true false&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>or</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;or true true&#125;&#125;  // true</span><br><span class=\"line\">&#123;&#123;or true false&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>not</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;not true&#125;&#125;  // false</span><br><span class=\"line\">&#123;&#123;not false&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>eq</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;eq 10 10&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;eq &quot;abc&quot; &quot;def&quot;&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>ne</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;ne 10 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;ne &quot;abc&quot; &quot;abc&quot;&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>lt</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;lt 10 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;lt &quot;abc&quot; &quot;def&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>le</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;le 20 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;le &quot;abc&quot; &quot;def&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>gt</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;gt 20 10&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;gt &quot;def&quot; &quot;abc&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>ge</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;ge 20 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;ge &quot;def&quot; &quot;abc&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>len</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;len &quot;hello&quot;&#125;&#125;  // 5</span><br><span class=\"line\">&#123;&#123;len .slice&#125;&#125;   // </span><br></pre></td></tr></table></figure></li>\n</ol>\n<p></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>Go<code>text/template</code><code>html/template</code><code>html/template</code></p>\n<p><code>text/template</code><code>html/template</code></p>\n<ol>\n<li><p></p>\n<p><code>&#123;&#123;/*  */&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;/* This is a comment */&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;.&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;.&#125;&#125;  // </span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;if .Condition&#125;&#125; ... &#123;&#123;else&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;if .Condition&#125;&#125;</span><br><span class=\"line\">    True Block</span><br><span class=\"line\">&#123;&#123;else&#125;&#125;</span><br><span class=\"line\">    False Block</span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;range .Slice&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;range .Slice&#125;&#125;</span><br><span class=\"line\">    &#123;&#123;.&#125;&#125;  // .</span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;with .Variable&#125;&#125; ... &#123;&#123;end&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;with .Variable&#125;&#125;</span><br><span class=\"line\">    &#123;&#123;.&#125;&#125;  // </span><br><span class=\"line\">&#123;&#123;end&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123; 1 2 ...&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;len .String&#125;&#125;  // len</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p><code>&#123;&#123;template \"\" .&#125;&#125;</code></p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;template &quot;header&quot; .PageTitle&#125;&#125;  // &quot;header&quot;.PageTitle</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>HTMLGo<a href=\"https://golang.org/pkg/html/template/\">https://golang.org/pkg/html/template/</a></p>\n<p>GoGo</p>\n<p></p>\n<ol>\n<li><p><code>and</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;and true true&#125;&#125;  // true</span><br><span class=\"line\">&#123;&#123;and true false&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>or</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;or true true&#125;&#125;  // true</span><br><span class=\"line\">&#123;&#123;or true false&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>not</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;not true&#125;&#125;  // false</span><br><span class=\"line\">&#123;&#123;not false&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>eq</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;eq 10 10&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;eq &quot;abc&quot; &quot;def&quot;&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>ne</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;ne 10 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;ne &quot;abc&quot; &quot;abc&quot;&#125;&#125; // false</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>lt</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;lt 10 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;lt &quot;abc&quot; &quot;def&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>le</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;le 20 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;le &quot;abc&quot; &quot;def&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>gt</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;gt 20 10&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;gt &quot;def&quot; &quot;abc&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>ge</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;ge 20 20&#125;&#125;   // true</span><br><span class=\"line\">&#123;&#123;ge &quot;def&quot; &quot;abc&quot;&#125;&#125; // true</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>len</code><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;len &quot;hello&quot;&#125;&#125;  // 5</span><br><span class=\"line\">&#123;&#123;len .slice&#125;&#125;   // </span><br></pre></td></tr></table></figure></li>\n</ol>\n<p></p>\n"},{"title":"go mod","date":"2023-08-18T10:49:14.000Z","_content":"\n github.com/linuxsuren/go-fake-runtime v0.0.1\n\ngo.mod\n\n\tgithub.com/linuxsuren/go-fake-runtime v0.0.1\n\ngithub.com/linuxsuren/go-fake-runtimecommit hash25fa814c6232e545f5bce03bd4db04fc37e10250\n\ngo.mod\n```\ngithub.com/linuxsuren/go-fake-runtime 25fa814c6232e545f5bce03bd4db04fc37e10250\n```\ngo mod tidy,go.mod\n```\ngithub.com/linuxsuren/go-fake-runtime v0.0.2-0.20230815071200-25fa814c6232\n```\ngithub.com/linuxsuren/go-fake-runtimev0.0.1commit\n\n","source":"_posts/golang/last_version_mod.md","raw":"---\ntitle: go mod\ndate: 2023-08-18 18:49:14\ncategories:\n  - [golang]\ntags: golang\n---\n\n github.com/linuxsuren/go-fake-runtime v0.0.1\n\ngo.mod\n\n\tgithub.com/linuxsuren/go-fake-runtime v0.0.1\n\ngithub.com/linuxsuren/go-fake-runtimecommit hash25fa814c6232e545f5bce03bd4db04fc37e10250\n\ngo.mod\n```\ngithub.com/linuxsuren/go-fake-runtime 25fa814c6232e545f5bce03bd4db04fc37e10250\n```\ngo mod tidy,go.mod\n```\ngithub.com/linuxsuren/go-fake-runtime v0.0.2-0.20230815071200-25fa814c6232\n```\ngithub.com/linuxsuren/go-fake-runtimev0.0.1commit\n\n","slug":"golang/last_version_mod","published":1,"updated":"2023-08-23T06:55:29.952Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawa0009lsjxdf494now","content":"<p><br> github.com&#x2F;linuxsuren&#x2F;go-fake-runtime v0.0.1</p>\n<p>go.mod</p>\n<pre><code>github.com/linuxsuren/go-fake-runtime v0.0.1\n</code></pre>\n<p>github.com&#x2F;linuxsuren&#x2F;go-fake-runtimecommit hash25fa814c6232e545f5bce03bd4db04fc37e10250</p>\n<p>go.mod</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">github.com/linuxsuren/go-fake-runtime 25fa814c6232e545f5bce03bd4db04fc37e10250</span><br></pre></td></tr></table></figure>\n<p>go mod tidy,go.mod</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">github.com/linuxsuren/go-fake-runtime v0.0.2-0.20230815071200-25fa814c6232</span><br></pre></td></tr></table></figure>\n<p>github.com&#x2F;linuxsuren&#x2F;go-fake-runtimev0.0.1commit</p>\n<p></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p><br> github.com&#x2F;linuxsuren&#x2F;go-fake-runtime v0.0.1</p>\n<p>go.mod</p>\n<pre><code>github.com/linuxsuren/go-fake-runtime v0.0.1\n</code></pre>\n<p>github.com&#x2F;linuxsuren&#x2F;go-fake-runtimecommit hash25fa814c6232e545f5bce03bd4db04fc37e10250</p>\n<p>go.mod</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">github.com/linuxsuren/go-fake-runtime 25fa814c6232e545f5bce03bd4db04fc37e10250</span><br></pre></td></tr></table></figure>\n<p>go mod tidy,go.mod</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">github.com/linuxsuren/go-fake-runtime v0.0.2-0.20230815071200-25fa814c6232</span><br></pre></td></tr></table></figure>\n<p>github.com&#x2F;linuxsuren&#x2F;go-fake-runtimev0.0.1commit</p>\n<p></p>\n"},{"title":"chrony","date":"2023-10-27T06:38:29.000Z","_content":"\n# 1. \nKubernetes\n\nKubernetes\n\nKubernetes\nKubernetes\nKubernetes\n\nchrony\n\n#2. chrony\nubuntuchrony/etc/chrony/chrony.conf \n```\n# Welcome to the chrony configuration file. See chrony.conf(5) for more\nserver 192.168.0.206 iburst  #\nserver ntp.aliyun.com iburst #ntp server\nserver time1.cloud.tencent.com iburst\n# information about usuable directives.\n\n# This will use (up to):\n# - 4 sources from ntp.ubuntu.com which some are ipv6 enabled\n# - 2 sources from 2.ubuntu.pool.ntp.org which is ipv6 enabled as well\n# - 1 source from [01].ubuntu.pool.ntp.org each (ipv4 only atm)\n# This means by default, up to 6 dual-stack and up to 2 additional IPv4-only\n# sources will be used.\n# At the same time it retains some protection against one of the entries being\n# down (compare to just using one of the lines). See (LP: #1754358) for the\n# discussion.\n#\n# About using servers from the NTP Pool Project in general see (LP: #104525).\n# Approved by Ubuntu Technical Board on 2011-02-08.\n# See http://www.pool.ntp.org/join.html for more information.\npool ntp.ubuntu.com        iburst maxsources 4\npool 0.ubuntu.pool.ntp.org iburst maxsources 1\npool 1.ubuntu.pool.ntp.org iburst maxsources 1\npool 2.ubuntu.pool.ntp.org iburst maxsources 2\n\n# This directive specify the location of the file containing ID/key pairs for\n# NTP authentication.\nkeyfile /etc/chrony/chrony.keys\n\n# This directive specify the file into which chronyd will store the rate\n# information.\ndriftfile /var/lib/chrony/chrony.drift\n\n# Uncomment the following line to turn logging on.\n#log tracking measurements statistics\n\n# Log files location.\nlogdir /var/log/chrony\n\n# Stop bad estimates upsetting machine clock.\nmaxupdateskew 100.0\n\n# This directive enables kernel synchronisation (every 11 minutes) of the\n# real-time clock. Note that it cant be used along with the 'rtcfile' directive.\nrtcsync\n\n# Step the system clock instead of slewing it if the adjustment is larger than\n# one second, but only in the first three clock updates.\nmakestep 1 3 #makestep 3 -1 \n\nallow all #ip\n\nlocal stratum 10 #\n```\n# 3. \n\ntimedatectl set-time \"2023-10-2712:30:50\" \nchronyc tracking \nchronyc sources -v\nchronyc makestep\nsystemctl status chronyd chronyd\nsystemctl restart chronyd: chronyd\n\n","source":"_posts/linux/chrony.md","raw":"---\ntitle: chrony\ndate: 2023-10-27 14:38:29\ncategories:\n  - [linux]\ntags: chrony\n---\n\n# 1. \nKubernetes\n\nKubernetes\n\nKubernetes\nKubernetes\nKubernetes\n\nchrony\n\n#2. chrony\nubuntuchrony/etc/chrony/chrony.conf \n```\n# Welcome to the chrony configuration file. See chrony.conf(5) for more\nserver 192.168.0.206 iburst  #\nserver ntp.aliyun.com iburst #ntp server\nserver time1.cloud.tencent.com iburst\n# information about usuable directives.\n\n# This will use (up to):\n# - 4 sources from ntp.ubuntu.com which some are ipv6 enabled\n# - 2 sources from 2.ubuntu.pool.ntp.org which is ipv6 enabled as well\n# - 1 source from [01].ubuntu.pool.ntp.org each (ipv4 only atm)\n# This means by default, up to 6 dual-stack and up to 2 additional IPv4-only\n# sources will be used.\n# At the same time it retains some protection against one of the entries being\n# down (compare to just using one of the lines). See (LP: #1754358) for the\n# discussion.\n#\n# About using servers from the NTP Pool Project in general see (LP: #104525).\n# Approved by Ubuntu Technical Board on 2011-02-08.\n# See http://www.pool.ntp.org/join.html for more information.\npool ntp.ubuntu.com        iburst maxsources 4\npool 0.ubuntu.pool.ntp.org iburst maxsources 1\npool 1.ubuntu.pool.ntp.org iburst maxsources 1\npool 2.ubuntu.pool.ntp.org iburst maxsources 2\n\n# This directive specify the location of the file containing ID/key pairs for\n# NTP authentication.\nkeyfile /etc/chrony/chrony.keys\n\n# This directive specify the file into which chronyd will store the rate\n# information.\ndriftfile /var/lib/chrony/chrony.drift\n\n# Uncomment the following line to turn logging on.\n#log tracking measurements statistics\n\n# Log files location.\nlogdir /var/log/chrony\n\n# Stop bad estimates upsetting machine clock.\nmaxupdateskew 100.0\n\n# This directive enables kernel synchronisation (every 11 minutes) of the\n# real-time clock. Note that it cant be used along with the 'rtcfile' directive.\nrtcsync\n\n# Step the system clock instead of slewing it if the adjustment is larger than\n# one second, but only in the first three clock updates.\nmakestep 1 3 #makestep 3 -1 \n\nallow all #ip\n\nlocal stratum 10 #\n```\n# 3. \n\ntimedatectl set-time \"2023-10-2712:30:50\" \nchronyc tracking \nchronyc sources -v\nchronyc makestep\nsystemctl status chronyd chronyd\nsystemctl restart chronyd: chronyd\n\n","slug":"linux/chrony","published":1,"updated":"2023-10-27T07:08:31.967Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawc000blsjxhiezbv3w","content":"<p></p>\n<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h1><p>Kubernetes</p>\n<p>Kubernetes<br><br>Kubernetes<br>Kubernetes<br>Kubernetes<br><br>chrony</p>\n<p>#2. chrony<br>ubuntuchrony&#x2F;etc&#x2F;chrony&#x2F;chrony.conf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Welcome to the chrony configuration file. See chrony.conf(5) for more</span><br><span class=\"line\">server 192.168.0.206 iburst  #</span><br><span class=\"line\">server ntp.aliyun.com iburst #ntp server</span><br><span class=\"line\">server time1.cloud.tencent.com iburst</span><br><span class=\"line\"># information about usuable directives.</span><br><span class=\"line\"></span><br><span class=\"line\"># This will use (up to):</span><br><span class=\"line\"># - 4 sources from ntp.ubuntu.com which some are ipv6 enabled</span><br><span class=\"line\"># - 2 sources from 2.ubuntu.pool.ntp.org which is ipv6 enabled as well</span><br><span class=\"line\"># - 1 source from [01].ubuntu.pool.ntp.org each (ipv4 only atm)</span><br><span class=\"line\"># This means by default, up to 6 dual-stack and up to 2 additional IPv4-only</span><br><span class=\"line\"># sources will be used.</span><br><span class=\"line\"># At the same time it retains some protection against one of the entries being</span><br><span class=\"line\"># down (compare to just using one of the lines). See (LP: #1754358) for the</span><br><span class=\"line\"># discussion.</span><br><span class=\"line\">#</span><br><span class=\"line\"># About using servers from the NTP Pool Project in general see (LP: #104525).</span><br><span class=\"line\"># Approved by Ubuntu Technical Board on 2011-02-08.</span><br><span class=\"line\"># See http://www.pool.ntp.org/join.html for more information.</span><br><span class=\"line\">pool ntp.ubuntu.com        iburst maxsources 4</span><br><span class=\"line\">pool 0.ubuntu.pool.ntp.org iburst maxsources 1</span><br><span class=\"line\">pool 1.ubuntu.pool.ntp.org iburst maxsources 1</span><br><span class=\"line\">pool 2.ubuntu.pool.ntp.org iburst maxsources 2</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive specify the location of the file containing ID/key pairs for</span><br><span class=\"line\"># NTP authentication.</span><br><span class=\"line\">keyfile /etc/chrony/chrony.keys</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive specify the file into which chronyd will store the rate</span><br><span class=\"line\"># information.</span><br><span class=\"line\">driftfile /var/lib/chrony/chrony.drift</span><br><span class=\"line\"></span><br><span class=\"line\"># Uncomment the following line to turn logging on.</span><br><span class=\"line\">#log tracking measurements statistics</span><br><span class=\"line\"></span><br><span class=\"line\"># Log files location.</span><br><span class=\"line\">logdir /var/log/chrony</span><br><span class=\"line\"></span><br><span class=\"line\"># Stop bad estimates upsetting machine clock.</span><br><span class=\"line\">maxupdateskew 100.0</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive enables kernel synchronisation (every 11 minutes) of the</span><br><span class=\"line\"># real-time clock. Note that it cant be used along with the &#x27;rtcfile&#x27; directive.</span><br><span class=\"line\">rtcsync</span><br><span class=\"line\"></span><br><span class=\"line\"># Step the system clock instead of slewing it if the adjustment is larger than</span><br><span class=\"line\"># one second, but only in the first three clock updates.</span><br><span class=\"line\">makestep 1 3 #makestep 3 -1 </span><br><span class=\"line\"></span><br><span class=\"line\">allow all #ip</span><br><span class=\"line\"></span><br><span class=\"line\">local stratum 10 #</span><br></pre></td></tr></table></figure>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h1><p>timedatectl set-time 2023-10-2712:30:50 <br>chronyc tracking <br>chronyc sources -v<br>chronyc makestep<br>systemctl status chronyd chronyd<br>systemctl restart chronyd: chronyd</p>\n<p></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p></p>\n<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h1><p>Kubernetes</p>\n<p>Kubernetes<br><br>Kubernetes<br>Kubernetes<br>Kubernetes<br><br>chrony</p>\n<p>#2. chrony<br>ubuntuchrony&#x2F;etc&#x2F;chrony&#x2F;chrony.conf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Welcome to the chrony configuration file. See chrony.conf(5) for more</span><br><span class=\"line\">server 192.168.0.206 iburst  #</span><br><span class=\"line\">server ntp.aliyun.com iburst #ntp server</span><br><span class=\"line\">server time1.cloud.tencent.com iburst</span><br><span class=\"line\"># information about usuable directives.</span><br><span class=\"line\"></span><br><span class=\"line\"># This will use (up to):</span><br><span class=\"line\"># - 4 sources from ntp.ubuntu.com which some are ipv6 enabled</span><br><span class=\"line\"># - 2 sources from 2.ubuntu.pool.ntp.org which is ipv6 enabled as well</span><br><span class=\"line\"># - 1 source from [01].ubuntu.pool.ntp.org each (ipv4 only atm)</span><br><span class=\"line\"># This means by default, up to 6 dual-stack and up to 2 additional IPv4-only</span><br><span class=\"line\"># sources will be used.</span><br><span class=\"line\"># At the same time it retains some protection against one of the entries being</span><br><span class=\"line\"># down (compare to just using one of the lines). See (LP: #1754358) for the</span><br><span class=\"line\"># discussion.</span><br><span class=\"line\">#</span><br><span class=\"line\"># About using servers from the NTP Pool Project in general see (LP: #104525).</span><br><span class=\"line\"># Approved by Ubuntu Technical Board on 2011-02-08.</span><br><span class=\"line\"># See http://www.pool.ntp.org/join.html for more information.</span><br><span class=\"line\">pool ntp.ubuntu.com        iburst maxsources 4</span><br><span class=\"line\">pool 0.ubuntu.pool.ntp.org iburst maxsources 1</span><br><span class=\"line\">pool 1.ubuntu.pool.ntp.org iburst maxsources 1</span><br><span class=\"line\">pool 2.ubuntu.pool.ntp.org iburst maxsources 2</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive specify the location of the file containing ID/key pairs for</span><br><span class=\"line\"># NTP authentication.</span><br><span class=\"line\">keyfile /etc/chrony/chrony.keys</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive specify the file into which chronyd will store the rate</span><br><span class=\"line\"># information.</span><br><span class=\"line\">driftfile /var/lib/chrony/chrony.drift</span><br><span class=\"line\"></span><br><span class=\"line\"># Uncomment the following line to turn logging on.</span><br><span class=\"line\">#log tracking measurements statistics</span><br><span class=\"line\"></span><br><span class=\"line\"># Log files location.</span><br><span class=\"line\">logdir /var/log/chrony</span><br><span class=\"line\"></span><br><span class=\"line\"># Stop bad estimates upsetting machine clock.</span><br><span class=\"line\">maxupdateskew 100.0</span><br><span class=\"line\"></span><br><span class=\"line\"># This directive enables kernel synchronisation (every 11 minutes) of the</span><br><span class=\"line\"># real-time clock. Note that it cant be used along with the &#x27;rtcfile&#x27; directive.</span><br><span class=\"line\">rtcsync</span><br><span class=\"line\"></span><br><span class=\"line\"># Step the system clock instead of slewing it if the adjustment is larger than</span><br><span class=\"line\"># one second, but only in the first three clock updates.</span><br><span class=\"line\">makestep 1 3 #makestep 3 -1 </span><br><span class=\"line\"></span><br><span class=\"line\">allow all #ip</span><br><span class=\"line\"></span><br><span class=\"line\">local stratum 10 #</span><br></pre></td></tr></table></figure>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h1><p>timedatectl set-time 2023-10-2712:30:50 <br>chronyc tracking <br>chronyc sources -v<br>chronyc makestep<br>systemctl status chronyd chronyd<br>systemctl restart chronyd: chronyd</p>\n<p></p>\n"},{"title":"deepflow dashboard","date":"2023-10-18T08:54:51.000Z","_content":"1. Application-Service List\ndashboardService ListEndPoint List\n1.2 Service List\n![Alt text](image.png)\n Data Source DeepFlow\n auto_service service\n app_service:  app_service\n signal_source: \nAuto Service\nApp Service\nSignal Source\nRequest Rate\nDelay Avg\nDelay P75\nClient Error Ratio\nServer Error Ratio\nk8sservice name\n\n\nPacket (cBPF)eBPFOTel\n \n\n75%\n / client_error / response\n / server_error / response\n1.3 Endpoint List\n![Alt text](image-1.png)\n\n2. Application - Cloud Host\ndashboardkubernetes\n![Alt text](image-2.png)\n vm: \n protocol: \nchost\nProtocol\nRequest\nClient error\nServer error\nLatency\n\n\n\n\n\n\n3. Application - Cloud Host Map\ndashboardMapserverclient\n3.1 \n![Alt text](image-3.png)\n3.2 \n![Alt text](image-4.png)\n4. Application - DNS Monitoring\ndashborddnsDNS TopoDNS\n\n4.1 Total RequestDNS TopoDelay DistributionError\n![Alt text](image-5.png)\nDNSDNSClient Error(by client)\n4.2 Server Error RatioTime OutDelay\n![Alt text](image-6.png)\nDNS\n4.3 RequestLog AnalysisRequest log Delay DistributionRequest Log\n![Alt text](image-7.png)\n Request: DNS\n Log Analysis: DNSRequest Logby response descNon-Existent DomainRequest Log Delay DistributionReqeust Log\n5. Dubbo Monitoring - K8S\n![Alt text](image-8.png)\n\nDubbo\n6. Application - K8s Ingress\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/31b5dcc3-e80c-44df-b008-63f844c2fba3.png)\n\nIngress\n7. Application - K8s Pod\ndashboardpod\n![Alt text](image-10.png)\ndeepflow-ebpf-spring-demo\n namespace: namespacedeepflow-ebpf-spring-demo\n workload\n protocol\n7.1 Request\nredis-master-0 Redisredis-master-0podRedisMin0.667 req/s, Mean1.26 req/s1.33 req/s\n7.2 Server error\npod\n7.3 Latency\npod\n7.4 Pod List\npod,\n8. Application - K8s Pod Map\ndashboardpodmap,\ndeepflow-ebpf-spring-demo\n namespace: namespacedeepflow-ebpf-spring-demo\n workload\n protocol\n8.1 Show client\n![Alt text](image-11.png)\nnamespacepodclientserver\n8.2 Show server\n![Alt text](image-12.png)\nnamespacepodclientserver\n9. Application - Redis Monitoring - Cloud\ndashboardredisTOP N redis\n![Alt text](image-13.png)\n Cloud Host: redis\n IP: IPredis\n10. Application - Redis Monitoring - K8S\ndashboardredisTOP N redis\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/7a2ab804-36f5-4ef2-a9fc-dc4a477851c7.png)\n cluster \n Redis Service: redis\n redis willdCard\n Tap Side \n1.  Application - Request Log\ndashboard\n![Alt text](image-15.png)\n clusternamespaceworkloadprotocolrequest_typereqeust_resourcestatus\n Summary count: \n Error Count: \n Latency histogram: \n Request log: Start time()Client()Server()Tap Side()Protocol()App Protocol()Request type()Request domain()Request resource()Response Status()Response Code()Response Delay()\n1.  Application - Request Log - Cloud\n\n![Alt text](image-16.png)\ndashboradApplication - Request Log\n vm: \n protocol: \n request_type: \n reqeust_resource\n status\n13. Application - SQL Monitoring - Cloud\n![Alt text](image-18.png)\ndashboarmysql\n client()DB Host()DB IP(IP)Client For SQL AnalysisSQL.\n topoSQLSQL StatementRequest TypeAffectedRowsSQL\n14. Application - SQL Monitoring - K8S\n![Alt text](image-19.png)\ndashboarmysqlSQL Monitoring - Cloud\n client: \n DB Cluster: \n DB Service:  \n DB Wildcard: \n Tap Side: \n Client For SQL AnalysisSQL\n15. Distributed Tracing\n![Alt text](image-20.png)\ndashboardRequest_idFlame Graph()Service ListServiceRequest LogRelated Data\n N  BPF  Span\n S:   eBPF  Span\nSpan ,trace  spantrace span span  trace \n16. Distributed Tracing - Cloud\n![Alt text](image-21.png)\ndashboardDistributed Tracing\n vm: \n trace_id tarceIDtraceID\n span_idSpanIDtraceid  traceid spanid spanid parent-spanid pspanid spanid spanid  pspanid \n request_resource\n17. Network - Cloud Host\n![Alt text](image-22.png)\ndashboardVm()\n Throught(bps): \n Retrans rate: \n TCP conn. establishment fail rate: TCP\n TCP conn. establishment latencyTCPTCPTCPTCP\n Cloud Host List\nchost\nThroughput(bps)\nThroughput(pps)\nTCP new conn.\nTCP retrans rate\nTCP conn. establishment fail rate\nTCP conn. establishment latency\nTCP/UDP data latency\n\nbits per second\n\nTCP\n\nTCP\nTCP\nTCPUDP\nTCP/UDP data latencyTCPUDP\n18. Network - Cloud Host Map\ndashboardVM()\n18.1 Show Client\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/f5dfef4b-f7e9-4182-86b4-7dcd565b362c.png)\n\nCloud Host PathNetwork - Cloud Host\n CLient: \n Server: \n Tap side: \n Protocol: \n Server port: \n18.2 Show Server\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/8fa5d9e2-859d-42c7-9d3d-a1e1edabcb96.png)\nshow client\n19.  Network - Flow Log\n![Alt text](image-25.png)\ndashboard\ncluster()namespace()workload()\n Summary count: \n Error count: \n TCP est.conn latency distributionestablishment\n TCP data latency distribution TCP\n Flow log start time()client()server()tap side()protocol()client port()server port()status( close_type protocol//TCP=XX=XX/TCP==)Byte TX()Byte RX()TCP Client Retransmission(TCP)TCP Server Retransmission(TCP)Avg TCP Est. Delay()Avg Data Delay\n20. Network - Flow Log - Cloud\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/cbf20764-c8a8-48b3-a0c2-a023923ef515.png)\ndashboardFlow LogdashboardVM()\n21. Network - K8s Pod\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/334e9637-7366-4397-a79c-c61ec162c7f3.png)\ndashboardpodclusternamespaceworkload\n Throught(bps): pod\n Retrans rate: pod\n TCP conn. establishment fail rate: TCP\n TCP conn. establishment latencyTCP\n Pod List pod\n22.  Network - K8s Pod Map\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/85fd8ca0-bea9-43e3-8a12-1a9b82cac676.png)\nbpsretrans_ratio(TCP TCP TCP  / retrans / packet)tcp_establish_fail_ratio--TCP - / tcp_establish_fail / close_flowrtt( TCP , TCP )art(: TCP/UDP)","source":"_posts/kubernetes/deepflow-dashboard.md","raw":"---\ntitle: deepflow dashboard\ndate: 2023-10-18 16:54:51\ncategories:\n  - [kubernetes]\ntags: deepflow\n---\n1. Application-Service List\ndashboardService ListEndPoint List\n1.2 Service List\n![Alt text](image.png)\n Data Source DeepFlow\n auto_service service\n app_service:  app_service\n signal_source: \nAuto Service\nApp Service\nSignal Source\nRequest Rate\nDelay Avg\nDelay P75\nClient Error Ratio\nServer Error Ratio\nk8sservice name\n\n\nPacket (cBPF)eBPFOTel\n \n\n75%\n / client_error / response\n / server_error / response\n1.3 Endpoint List\n![Alt text](image-1.png)\n\n2. Application - Cloud Host\ndashboardkubernetes\n![Alt text](image-2.png)\n vm: \n protocol: \nchost\nProtocol\nRequest\nClient error\nServer error\nLatency\n\n\n\n\n\n\n3. Application - Cloud Host Map\ndashboardMapserverclient\n3.1 \n![Alt text](image-3.png)\n3.2 \n![Alt text](image-4.png)\n4. Application - DNS Monitoring\ndashborddnsDNS TopoDNS\n\n4.1 Total RequestDNS TopoDelay DistributionError\n![Alt text](image-5.png)\nDNSDNSClient Error(by client)\n4.2 Server Error RatioTime OutDelay\n![Alt text](image-6.png)\nDNS\n4.3 RequestLog AnalysisRequest log Delay DistributionRequest Log\n![Alt text](image-7.png)\n Request: DNS\n Log Analysis: DNSRequest Logby response descNon-Existent DomainRequest Log Delay DistributionReqeust Log\n5. Dubbo Monitoring - K8S\n![Alt text](image-8.png)\n\nDubbo\n6. Application - K8s Ingress\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/31b5dcc3-e80c-44df-b008-63f844c2fba3.png)\n\nIngress\n7. Application - K8s Pod\ndashboardpod\n![Alt text](image-10.png)\ndeepflow-ebpf-spring-demo\n namespace: namespacedeepflow-ebpf-spring-demo\n workload\n protocol\n7.1 Request\nredis-master-0 Redisredis-master-0podRedisMin0.667 req/s, Mean1.26 req/s1.33 req/s\n7.2 Server error\npod\n7.3 Latency\npod\n7.4 Pod List\npod,\n8. Application - K8s Pod Map\ndashboardpodmap,\ndeepflow-ebpf-spring-demo\n namespace: namespacedeepflow-ebpf-spring-demo\n workload\n protocol\n8.1 Show client\n![Alt text](image-11.png)\nnamespacepodclientserver\n8.2 Show server\n![Alt text](image-12.png)\nnamespacepodclientserver\n9. Application - Redis Monitoring - Cloud\ndashboardredisTOP N redis\n![Alt text](image-13.png)\n Cloud Host: redis\n IP: IPredis\n10. Application - Redis Monitoring - K8S\ndashboardredisTOP N redis\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/7a2ab804-36f5-4ef2-a9fc-dc4a477851c7.png)\n cluster \n Redis Service: redis\n redis willdCard\n Tap Side \n1.  Application - Request Log\ndashboard\n![Alt text](image-15.png)\n clusternamespaceworkloadprotocolrequest_typereqeust_resourcestatus\n Summary count: \n Error Count: \n Latency histogram: \n Request log: Start time()Client()Server()Tap Side()Protocol()App Protocol()Request type()Request domain()Request resource()Response Status()Response Code()Response Delay()\n1.  Application - Request Log - Cloud\n\n![Alt text](image-16.png)\ndashboradApplication - Request Log\n vm: \n protocol: \n request_type: \n reqeust_resource\n status\n13. Application - SQL Monitoring - Cloud\n![Alt text](image-18.png)\ndashboarmysql\n client()DB Host()DB IP(IP)Client For SQL AnalysisSQL.\n topoSQLSQL StatementRequest TypeAffectedRowsSQL\n14. Application - SQL Monitoring - K8S\n![Alt text](image-19.png)\ndashboarmysqlSQL Monitoring - Cloud\n client: \n DB Cluster: \n DB Service:  \n DB Wildcard: \n Tap Side: \n Client For SQL AnalysisSQL\n15. Distributed Tracing\n![Alt text](image-20.png)\ndashboardRequest_idFlame Graph()Service ListServiceRequest LogRelated Data\n N  BPF  Span\n S:   eBPF  Span\nSpan ,trace  spantrace span span  trace \n16. Distributed Tracing - Cloud\n![Alt text](image-21.png)\ndashboardDistributed Tracing\n vm: \n trace_id tarceIDtraceID\n span_idSpanIDtraceid  traceid spanid spanid parent-spanid pspanid spanid spanid  pspanid \n request_resource\n17. Network - Cloud Host\n![Alt text](image-22.png)\ndashboardVm()\n Throught(bps): \n Retrans rate: \n TCP conn. establishment fail rate: TCP\n TCP conn. establishment latencyTCPTCPTCPTCP\n Cloud Host List\nchost\nThroughput(bps)\nThroughput(pps)\nTCP new conn.\nTCP retrans rate\nTCP conn. establishment fail rate\nTCP conn. establishment latency\nTCP/UDP data latency\n\nbits per second\n\nTCP\n\nTCP\nTCP\nTCPUDP\nTCP/UDP data latencyTCPUDP\n18. Network - Cloud Host Map\ndashboardVM()\n18.1 Show Client\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/f5dfef4b-f7e9-4182-86b4-7dcd565b362c.png)\n\nCloud Host PathNetwork - Cloud Host\n CLient: \n Server: \n Tap side: \n Protocol: \n Server port: \n18.2 Show Server\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/8fa5d9e2-859d-42c7-9d3d-a1e1edabcb96.png)\nshow client\n19.  Network - Flow Log\n![Alt text](image-25.png)\ndashboard\ncluster()namespace()workload()\n Summary count: \n Error count: \n TCP est.conn latency distributionestablishment\n TCP data latency distribution TCP\n Flow log start time()client()server()tap side()protocol()client port()server port()status( close_type protocol//TCP=XX=XX/TCP==)Byte TX()Byte RX()TCP Client Retransmission(TCP)TCP Server Retransmission(TCP)Avg TCP Est. Delay()Avg Data Delay\n20. Network - Flow Log - Cloud\n![Alt text](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/cbf20764-c8a8-48b3-a0c2-a023923ef515.png)\ndashboardFlow LogdashboardVM()\n21. Network - K8s Pod\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/334e9637-7366-4397-a79c-c61ec162c7f3.png)\ndashboardpodclusternamespaceworkload\n Throught(bps): pod\n Retrans rate: pod\n TCP conn. establishment fail rate: TCP\n TCP conn. establishment latencyTCP\n Pod List pod\n22.  Network - K8s Pod Map\n![](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/85fd8ca0-bea9-43e3-8a12-1a9b82cac676.png)\nbpsretrans_ratio(TCP TCP TCP  / retrans / packet)tcp_establish_fail_ratio--TCP - / tcp_establish_fail / close_flowrtt( TCP , TCP )art(: TCP/UDP)","slug":"kubernetes/deepflow-dashboard","published":1,"updated":"2023-10-18T09:18:27.736Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawd000clsjx74pf6nx4","content":"<ol>\n<li>Application-Service List<br>dashboardService ListEndPoint List<br>1.2 Service List<br><img src=\"/image.png\" alt=\"Alt text\"><br> Data Source DeepFlow<br> auto_service service<br> app_service:  app_service<br> signal_source: <br>Auto Service<br>App Service<br>Signal Source<br>Request Rate<br>Delay Avg<br>Delay P75<br>Client Error Ratio<br>Server Error Ratio<br>k8sservice name</li>\n</ol>\n<p><br>Packet (cBPF)eBPFOTel<br><br><br>75%<br> &#x2F; client_error &#x2F; response<br> &#x2F; server_error &#x2F; response<br>1.3 Endpoint List<br><img src=\"/image-1.png\" alt=\"Alt text\"><br><br>2. Application - Cloud Host<br>dashboardkubernetes<br><img src=\"/image-2.png\" alt=\"Alt text\"><br> vm: <br> protocol: <br>chost<br>Protocol<br>Request<br>Client error<br>Server error<br>Latency<br><br><br><br><br><br><br>3. Application - Cloud Host Map<br>dashboardMapserverclient<br>3.1 <br><img src=\"/image-3.png\" alt=\"Alt text\"><br>3.2 <br><img src=\"/image-4.png\" alt=\"Alt text\"><br>4. Application - DNS Monitoring<br>dashborddnsDNS TopoDNS</p>\n<p>4.1 Total RequestDNS TopoDelay DistributionError<br><img src=\"/image-5.png\" alt=\"Alt text\"><br>DNSDNSClient Error(by client)<br>4.2 Server Error RatioTime OutDelay<br><img src=\"/image-6.png\" alt=\"Alt text\"><br>DNS<br>4.3 RequestLog AnalysisRequest log Delay DistributionRequest Log<br><img src=\"/image-7.png\" alt=\"Alt text\"><br> Request: DNS<br> Log Analysis: DNSRequest Logby response descNon-Existent DomainRequest Log Delay DistributionReqeust Log<br>5. Dubbo Monitoring - K8S<br><img src=\"/image-8.png\" alt=\"Alt text\"></p>\n<p>Dubbo<br>6. Application - K8s Ingress<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/31b5dcc3-e80c-44df-b008-63f844c2fba3.png\" alt=\"Alt text\"></p>\n<p>Ingress<br>7. Application - K8s Pod<br>dashboardpod<br><img src=\"/image-10.png\" alt=\"Alt text\"><br>deepflow-ebpf-spring-demo<br> namespace: namespacedeepflow-ebpf-spring-demo<br> workload<br> protocol<br>7.1 Request<br>redis-master-0 Redisredis-master-0podRedisMin0.667 req&#x2F;s, Mean1.26 req&#x2F;s1.33 req&#x2F;s<br>7.2 Server error<br>pod<br>7.3 Latency<br>pod<br>7.4 Pod List<br>pod,<br>8. Application - K8s Pod Map<br>dashboardpodmap,<br>deepflow-ebpf-spring-demo<br> namespace: namespacedeepflow-ebpf-spring-demo<br> workload<br> protocol<br>8.1 Show client<br><img src=\"/image-11.png\" alt=\"Alt text\"><br>namespacepodclientserver<br>8.2 Show server<br><img src=\"/image-12.png\" alt=\"Alt text\"><br>namespacepodclientserver<br>9. Application - Redis Monitoring - Cloud<br>dashboardredisTOP N redis<br><img src=\"/image-13.png\" alt=\"Alt text\"><br> Cloud Host: redis<br> IP: IPredis<br>10. Application - Redis Monitoring - K8S<br>dashboardredisTOP N redis<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/7a2ab804-36f5-4ef2-a9fc-dc4a477851c7.png\" alt=\"Alt text\"><br> cluster <br> Redis Service: redis<br> redis willdCard<br> Tap Side </p>\n<ol>\n<li>Application - Request Log<br>dashboard<br><img src=\"/image-15.png\" alt=\"Alt text\"><br> clusternamespaceworkloadprotocolrequest_typereqeust_resourcestatus<br> Summary count: <br> Error Count: <br> Latency histogram: <br> Request log: Start time()Client()Server()Tap Side()Protocol()App Protocol()Request type()Request domain()Request resource()Response Status()Response Code()Response Delay()</li>\n<li>Application - Request Log - Cloud</li>\n</ol>\n<p><img src=\"/image-16.png\" alt=\"Alt text\"><br>dashboradApplication - Request Log<br> vm: <br> protocol: <br> request_type: <br> reqeust_resource<br> status<br>13. Application - SQL Monitoring - Cloud<br><img src=\"/image-18.png\" alt=\"Alt text\"><br>dashboarmysql<br> client()DB Host()DB IP(IP)Client For SQL AnalysisSQL.<br> topoSQLSQL StatementRequest TypeAffectedRowsSQL<br>14. Application - SQL Monitoring - K8S<br><img src=\"/image-19.png\" alt=\"Alt text\"><br>dashboarmysqlSQL Monitoring - Cloud<br> client: <br> DB Cluster: <br> DB Service:  <br> DB Wildcard: <br> Tap Side: <br> Client For SQL AnalysisSQL<br>15. Distributed Tracing<br><img src=\"/image-20.png\" alt=\"Alt text\"><br>dashboardRequest_idFlame Graph()Service ListServiceRequest LogRelated Data<br> N  BPF  Span<br> S:   eBPF  Span<br>Span ,trace  spantrace span span  trace <br>16. Distributed Tracing - Cloud<br><img src=\"/image-21.png\" alt=\"Alt text\"><br>dashboardDistributed Tracing<br> vm: <br> trace_id tarceIDtraceID<br> span_idSpanIDtraceid  traceid spanid spanid parent-spanid pspanid spanid spanid  pspanid <br> request_resource<br>17. Network - Cloud Host<br><img src=\"/image-22.png\" alt=\"Alt text\"><br>dashboardVm()<br> Throught(bps): <br> Retrans rate: <br> TCP conn. establishment fail rate: TCP<br> TCP conn. establishment latencyTCPTCPTCPTCP<br> Cloud Host List<br>chost<br>Throughput(bps)<br>Throughput(pps)<br>TCP new conn.<br>TCP retrans rate<br>TCP conn. establishment fail rate<br>TCP conn. establishment latency<br>TCP&#x2F;UDP data latency<br><br>bits per second<br><br>TCP<br><br>TCP<br>TCP<br>TCPUDP<br>TCP&#x2F;UDP data latencyTCPUDP<br>18. Network - Cloud Host Map<br>dashboardVM()<br>18.1 Show Client<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/f5dfef4b-f7e9-4182-86b4-7dcd565b362c.png\"><br><br>Cloud Host PathNetwork - Cloud Host<br> CLient: <br> Server: <br> Tap side: <br> Protocol: <br> Server port: <br>18.2 Show Server<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/8fa5d9e2-859d-42c7-9d3d-a1e1edabcb96.png\"><br>show client<br>19.  Network - Flow Log<br><img src=\"/image-25.png\" alt=\"Alt text\"><br>dashboard<br>cluster()namespace()workload()<br> Summary count: <br> Error count: <br> TCP est.conn latency distributionestablishment<br> TCP data latency distribution TCP<br> Flow log start time()client()server()tap side()protocol()client port()server port()status( close_type protocol&#x2F;&#x2F;TCP&#x3D;XX&#x3D;XX&#x2F;TCP&#x3D;&#x3D;)Byte TX()Byte RX()TCP Client Retransmission(TCP)TCP Server Retransmission(TCP)Avg TCP Est. Delay()Avg Data Delay<br>20. Network - Flow Log - Cloud<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/cbf20764-c8a8-48b3-a0c2-a023923ef515.png\" alt=\"Alt text\"><br>dashboardFlow LogdashboardVM()<br>21. Network - K8s Pod<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/334e9637-7366-4397-a79c-c61ec162c7f3.png\"><br>dashboardpodclusternamespaceworkload<br> Throught(bps): pod<br> Retrans rate: pod<br> TCP conn. establishment fail rate: TCP<br> TCP conn. establishment latencyTCP<br> Pod List pod<br>22.  Network - K8s Pod Map<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/85fd8ca0-bea9-43e3-8a12-1a9b82cac676.png\"><br>bpsretrans_ratio(TCP TCP TCP  &#x2F; retrans &#x2F; packet)tcp_establish_fail_ratio--TCP - &#x2F; tcp_establish_fail &#x2F; close_flowrtt( TCP , TCP )art(: TCP&#x2F;UDP)</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<ol>\n<li>Application-Service List<br>dashboardService ListEndPoint List<br>1.2 Service List<br><img src=\"/image.png\" alt=\"Alt text\"><br> Data Source DeepFlow<br> auto_service service<br> app_service:  app_service<br> signal_source: <br>Auto Service<br>App Service<br>Signal Source<br>Request Rate<br>Delay Avg<br>Delay P75<br>Client Error Ratio<br>Server Error Ratio<br>k8sservice name</li>\n</ol>\n<p><br>Packet (cBPF)eBPFOTel<br><br><br>75%<br> &#x2F; client_error &#x2F; response<br> &#x2F; server_error &#x2F; response<br>1.3 Endpoint List<br><img src=\"/image-1.png\" alt=\"Alt text\"><br><br>2. Application - Cloud Host<br>dashboardkubernetes<br><img src=\"/image-2.png\" alt=\"Alt text\"><br> vm: <br> protocol: <br>chost<br>Protocol<br>Request<br>Client error<br>Server error<br>Latency<br><br><br><br><br><br><br>3. Application - Cloud Host Map<br>dashboardMapserverclient<br>3.1 <br><img src=\"/image-3.png\" alt=\"Alt text\"><br>3.2 <br><img src=\"/image-4.png\" alt=\"Alt text\"><br>4. Application - DNS Monitoring<br>dashborddnsDNS TopoDNS</p>\n<p>4.1 Total RequestDNS TopoDelay DistributionError<br><img src=\"/image-5.png\" alt=\"Alt text\"><br>DNSDNSClient Error(by client)<br>4.2 Server Error RatioTime OutDelay<br><img src=\"/image-6.png\" alt=\"Alt text\"><br>DNS<br>4.3 RequestLog AnalysisRequest log Delay DistributionRequest Log<br><img src=\"/image-7.png\" alt=\"Alt text\"><br> Request: DNS<br> Log Analysis: DNSRequest Logby response descNon-Existent DomainRequest Log Delay DistributionReqeust Log<br>5. Dubbo Monitoring - K8S<br><img src=\"/image-8.png\" alt=\"Alt text\"></p>\n<p>Dubbo<br>6. Application - K8s Ingress<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/31b5dcc3-e80c-44df-b008-63f844c2fba3.png\" alt=\"Alt text\"></p>\n<p>Ingress<br>7. Application - K8s Pod<br>dashboardpod<br><img src=\"/image-10.png\" alt=\"Alt text\"><br>deepflow-ebpf-spring-demo<br> namespace: namespacedeepflow-ebpf-spring-demo<br> workload<br> protocol<br>7.1 Request<br>redis-master-0 Redisredis-master-0podRedisMin0.667 req&#x2F;s, Mean1.26 req&#x2F;s1.33 req&#x2F;s<br>7.2 Server error<br>pod<br>7.3 Latency<br>pod<br>7.4 Pod List<br>pod,<br>8. Application - K8s Pod Map<br>dashboardpodmap,<br>deepflow-ebpf-spring-demo<br> namespace: namespacedeepflow-ebpf-spring-demo<br> workload<br> protocol<br>8.1 Show client<br><img src=\"/image-11.png\" alt=\"Alt text\"><br>namespacepodclientserver<br>8.2 Show server<br><img src=\"/image-12.png\" alt=\"Alt text\"><br>namespacepodclientserver<br>9. Application - Redis Monitoring - Cloud<br>dashboardredisTOP N redis<br><img src=\"/image-13.png\" alt=\"Alt text\"><br> Cloud Host: redis<br> IP: IPredis<br>10. Application - Redis Monitoring - K8S<br>dashboardredisTOP N redis<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/7a2ab804-36f5-4ef2-a9fc-dc4a477851c7.png\" alt=\"Alt text\"><br> cluster <br> Redis Service: redis<br> redis willdCard<br> Tap Side </p>\n<ol>\n<li>Application - Request Log<br>dashboard<br><img src=\"/image-15.png\" alt=\"Alt text\"><br> clusternamespaceworkloadprotocolrequest_typereqeust_resourcestatus<br> Summary count: <br> Error Count: <br> Latency histogram: <br> Request log: Start time()Client()Server()Tap Side()Protocol()App Protocol()Request type()Request domain()Request resource()Response Status()Response Code()Response Delay()</li>\n<li>Application - Request Log - Cloud</li>\n</ol>\n<p><img src=\"/image-16.png\" alt=\"Alt text\"><br>dashboradApplication - Request Log<br> vm: <br> protocol: <br> request_type: <br> reqeust_resource<br> status<br>13. Application - SQL Monitoring - Cloud<br><img src=\"/image-18.png\" alt=\"Alt text\"><br>dashboarmysql<br> client()DB Host()DB IP(IP)Client For SQL AnalysisSQL.<br> topoSQLSQL StatementRequest TypeAffectedRowsSQL<br>14. Application - SQL Monitoring - K8S<br><img src=\"/image-19.png\" alt=\"Alt text\"><br>dashboarmysqlSQL Monitoring - Cloud<br> client: <br> DB Cluster: <br> DB Service:  <br> DB Wildcard: <br> Tap Side: <br> Client For SQL AnalysisSQL<br>15. Distributed Tracing<br><img src=\"/image-20.png\" alt=\"Alt text\"><br>dashboardRequest_idFlame Graph()Service ListServiceRequest LogRelated Data<br> N  BPF  Span<br> S:   eBPF  Span<br>Span ,trace  spantrace span span  trace <br>16. Distributed Tracing - Cloud<br><img src=\"/image-21.png\" alt=\"Alt text\"><br>dashboardDistributed Tracing<br> vm: <br> trace_id tarceIDtraceID<br> span_idSpanIDtraceid  traceid spanid spanid parent-spanid pspanid spanid spanid  pspanid <br> request_resource<br>17. Network - Cloud Host<br><img src=\"/image-22.png\" alt=\"Alt text\"><br>dashboardVm()<br> Throught(bps): <br> Retrans rate: <br> TCP conn. establishment fail rate: TCP<br> TCP conn. establishment latencyTCPTCPTCPTCP<br> Cloud Host List<br>chost<br>Throughput(bps)<br>Throughput(pps)<br>TCP new conn.<br>TCP retrans rate<br>TCP conn. establishment fail rate<br>TCP conn. establishment latency<br>TCP&#x2F;UDP data latency<br><br>bits per second<br><br>TCP<br><br>TCP<br>TCP<br>TCPUDP<br>TCP&#x2F;UDP data latencyTCPUDP<br>18. Network - Cloud Host Map<br>dashboardVM()<br>18.1 Show Client<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/f5dfef4b-f7e9-4182-86b4-7dcd565b362c.png\"><br><br>Cloud Host PathNetwork - Cloud Host<br> CLient: <br> Server: <br> Tap side: <br> Protocol: <br> Server port: <br>18.2 Show Server<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/8fa5d9e2-859d-42c7-9d3d-a1e1edabcb96.png\"><br>show client<br>19.  Network - Flow Log<br><img src=\"/image-25.png\" alt=\"Alt text\"><br>dashboard<br>cluster()namespace()workload()<br> Summary count: <br> Error count: <br> TCP est.conn latency distributionestablishment<br> TCP data latency distribution TCP<br> Flow log start time()client()server()tap side()protocol()client port()server port()status( close_type protocol&#x2F;&#x2F;TCP&#x3D;XX&#x3D;XX&#x2F;TCP&#x3D;&#x3D;)Byte TX()Byte RX()TCP Client Retransmission(TCP)TCP Server Retransmission(TCP)Avg TCP Est. Delay()Avg Data Delay<br>20. Network - Flow Log - Cloud<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/cbf20764-c8a8-48b3-a0c2-a023923ef515.png\" alt=\"Alt text\"><br>dashboardFlow LogdashboardVM()<br>21. Network - K8s Pod<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/334e9637-7366-4397-a79c-c61ec162c7f3.png\"><br>dashboardpodclusternamespaceworkload<br> Throught(bps): pod<br> Retrans rate: pod<br> TCP conn. establishment fail rate: TCP<br> TCP conn. establishment latencyTCP<br> Pod List pod<br>22.  Network - K8s Pod Map<br><img src=\"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/MAeqxYPPLZoQO8j9/img/85fd8ca0-bea9-43e3-8a12-1a9b82cac676.png\"><br>bpsretrans_ratio(TCP TCP TCP  &#x2F; retrans &#x2F; packet)tcp_establish_fail_ratio--TCP - &#x2F; tcp_establish_fail &#x2F; close_flowrtt( TCP , TCP )art(: TCP&#x2F;UDP)</p>\n"},{"title":"EFK","date":"2023-08-24T08:34:28.000Z","_content":"KubernetesFilebeatElasticsearchKibana:\n\n1. Elasticsearch:\n   KubernetesElasticsearchDeploymentDeploymentDeployment:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: Deployment\n   metadata:\n     name: elasticsearch\n   spec:\n     replicas: 1\n     selector:\n       matchLabels:\n         app: elasticsearch\n     template:\n       metadata:\n         labels:\n           app: elasticsearch\n       spec:\n         containers:\n         - name: elasticsearch\n           image: elasticsearch:7.12.1\n           resources:\n             requests:\n               memory: 2Gi\n               cpu: 1\n           ports:\n           - containerPort: 9200\n   ```\n\n   `kubectl apply -f elasticsearch.yaml`Deployment\n\n2. Kibana:\n   KubernetesKibanaDeploymentDeploymentDeployment:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: Deployment\n   metadata:\n     name: kibana\n   spec:\n     replicas: 1\n     selector:\n       matchLabels:\n         app: kibana\n     template:\n       metadata:\n         labels:\n           app: kibana\n       spec:\n         containers:\n         - name: kibana\n           image: kibana:7.12.1\n           resources:\n             requests:\n               memory: 1Gi\n               cpu: 0.5\n           ports:\n           - containerPort: 5601\n   ```\n\n   `kubectl apply -f kibana.yaml`Deployment\n\n3. Filebeat:\n   KubernetesFilebeat DaemonSetDaemonSetFilebeatDaemonSet:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: DaemonSet\n   metadata:\n     name: filebeat\n     labels:\n       app: filebeat\n   spec:\n     selector:\n       matchLabels:\n         app: filebeat\n     template:\n       metadata:\n         labels:\n           app: filebeat\n       spec:\n         containers:\n         - name: filebeat\n           image: docker.elastic.co/beats/filebeat:7.12.1\n           volumeMounts:\n           - name: varlibdockercontainers\n             mountPath: /var/lib/docker/containers\n             readOnly: true\n           - name: varlog\n             mountPath: /var/log\n             readOnly: true\n           - name: varlogpod\n             mountPath: /var/log/pods\n             readOnly: true\n           - name: varrun\n             mountPath: /var/run\n           - name: varlibkubelet\n             mountPath: /var/lib/kubelet\n           - name: varlognode\n             mountPath: /var/log/node\n             readOnly: true\n           - name: varlogcontainersnew\n             mountPath: /var/log/containersnew\n             readOnly: true\n           - name: dockersocket\n             mountPath: /var/run/docker.sock\n           - name: config\n             mountPath: /usr/share/filebeat/filebeat.yml\n             subPath: filebeat.yml\n             readOnly: true\n           env:\n           - name: K8S_NODE_NAME\n             valueFrom:\n               fieldRef:\n                 fieldPath: spec.nodeName\n           - name: NODE_NAME\n             valueFrom:\n               fieldRef:\n                 fieldPath: spec.nodeName\n           - name: FILEBEAT_HOST\n             valueFrom:\n               fieldRef:\n                 fieldPath: status.hostIP\n           - name: FILEBEAT_CONFIG_CHECK_FREQUENCY\n             value: \"5s\"\n           - name: OUTPUT_TYPE\n             value: elasticsearch\n           - name: ELASTICSEARCH_HOST\n             value: elasticsearch:9200\n           - name: ELASTICSEARCH_USERNAME\n             value: \"<ELASTICSEARCH_USERNAME>\"\n           - name: ELASTICSEARCH_PASSWORD\n             value: \"<ELASTICSEARCH_PASSWORD>\"\n           - name: ELASTICSEARCH_INDEX\n             value: \"filebeat-%{[agent.version]}-%{+yyyy.MM.dd}\"\n           - name: ELASTICSEARCH_PIPELINE\n             value: \"<ELASTICSEARCH_PIPELINE>\"\n           resources:\n             limits:\n               memory: 200Mi\n             requests:\n               cpu: 100m\n               memory: 100Mi\n           terminationGracePeriodSeconds: 30\n           dnsPolicy: ClusterFirstWithHostNet\n           restartPolicy: Always\n           hostNetwork: true\n           volumes:\n           - name: varlibdockercontainers\n             hostPath:\n               path: /var/lib/docker/containers\n           - name: varlog\n             hostPath:\n               path: /var/log\n           - name: varlogpod\n             hostPath:\n               path: /var/log/pods\n           - name: varrun\n             hostPath:\n               path: /var/run\n           - name: varlibkubelet\n             hostPath:\n               path: /var/lib/kubelet\n           - name: varlognode\n             hostPath:\n               path: /var/log/node\n           - name: varlogcontainersnew\n             hostPath:\n               path: /var/log/containersnew\n           - name: dockersocket\n             hostPath:\n               path: /var/run/docker.sock\n           - name: config\n             configMap:\n               name: filebeat-config\n       updateStrategy:\n         type: RollingUpdate\n        rollingUpdate:\n           maxUnavailable: 1\n   ```\n\n   ConfigMapFilebeat(filebeat.yml):\n\n   ```yaml\n   filebeat.config:\n     modules:\n       path: ${path.config}/modules.d/*.yml\n       reload.enabled: false\n\n   filebeat.modules:\n   - module: system\n     syslog:\n       enabled: true\n     auth:\n       enabled: true\n     package:\n       enabled: true\n     coredns:\n       enabled: true\n\n   output.elasticsearch:\n     hosts: ['elasticsearch:9200']\n     username: '<ELASTICSEARCH_USERNAME>'\n     password: '<ELASTICSEARCH_PASSWORD>'\n     pipeline: '<ELASTICSEARCH_PIPELINE>'\n   ```\n\n   `kubectl create configmap filebeat-config --from-file=filebeat.yml`ConfigMap\n\n   `kubectl apply -f filebeat.yaml`DaemonSet\n\n4. :\n   FilebeatKubernetesElasticsearchKibana\n\nFilebeatElasticsearchKibanaKubernetes","source":"_posts/kubernetes/efk.md","raw":"---\ntitle: EFK\ndate: 2023-08-24 16:34:28\ncategories:\n  - [kubernetes]\ntags: logging\n---\nKubernetesFilebeatElasticsearchKibana:\n\n1. Elasticsearch:\n   KubernetesElasticsearchDeploymentDeploymentDeployment:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: Deployment\n   metadata:\n     name: elasticsearch\n   spec:\n     replicas: 1\n     selector:\n       matchLabels:\n         app: elasticsearch\n     template:\n       metadata:\n         labels:\n           app: elasticsearch\n       spec:\n         containers:\n         - name: elasticsearch\n           image: elasticsearch:7.12.1\n           resources:\n             requests:\n               memory: 2Gi\n               cpu: 1\n           ports:\n           - containerPort: 9200\n   ```\n\n   `kubectl apply -f elasticsearch.yaml`Deployment\n\n2. Kibana:\n   KubernetesKibanaDeploymentDeploymentDeployment:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: Deployment\n   metadata:\n     name: kibana\n   spec:\n     replicas: 1\n     selector:\n       matchLabels:\n         app: kibana\n     template:\n       metadata:\n         labels:\n           app: kibana\n       spec:\n         containers:\n         - name: kibana\n           image: kibana:7.12.1\n           resources:\n             requests:\n               memory: 1Gi\n               cpu: 0.5\n           ports:\n           - containerPort: 5601\n   ```\n\n   `kubectl apply -f kibana.yaml`Deployment\n\n3. Filebeat:\n   KubernetesFilebeat DaemonSetDaemonSetFilebeatDaemonSet:\n\n   ```yaml\n   apiVersion: apps/v1\n   kind: DaemonSet\n   metadata:\n     name: filebeat\n     labels:\n       app: filebeat\n   spec:\n     selector:\n       matchLabels:\n         app: filebeat\n     template:\n       metadata:\n         labels:\n           app: filebeat\n       spec:\n         containers:\n         - name: filebeat\n           image: docker.elastic.co/beats/filebeat:7.12.1\n           volumeMounts:\n           - name: varlibdockercontainers\n             mountPath: /var/lib/docker/containers\n             readOnly: true\n           - name: varlog\n             mountPath: /var/log\n             readOnly: true\n           - name: varlogpod\n             mountPath: /var/log/pods\n             readOnly: true\n           - name: varrun\n             mountPath: /var/run\n           - name: varlibkubelet\n             mountPath: /var/lib/kubelet\n           - name: varlognode\n             mountPath: /var/log/node\n             readOnly: true\n           - name: varlogcontainersnew\n             mountPath: /var/log/containersnew\n             readOnly: true\n           - name: dockersocket\n             mountPath: /var/run/docker.sock\n           - name: config\n             mountPath: /usr/share/filebeat/filebeat.yml\n             subPath: filebeat.yml\n             readOnly: true\n           env:\n           - name: K8S_NODE_NAME\n             valueFrom:\n               fieldRef:\n                 fieldPath: spec.nodeName\n           - name: NODE_NAME\n             valueFrom:\n               fieldRef:\n                 fieldPath: spec.nodeName\n           - name: FILEBEAT_HOST\n             valueFrom:\n               fieldRef:\n                 fieldPath: status.hostIP\n           - name: FILEBEAT_CONFIG_CHECK_FREQUENCY\n             value: \"5s\"\n           - name: OUTPUT_TYPE\n             value: elasticsearch\n           - name: ELASTICSEARCH_HOST\n             value: elasticsearch:9200\n           - name: ELASTICSEARCH_USERNAME\n             value: \"<ELASTICSEARCH_USERNAME>\"\n           - name: ELASTICSEARCH_PASSWORD\n             value: \"<ELASTICSEARCH_PASSWORD>\"\n           - name: ELASTICSEARCH_INDEX\n             value: \"filebeat-%{[agent.version]}-%{+yyyy.MM.dd}\"\n           - name: ELASTICSEARCH_PIPELINE\n             value: \"<ELASTICSEARCH_PIPELINE>\"\n           resources:\n             limits:\n               memory: 200Mi\n             requests:\n               cpu: 100m\n               memory: 100Mi\n           terminationGracePeriodSeconds: 30\n           dnsPolicy: ClusterFirstWithHostNet\n           restartPolicy: Always\n           hostNetwork: true\n           volumes:\n           - name: varlibdockercontainers\n             hostPath:\n               path: /var/lib/docker/containers\n           - name: varlog\n             hostPath:\n               path: /var/log\n           - name: varlogpod\n             hostPath:\n               path: /var/log/pods\n           - name: varrun\n             hostPath:\n               path: /var/run\n           - name: varlibkubelet\n             hostPath:\n               path: /var/lib/kubelet\n           - name: varlognode\n             hostPath:\n               path: /var/log/node\n           - name: varlogcontainersnew\n             hostPath:\n               path: /var/log/containersnew\n           - name: dockersocket\n             hostPath:\n               path: /var/run/docker.sock\n           - name: config\n             configMap:\n               name: filebeat-config\n       updateStrategy:\n         type: RollingUpdate\n        rollingUpdate:\n           maxUnavailable: 1\n   ```\n\n   ConfigMapFilebeat(filebeat.yml):\n\n   ```yaml\n   filebeat.config:\n     modules:\n       path: ${path.config}/modules.d/*.yml\n       reload.enabled: false\n\n   filebeat.modules:\n   - module: system\n     syslog:\n       enabled: true\n     auth:\n       enabled: true\n     package:\n       enabled: true\n     coredns:\n       enabled: true\n\n   output.elasticsearch:\n     hosts: ['elasticsearch:9200']\n     username: '<ELASTICSEARCH_USERNAME>'\n     password: '<ELASTICSEARCH_PASSWORD>'\n     pipeline: '<ELASTICSEARCH_PIPELINE>'\n   ```\n\n   `kubectl create configmap filebeat-config --from-file=filebeat.yml`ConfigMap\n\n   `kubectl apply -f filebeat.yaml`DaemonSet\n\n4. :\n   FilebeatKubernetesElasticsearchKibana\n\nFilebeatElasticsearchKibanaKubernetes","slug":"kubernetes/efk","published":1,"updated":"2023-08-24T08:35:02.494Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawg000glsjxewfwdh9w","content":"<p>KubernetesFilebeatElasticsearchKibana:</p>\n<ol>\n<li><p>Elasticsearch:<br>KubernetesElasticsearchDeploymentDeploymentDeployment:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">replicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">elasticsearch:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">2Gi</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">9200</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl apply -f elasticsearch.yaml</code>Deployment</p>\n</li>\n<li><p>Kibana:<br>KubernetesKibanaDeploymentDeploymentDeployment:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">replicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">kibana:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">1Gi</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"number\">0.5</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">5601</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl apply -f kibana.yaml</code>Deployment</p>\n</li>\n<li><p>Filebeat:<br>KubernetesFilebeat DaemonSetDaemonSetFilebeatDaemonSet:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">DaemonSet</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">docker.elastic.co/beats/filebeat:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">volumeMounts:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibdockercontainers</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/lib/docker/containers</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlog</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogpod</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/pods</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varrun</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/run</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibkubelet</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/lib/kubelet</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlognode</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/node</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogcontainersnew</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/containersnew</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">dockersocket</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/run/docker.sock</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">config</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/usr/share/filebeat/filebeat.yml</span></span><br><span class=\"line\">          <span class=\"attr\">subPath:</span> <span class=\"string\">filebeat.yml</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"attr\">env:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">K8S_NODE_NAME</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">spec.nodeName</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">NODE_NAME</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">spec.nodeName</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">FILEBEAT_HOST</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">status.hostIP</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">FILEBEAT_CONFIG_CHECK_FREQUENCY</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;5s&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">OUTPUT_TYPE</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_HOST</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">elasticsearch:9200</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_USERNAME</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_USERNAME&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_PASSWORD</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_PASSWORD&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_INDEX</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;filebeat-<span class=\"template-variable\">%&#123;[agent.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_PIPELINE</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_PIPELINE&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">limits:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">200Mi</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"string\">100m</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">100Mi</span></span><br><span class=\"line\">        <span class=\"attr\">terminationGracePeriodSeconds:</span> <span class=\"number\">30</span></span><br><span class=\"line\">        <span class=\"attr\">dnsPolicy:</span> <span class=\"string\">ClusterFirstWithHostNet</span></span><br><span class=\"line\">        <span class=\"attr\">restartPolicy:</span> <span class=\"string\">Always</span></span><br><span class=\"line\">        <span class=\"attr\">hostNetwork:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"attr\">volumes:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibdockercontainers</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/lib/docker/containers</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlog</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogpod</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/pods</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varrun</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/run</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibkubelet</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/lib/kubelet</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlognode</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/node</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogcontainersnew</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/containersnew</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">dockersocket</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/run/docker.sock</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">config</span></span><br><span class=\"line\">          <span class=\"attr\">configMap:</span></span><br><span class=\"line\">            <span class=\"attr\">name:</span> <span class=\"string\">filebeat-config</span></span><br><span class=\"line\">    <span class=\"attr\">updateStrategy:</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">RollingUpdate</span></span><br><span class=\"line\">     <span class=\"attr\">rollingUpdate:</span></span><br><span class=\"line\">        <span class=\"attr\">maxUnavailable:</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<p>ConfigMapFilebeat(filebeat.yml):</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">filebeat.config:</span></span><br><span class=\"line\">  <span class=\"attr\">modules:</span></span><br><span class=\"line\">    <span class=\"attr\">path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br><span class=\"line\">    <span class=\"attr\">reload.enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">filebeat.modules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">module:</span> <span class=\"string\">system</span></span><br><span class=\"line\">  <span class=\"attr\">syslog:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">auth:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">package:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">coredns:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">output.elasticsearch:</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> [<span class=\"string\">&#x27;elasticsearch:9200&#x27;</span>]</span><br><span class=\"line\">  <span class=\"attr\">username:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_USERNAME&gt;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">password:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_PASSWORD&gt;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">pipeline:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_PIPELINE&gt;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl create configmap filebeat-config --from-file=filebeat.yml</code>ConfigMap</p>\n<p><code>kubectl apply -f filebeat.yaml</code>DaemonSet</p>\n</li>\n<li><p>:<br>FilebeatKubernetesElasticsearchKibana</p>\n</li>\n</ol>\n<p>FilebeatElasticsearchKibanaKubernetes</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>KubernetesFilebeatElasticsearchKibana:</p>\n<ol>\n<li><p>Elasticsearch:<br>KubernetesElasticsearchDeploymentDeploymentDeployment:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">replicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">elasticsearch:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">2Gi</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">9200</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl apply -f elasticsearch.yaml</code>Deployment</p>\n</li>\n<li><p>Kibana:<br>KubernetesKibanaDeploymentDeploymentDeployment:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">replicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">kibana</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">kibana:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">1Gi</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"number\">0.5</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">5601</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl apply -f kibana.yaml</code>Deployment</p>\n</li>\n<li><p>Filebeat:<br>KubernetesFilebeat DaemonSetDaemonSetFilebeatDaemonSet:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">DaemonSet</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">app:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">filebeat</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">docker.elastic.co/beats/filebeat:7.12.1</span></span><br><span class=\"line\">        <span class=\"attr\">volumeMounts:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibdockercontainers</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/lib/docker/containers</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlog</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogpod</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/pods</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varrun</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/run</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibkubelet</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/lib/kubelet</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlognode</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/node</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogcontainersnew</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/log/containersnew</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">dockersocket</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/var/run/docker.sock</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">config</span></span><br><span class=\"line\">          <span class=\"attr\">mountPath:</span> <span class=\"string\">/usr/share/filebeat/filebeat.yml</span></span><br><span class=\"line\">          <span class=\"attr\">subPath:</span> <span class=\"string\">filebeat.yml</span></span><br><span class=\"line\">          <span class=\"attr\">readOnly:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"attr\">env:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">K8S_NODE_NAME</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">spec.nodeName</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">NODE_NAME</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">spec.nodeName</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">FILEBEAT_HOST</span></span><br><span class=\"line\">          <span class=\"attr\">valueFrom:</span></span><br><span class=\"line\">            <span class=\"attr\">fieldRef:</span></span><br><span class=\"line\">              <span class=\"attr\">fieldPath:</span> <span class=\"string\">status.hostIP</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">FILEBEAT_CONFIG_CHECK_FREQUENCY</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;5s&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">OUTPUT_TYPE</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">elasticsearch</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_HOST</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">elasticsearch:9200</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_USERNAME</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_USERNAME&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_PASSWORD</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_PASSWORD&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_INDEX</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;filebeat-<span class=\"template-variable\">%&#123;[agent.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">ELASTICSEARCH_PIPELINE</span></span><br><span class=\"line\">          <span class=\"attr\">value:</span> <span class=\"string\">&quot;&lt;ELASTICSEARCH_PIPELINE&gt;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">limits:</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">200Mi</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"string\">100m</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">100Mi</span></span><br><span class=\"line\">        <span class=\"attr\">terminationGracePeriodSeconds:</span> <span class=\"number\">30</span></span><br><span class=\"line\">        <span class=\"attr\">dnsPolicy:</span> <span class=\"string\">ClusterFirstWithHostNet</span></span><br><span class=\"line\">        <span class=\"attr\">restartPolicy:</span> <span class=\"string\">Always</span></span><br><span class=\"line\">        <span class=\"attr\">hostNetwork:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"attr\">volumes:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibdockercontainers</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/lib/docker/containers</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlog</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogpod</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/pods</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varrun</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/run</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlibkubelet</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/lib/kubelet</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlognode</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/node</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">varlogcontainersnew</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/log/containersnew</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">dockersocket</span></span><br><span class=\"line\">          <span class=\"attr\">hostPath:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/var/run/docker.sock</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">config</span></span><br><span class=\"line\">          <span class=\"attr\">configMap:</span></span><br><span class=\"line\">            <span class=\"attr\">name:</span> <span class=\"string\">filebeat-config</span></span><br><span class=\"line\">    <span class=\"attr\">updateStrategy:</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">RollingUpdate</span></span><br><span class=\"line\">     <span class=\"attr\">rollingUpdate:</span></span><br><span class=\"line\">        <span class=\"attr\">maxUnavailable:</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<p>ConfigMapFilebeat(filebeat.yml):</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">filebeat.config:</span></span><br><span class=\"line\">  <span class=\"attr\">modules:</span></span><br><span class=\"line\">    <span class=\"attr\">path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br><span class=\"line\">    <span class=\"attr\">reload.enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">filebeat.modules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">module:</span> <span class=\"string\">system</span></span><br><span class=\"line\">  <span class=\"attr\">syslog:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">auth:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">package:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">coredns:</span></span><br><span class=\"line\">    <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">output.elasticsearch:</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> [<span class=\"string\">&#x27;elasticsearch:9200&#x27;</span>]</span><br><span class=\"line\">  <span class=\"attr\">username:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_USERNAME&gt;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">password:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_PASSWORD&gt;&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">pipeline:</span> <span class=\"string\">&#x27;&lt;ELASTICSEARCH_PIPELINE&gt;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>kubectl create configmap filebeat-config --from-file=filebeat.yml</code>ConfigMap</p>\n<p><code>kubectl apply -f filebeat.yaml</code>DaemonSet</p>\n</li>\n<li><p>:<br>FilebeatKubernetesElasticsearchKibana</p>\n</li>\n</ol>\n<p>FilebeatElasticsearchKibanaKubernetes</p>\n"},{"title":"Fluent BitFluentd","date":"2023-08-24T08:13:26.000Z","_content":"Fluent BitFluentd\n\n1. Fluent Bit\nFluent BitTreasure DataFluent Bit\n\n\n- IoTFluent Bit\n- Fluent BitDocker\n- Fluent Bit\n\n\n- \n- Fluent Bit\n- \n\n2. Fluentd\nFluentdTreasure Data\n\n\n- \n- FluentdHadoopElasticsearch\n- Fluentd\n\n\n- \n- \n- Fluentd\n\n\n- Treasure Data\n- Fluent BitFluentd\n- Fluent BitFluentd\n- Fluent BitFluentd\n\n\nFluent BitFluentdFluent BitFluentd","source":"_posts/kubernetes/fluent_Bit_Fluentd.md","raw":"---\ntitle: Fluent BitFluentd\ndate: 2023-08-24 16:13:26\ncategories:\n  - [kubernetes]\ntags: logging\n---\nFluent BitFluentd\n\n1. Fluent Bit\nFluent BitTreasure DataFluent Bit\n\n\n- IoTFluent Bit\n- Fluent BitDocker\n- Fluent Bit\n\n\n- \n- Fluent Bit\n- \n\n2. Fluentd\nFluentdTreasure Data\n\n\n- \n- FluentdHadoopElasticsearch\n- Fluentd\n\n\n- \n- \n- Fluentd\n\n\n- Treasure Data\n- Fluent BitFluentd\n- Fluent BitFluentd\n- Fluent BitFluentd\n\n\nFluent BitFluentdFluent BitFluentd","slug":"kubernetes/fluent_Bit_Fluentd","published":1,"updated":"2023-08-24T08:14:42.291Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawg000hlsjxeitm2p3m","content":"<p>Fluent BitFluentd</p>\n<ol>\n<li>Fluent Bit<br>Fluent BitTreasure DataFluent Bit</li>\n</ol>\n<p></p>\n<ul>\n<li>IoTFluent Bit</li>\n<li>Fluent BitDocker</li>\n<li>Fluent Bit</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>Fluent Bit</li>\n<li></li>\n</ul>\n<ol start=\"2\">\n<li>Fluentd<br>FluentdTreasure Data</li>\n</ol>\n<p></p>\n<ul>\n<li></li>\n<li>FluentdHadoopElasticsearch</li>\n<li>Fluentd</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>Fluentd</li>\n</ul>\n<p></p>\n<ul>\n<li>Treasure Data</li>\n<li>Fluent BitFluentd</li>\n<li>Fluent BitFluentd</li>\n<li>Fluent BitFluentd</li>\n</ul>\n<p><br>Fluent BitFluentdFluent BitFluentd</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>Fluent BitFluentd</p>\n<ol>\n<li>Fluent Bit<br>Fluent BitTreasure DataFluent Bit</li>\n</ol>\n<p></p>\n<ul>\n<li>IoTFluent Bit</li>\n<li>Fluent BitDocker</li>\n<li>Fluent Bit</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>Fluent Bit</li>\n<li></li>\n</ul>\n<ol start=\"2\">\n<li>Fluentd<br>FluentdTreasure Data</li>\n</ol>\n<p></p>\n<ul>\n<li></li>\n<li>FluentdHadoopElasticsearch</li>\n<li>Fluentd</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>Fluentd</li>\n</ul>\n<p></p>\n<ul>\n<li>Treasure Data</li>\n<li>Fluent BitFluentd</li>\n<li>Fluent BitFluentd</li>\n<li>Fluent BitFluentd</li>\n</ul>\n<p><br>Fluent BitFluentdFluent BitFluentd</p>\n"},{"title":"","date":"2023-11-02T03:01:02.000Z","_content":": https://blog.csdn.net/huangjinjin520/article/details/126863371\n## \n  \n\n LAN\n\n \n## \n:\n\n()      ?\n\n( )   ( )        (  )  \n\n   \n## \nWeb  REST  N \n\n\n\n API \n\nWeb Thrift  RPC AMQP \n\n\n\nAPI  API \n\n## \n(Gateway) Gateway  Gateway Gateway\n\n![Alt text](image-104.png)\n\n Gateway  Gateway ( ) Gateway  Gateway( )\n## \n:\n\n### 1. \n Gateway \n\n### 2. \n API HTTP  Restful  API  URIHTTP Gateway \n\n### 3. \n Round-Robin  session \n\n### 4. \n Service Mesh \n\n### 5. \nSSL Session APIAPI\n\n#### \n\n\n\n#### API \n\n\n\n#### API \n\n API DSL  API AWS Lambda  API\n## \n :\n\n### 1. \n CC++Go  Java I/O C  C++  Linux  epoll  Windows  I/O Completion Port  IO Java  NettySpring Reactor  NIO \n\n### 2. \n\n\n \n\n  Nginx reload  Admin API \n\n  Nginx \n\n### 3. \n Gateway  Nginx  Module \n\n \n\n*  \n\n*   Tracing ID  API \n\n*  \n\n* DevOps  DevOps \n\n## \n1.  Plugin  Serverless \n\n2.  CDN \n\n3.  DNS  CDN \n\n4. \n\n5.  bulkhead \n\n\n\n*   SSL  SSL \n\n*   token \n\n*   4xx \n\n## \n\n![Alt text](image-105.png)\nApiKong \n\nkonghttps://konghq.com\n![Alt text](image-106.png)\nAPI\n## \n\n\n zuul\n\n:\n![Alt text](image-107.png)\n  API  :Zuul1Zuul2  SpringCloud Gateway \n## \n\n\n\n\nNginx+lua OpenRestyKongOrangeAbtesting gateway \n\nJava Zuul/Zuul2Spring Cloud GatewayKaazing KWGgraviteeDromara soul \n\nGo JanusfagongziGrpc-gateway\n\nDotnet Ocelot\n\nNodeJS Express GatewayMicro Gateway\n\n 5\n\nOpenResty\n\nKong\n\nZuulZuul2\n\nSpring Cloud Gateway\n\n### 1. OpenResty\nOpenResty\n\nOpenResty Nginx Lua  Web  Lua  Web Web \n\n Nginx OpenResty  Nginx  Web  Lua  Nginx  Nginx C  Web \n\nOpenResty  OpenAPI  Open Resty REST  ngx_openresty  web service  web \n\n Nginx  openresty  nginx nginx web \n\nngx_openresty  openresty.org \n\nngx_openresty \n\n web  web  OpenResty  Nodejs PHP ngx_openresty  CPU \n\nNginx  Web  Web  NetScaler Lua \n\n### 2. Kong\nKongOpenResty Api OpenRestyKong\n\nApi\n\n\n\nApi\n\n\n\nlog\n\napiServerless \n\n#### Kong\n\n\n\nAPI GATEWAY\n\nKong:\n\n![Alt text](image-108.png)\nKongApi\n#### Kong\n\n API GATEWAY Mashape APIAPIKONG NGINX+Lua lua APIKONG HTTP CORSTCPUDPAPI NGINX Kong  Mashape  15000  API 200000 \n\n#### Kong\n\nKong:\n![Alt text](image-109.png)\nNginx Nginx LuaOpenResty Lua\n\nKong:APIKonghttps://www.jianshu.com/p/a68e45bcadb6\n\n### 3. Zuul1.0\nZuulwebNetflixZuulAmazon\n\nZuul\n\n#### \n\nZuul\n\nType \n\nAsync \n\nExecution Order \n\nCriteria \n\nAction \n\nZuulRequestContext\n\nZuul:\n\n#### Incoming\n\nIncomingOrigin:DDoS\n\n#### Endpoint\n\nEndpointincomingZuulProxyEndpoint:404\n\n#### Outgoing\n\nOutgoing:/gziping\n\n#### \n\n\n\nPRE Origin\n\nROUTING Origin\n\nPOST Origin\n\nERROR \n\n\n\n \n\n \n\n \n\n \n\n \n\n \n#### Zuul 1.0 \n![Alt text](image-110.png)\nNetflixAPIZuulZuulZuul2Zuul2Zuul1Zuul2NettyZuul1Zuul 2Netty\n### 4. Zuul2.0\nZuul 2.0 \n![Alt text](image-111.png)\nZuul2Zuul1\n\nNetty ServerServletNetty ClientHttp Client\n\nInbound FiltersPre-routing FiltersEndpoint FilterRouting FilterOutbound FiltersPost-routing Filters\n\nInbound Filters  Origin \n\nEndpoint Filters ProxyEndpointOrigin\n\nOutbound Filters Originheader\n\nsync  asyncZuul\n\nZuul2\n\n CPU core(Context Switch)\n\n Zuul2Zuul1Zuul1Zuul2->->(call flow)idIDEThreadLocalCATThreadLocal()\n\nIO(IO bound)IOCPU\n#### Zuul  Zuul 2 \n![Alt text](image-112.png)\nNetflixZuul2Zuul120% 20%20%Netflix22ppt11\n### 5. Spring Cloud Gateway\nSpringCloud Gateway  Spring Cloud  Spring 5.0Spring Boot 2.0  Project Reactor  API \n\nSpringCloud Gateway  Spring Cloud  ZuulSpring Cloud 2.0Zuul 2.0Zuul 2.0ReactorSpringCloud GatewayWebFluxWebFluxReactorNetty\n\nSpring Cloud Gateway  Filter /\n\nSpring Cloud Gateway Netty \n\nSpringCloud Gateway \n\nSpringCloudSpringCloud Gateway \n\n1 Spring Framework 5Project Reactor  Spring Boot 2.0\n\n2 Hystrix \n\n3 Spring Cloud DiscoveryClient\n\n4Predicates  Filters  Predicates  Filters\n\n5\n\nZuulSpringCloud GatewayZuul\n\n\n\n#### Filter \n\nZuulorg.springframework.cloud.gateway.filter.GatewayFilter\n\n#### Route \n\nZuulRoute  ID URIURI\n\n#### Predicate \n\n Java 8  Predicate HTTP  headers   ServerWebExchange\n### \n![Alt text](image-113.png)\n\n\n//www.cnblogs.com/Courage129/p/14446586.html\n\n!","source":"_posts/kubernetes/gateway.md","raw":"---\ntitle: \ndate: 2023-11-02 11:01:02\ncategories:\n  - [kubernetes]\ntags: gateway\n---\n: https://blog.csdn.net/huangjinjin520/article/details/126863371\n## \n  \n\n LAN\n\n \n## \n:\n\n()      ?\n\n( )   ( )        (  )  \n\n   \n## \nWeb  REST  N \n\n\n\n API \n\nWeb Thrift  RPC AMQP \n\n\n\nAPI  API \n\n## \n(Gateway) Gateway  Gateway Gateway\n\n![Alt text](image-104.png)\n\n Gateway  Gateway ( ) Gateway  Gateway( )\n## \n:\n\n### 1. \n Gateway \n\n### 2. \n API HTTP  Restful  API  URIHTTP Gateway \n\n### 3. \n Round-Robin  session \n\n### 4. \n Service Mesh \n\n### 5. \nSSL Session APIAPI\n\n#### \n\n\n\n#### API \n\n\n\n#### API \n\n API DSL  API AWS Lambda  API\n## \n :\n\n### 1. \n CC++Go  Java I/O C  C++  Linux  epoll  Windows  I/O Completion Port  IO Java  NettySpring Reactor  NIO \n\n### 2. \n\n\n \n\n  Nginx reload  Admin API \n\n  Nginx \n\n### 3. \n Gateway  Nginx  Module \n\n \n\n*  \n\n*   Tracing ID  API \n\n*  \n\n* DevOps  DevOps \n\n## \n1.  Plugin  Serverless \n\n2.  CDN \n\n3.  DNS  CDN \n\n4. \n\n5.  bulkhead \n\n\n\n*   SSL  SSL \n\n*   token \n\n*   4xx \n\n## \n\n![Alt text](image-105.png)\nApiKong \n\nkonghttps://konghq.com\n![Alt text](image-106.png)\nAPI\n## \n\n\n zuul\n\n:\n![Alt text](image-107.png)\n  API  :Zuul1Zuul2  SpringCloud Gateway \n## \n\n\n\n\nNginx+lua OpenRestyKongOrangeAbtesting gateway \n\nJava Zuul/Zuul2Spring Cloud GatewayKaazing KWGgraviteeDromara soul \n\nGo JanusfagongziGrpc-gateway\n\nDotnet Ocelot\n\nNodeJS Express GatewayMicro Gateway\n\n 5\n\nOpenResty\n\nKong\n\nZuulZuul2\n\nSpring Cloud Gateway\n\n### 1. OpenResty\nOpenResty\n\nOpenResty Nginx Lua  Web  Lua  Web Web \n\n Nginx OpenResty  Nginx  Web  Lua  Nginx  Nginx C  Web \n\nOpenResty  OpenAPI  Open Resty REST  ngx_openresty  web service  web \n\n Nginx  openresty  nginx nginx web \n\nngx_openresty  openresty.org \n\nngx_openresty \n\n web  web  OpenResty  Nodejs PHP ngx_openresty  CPU \n\nNginx  Web  Web  NetScaler Lua \n\n### 2. Kong\nKongOpenResty Api OpenRestyKong\n\nApi\n\n\n\nApi\n\n\n\nlog\n\napiServerless \n\n#### Kong\n\n\n\nAPI GATEWAY\n\nKong:\n\n![Alt text](image-108.png)\nKongApi\n#### Kong\n\n API GATEWAY Mashape APIAPIKONG NGINX+Lua lua APIKONG HTTP CORSTCPUDPAPI NGINX Kong  Mashape  15000  API 200000 \n\n#### Kong\n\nKong:\n![Alt text](image-109.png)\nNginx Nginx LuaOpenResty Lua\n\nKong:APIKonghttps://www.jianshu.com/p/a68e45bcadb6\n\n### 3. Zuul1.0\nZuulwebNetflixZuulAmazon\n\nZuul\n\n#### \n\nZuul\n\nType \n\nAsync \n\nExecution Order \n\nCriteria \n\nAction \n\nZuulRequestContext\n\nZuul:\n\n#### Incoming\n\nIncomingOrigin:DDoS\n\n#### Endpoint\n\nEndpointincomingZuulProxyEndpoint:404\n\n#### Outgoing\n\nOutgoing:/gziping\n\n#### \n\n\n\nPRE Origin\n\nROUTING Origin\n\nPOST Origin\n\nERROR \n\n\n\n \n\n \n\n \n\n \n\n \n\n \n#### Zuul 1.0 \n![Alt text](image-110.png)\nNetflixAPIZuulZuulZuul2Zuul2Zuul1Zuul2NettyZuul1Zuul 2Netty\n### 4. Zuul2.0\nZuul 2.0 \n![Alt text](image-111.png)\nZuul2Zuul1\n\nNetty ServerServletNetty ClientHttp Client\n\nInbound FiltersPre-routing FiltersEndpoint FilterRouting FilterOutbound FiltersPost-routing Filters\n\nInbound Filters  Origin \n\nEndpoint Filters ProxyEndpointOrigin\n\nOutbound Filters Originheader\n\nsync  asyncZuul\n\nZuul2\n\n CPU core(Context Switch)\n\n Zuul2Zuul1Zuul1Zuul2->->(call flow)idIDEThreadLocalCATThreadLocal()\n\nIO(IO bound)IOCPU\n#### Zuul  Zuul 2 \n![Alt text](image-112.png)\nNetflixZuul2Zuul120% 20%20%Netflix22ppt11\n### 5. Spring Cloud Gateway\nSpringCloud Gateway  Spring Cloud  Spring 5.0Spring Boot 2.0  Project Reactor  API \n\nSpringCloud Gateway  Spring Cloud  ZuulSpring Cloud 2.0Zuul 2.0Zuul 2.0ReactorSpringCloud GatewayWebFluxWebFluxReactorNetty\n\nSpring Cloud Gateway  Filter /\n\nSpring Cloud Gateway Netty \n\nSpringCloud Gateway \n\nSpringCloudSpringCloud Gateway \n\n1 Spring Framework 5Project Reactor  Spring Boot 2.0\n\n2 Hystrix \n\n3 Spring Cloud DiscoveryClient\n\n4Predicates  Filters  Predicates  Filters\n\n5\n\nZuulSpringCloud GatewayZuul\n\n\n\n#### Filter \n\nZuulorg.springframework.cloud.gateway.filter.GatewayFilter\n\n#### Route \n\nZuulRoute  ID URIURI\n\n#### Predicate \n\n Java 8  Predicate HTTP  headers   ServerWebExchange\n### \n![Alt text](image-113.png)\n\n\n//www.cnblogs.com/Courage129/p/14446586.html\n\n!","slug":"kubernetes/gateway","published":1,"updated":"2023-11-02T03:29:35.022Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawl000klsjxgtjl9kgh","content":"<p>: <a href=\"https://blog.csdn.net/huangjinjin520/article/details/126863371\">https://blog.csdn.net/huangjinjin520/article/details/126863371</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<p> LAN</p>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:</p>\n<p>()      ?</p>\n<p>( )   ( )        (  )  </p>\n<p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Web  REST  N </p>\n<p></p>\n<p> API </p>\n<p>Web Thrift  RPC AMQP </p>\n<p></p>\n<p>API  API </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(Gateway) Gateway  Gateway Gateway</p>\n<p><img src=\"/image-104.png\" alt=\"Alt text\"></p>\n<p> Gateway  Gateway ( ) Gateway  Gateway( )</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p> Gateway </p>\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p> API HTTP  Restful  API  URIHTTP Gateway </p>\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Round-Robin  session </p>\n<h3 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h3><p> Service Mesh </p>\n<h3 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h3><p>SSL Session APIAPI</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"API-\"><a href=\"#API-\" class=\"headerlink\" title=\"API \"></a>API </h4><p></p>\n<h4 id=\"API-\"><a href=\"#API-\" class=\"headerlink\" title=\"API \"></a>API </h4><p> API DSL  API AWS Lambda  API</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> :</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p> CC++Go  Java I&#x2F;O C  C++  Linux  epoll  Windows  I&#x2F;O Completion Port  IO Java  NettySpring Reactor  NIO </p>\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p></p>\n<p> </p>\n<p>  Nginx reload  Admin API </p>\n<p>  Nginx </p>\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Gateway  Nginx  Module </p>\n<p> </p>\n<ul>\n<li><p> </p>\n</li>\n<li><p>  Tracing ID  API </p>\n</li>\n<li><p> </p>\n</li>\n<li><p>DevOps  DevOps </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p> Plugin  Serverless </p>\n</li>\n<li><p> CDN </p>\n</li>\n<li><p> DNS  CDN </p>\n</li>\n<li><p></p>\n</li>\n<li><p> bulkhead </p>\n</li>\n</ol>\n<p></p>\n<ul>\n<li><p>  SSL  SSL </p>\n</li>\n<li><p>  token </p>\n</li>\n<li><p>  4xx </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"/image-105.png\" alt=\"Alt text\"><br>ApiKong </p>\n<p>kong<a href=\"https://konghq.com/\">https://konghq.com</a><br><img src=\"/image-106.png\" alt=\"Alt text\"><br>API</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> zuul</p>\n<p>:<br><img src=\"/image-107.png\" alt=\"Alt text\"><br>  API  :Zuul1Zuul2  SpringCloud Gateway </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>Nginx+lua OpenRestyKongOrangeAbtesting gateway </p>\n<p>Java Zuul&#x2F;Zuul2Spring Cloud GatewayKaazing KWGgraviteeDromara soul </p>\n<p>Go JanusfagongziGrpc-gateway</p>\n<p>Dotnet Ocelot</p>\n<p>NodeJS Express GatewayMicro Gateway</p>\n<p> 5</p>\n<p>OpenResty</p>\n<p>Kong</p>\n<p>ZuulZuul2</p>\n<p>Spring Cloud Gateway</p>\n<h3 id=\"1-OpenResty\"><a href=\"#1-OpenResty\" class=\"headerlink\" title=\"1. OpenResty\"></a>1. OpenResty</h3><p>OpenResty</p>\n<p>OpenResty Nginx Lua  Web  Lua  Web Web </p>\n<p> Nginx OpenResty  Nginx  Web  Lua  Nginx  Nginx C  Web </p>\n<p>OpenResty  OpenAPI  Open Resty REST  ngx_openresty  web service  web </p>\n<p> Nginx  openresty  nginx nginx web </p>\n<p>ngx_openresty  openresty.org </p>\n<p>ngx_openresty </p>\n<p> web  web  OpenResty  Nodejs PHP ngx_openresty  CPU </p>\n<p>Nginx  Web  Web  NetScaler Lua </p>\n<h3 id=\"2-Kong\"><a href=\"#2-Kong\" class=\"headerlink\" title=\"2. Kong\"></a>2. Kong</h3><p>KongOpenResty Api OpenRestyKong</p>\n<p>Api</p>\n<p></p>\n<p>Api</p>\n<p></p>\n<p>log</p>\n<p>apiServerless </p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p></p>\n<p>API GATEWAY</p>\n<p>Kong:</p>\n<p><img src=\"/image-108.png\" alt=\"Alt text\"><br>KongApi</p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p> API GATEWAY Mashape APIAPIKONG NGINX+Lua lua APIKONG HTTP CORSTCPUDPAPI NGINX Kong  Mashape  15000  API 200000 </p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p>Kong:<br><img src=\"/image-109.png\" alt=\"Alt text\"><br>Nginx Nginx LuaOpenResty Lua</p>\n<p>Kong:APIKong<a href=\"https://www.jianshu.com/p/a68e45bcadb6\">https://www.jianshu.com/p/a68e45bcadb6</a></p>\n<h3 id=\"3-Zuul1-0\"><a href=\"#3-Zuul1-0\" class=\"headerlink\" title=\"3. Zuul1.0\"></a>3. Zuul1.0</h3><p>ZuulwebNetflixZuulAmazon</p>\n<p>Zuul</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Zuul</p>\n<p>Type </p>\n<p>Async </p>\n<p>Execution Order </p>\n<p>Criteria </p>\n<p>Action </p>\n<p>ZuulRequestContext</p>\n<p>Zuul:</p>\n<h4 id=\"Incoming\"><a href=\"#Incoming\" class=\"headerlink\" title=\"Incoming\"></a>Incoming</h4><p>IncomingOrigin:DDoS</p>\n<h4 id=\"Endpoint\"><a href=\"#Endpoint\" class=\"headerlink\" title=\"Endpoint\"></a>Endpoint</h4><p>EndpointincomingZuulProxyEndpoint:404</p>\n<h4 id=\"Outgoing\"><a href=\"#Outgoing\" class=\"headerlink\" title=\"Outgoing\"></a>Outgoing</h4><p>Outgoing:&#x2F;gziping</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>PRE Origin</p>\n<p>ROUTING Origin</p>\n<p>POST Origin</p>\n<p>ERROR </p>\n<p></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<h4 id=\"Zuul-1-0-\"><a href=\"#Zuul-1-0-\" class=\"headerlink\" title=\"Zuul 1.0 \"></a>Zuul 1.0 </h4><p><img src=\"/image-110.png\" alt=\"Alt text\"><br>NetflixAPIZuulZuulZuul2Zuul2Zuul1Zuul2NettyZuul1Zuul 2Netty</p>\n<h3 id=\"4-Zuul2-0\"><a href=\"#4-Zuul2-0\" class=\"headerlink\" title=\"4. Zuul2.0\"></a>4. Zuul2.0</h3><p>Zuul 2.0 <br><img src=\"/image-111.png\" alt=\"Alt text\"><br>Zuul2Zuul1</p>\n<p>Netty ServerServletNetty ClientHttp Client</p>\n<p>Inbound FiltersPre-routing FiltersEndpoint FilterRouting FilterOutbound FiltersPost-routing Filters</p>\n<p>Inbound Filters  Origin </p>\n<p>Endpoint Filters ProxyEndpointOrigin</p>\n<p>Outbound Filters Originheader</p>\n<p>sync  asyncZuul</p>\n<p>Zuul2</p>\n<p> CPU core(Context Switch)</p>\n<p> Zuul2Zuul1Zuul1Zuul2-&gt;-&gt;(call flow)idIDEThreadLocalCATThreadLocal()</p>\n<p>IO(IO bound)IOCPU</p>\n<h4 id=\"Zuul--Zuul-2-\"><a href=\"#Zuul--Zuul-2-\" class=\"headerlink\" title=\"Zuul  Zuul 2 \"></a>Zuul  Zuul 2 </h4><p><img src=\"/image-112.png\" alt=\"Alt text\"><br>NetflixZuul2Zuul120% 20%20%Netflix22ppt11</p>\n<h3 id=\"5-Spring-Cloud-Gateway\"><a href=\"#5-Spring-Cloud-Gateway\" class=\"headerlink\" title=\"5. Spring Cloud Gateway\"></a>5. Spring Cloud Gateway</h3><p>SpringCloud Gateway  Spring Cloud  Spring 5.0Spring Boot 2.0  Project Reactor  API </p>\n<p>SpringCloud Gateway  Spring Cloud  ZuulSpring Cloud 2.0Zuul 2.0Zuul 2.0ReactorSpringCloud GatewayWebFluxWebFluxReactorNetty</p>\n<p>Spring Cloud Gateway  Filter &#x2F;</p>\n<p>Spring Cloud Gateway Netty </p>\n<p>SpringCloud Gateway </p>\n<p>SpringCloudSpringCloud Gateway </p>\n<p>1 Spring Framework 5Project Reactor  Spring Boot 2.0</p>\n<p>2 Hystrix </p>\n<p>3 Spring Cloud DiscoveryClient</p>\n<p>4Predicates  Filters  Predicates  Filters</p>\n<p>5</p>\n<p>ZuulSpringCloud GatewayZuul</p>\n<p></p>\n<h4 id=\"Filter-\"><a href=\"#Filter-\" class=\"headerlink\" title=\"Filter \"></a>Filter </h4><p>Zuulorg.springframework.cloud.gateway.filter.GatewayFilter</p>\n<h4 id=\"Route-\"><a href=\"#Route-\" class=\"headerlink\" title=\"Route \"></a>Route </h4><p>ZuulRoute  ID URIURI</p>\n<h4 id=\"Predicate-\"><a href=\"#Predicate-\" class=\"headerlink\" title=\"Predicate \"></a>Predicate </h4><p> Java 8  Predicate HTTP  headers   ServerWebExchange</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/image-113.png\" alt=\"Alt text\"><br></p>\n<p>&#x2F;&#x2F;<a href=\"http://www.cnblogs.com/Courage129/p/14446586.html\">www.cnblogs.com/Courage129/p/14446586.html</a></p>\n<p>!</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>: <a href=\"https://blog.csdn.net/huangjinjin520/article/details/126863371\">https://blog.csdn.net/huangjinjin520/article/details/126863371</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<p> LAN</p>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:</p>\n<p>()      ?</p>\n<p>( )   ( )        (  )  </p>\n<p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Web  REST  N </p>\n<p></p>\n<p> API </p>\n<p>Web Thrift  RPC AMQP </p>\n<p></p>\n<p>API  API </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(Gateway) Gateway  Gateway Gateway</p>\n<p><img src=\"/image-104.png\" alt=\"Alt text\"></p>\n<p> Gateway  Gateway ( ) Gateway  Gateway( )</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p> Gateway </p>\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p> API HTTP  Restful  API  URIHTTP Gateway </p>\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Round-Robin  session </p>\n<h3 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h3><p> Service Mesh </p>\n<h3 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h3><p>SSL Session APIAPI</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"API-\"><a href=\"#API-\" class=\"headerlink\" title=\"API \"></a>API </h4><p></p>\n<h4 id=\"API-\"><a href=\"#API-\" class=\"headerlink\" title=\"API \"></a>API </h4><p> API DSL  API AWS Lambda  API</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> :</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p> CC++Go  Java I&#x2F;O C  C++  Linux  epoll  Windows  I&#x2F;O Completion Port  IO Java  NettySpring Reactor  NIO </p>\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p></p>\n<p> </p>\n<p>  Nginx reload  Admin API </p>\n<p>  Nginx </p>\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Gateway  Nginx  Module </p>\n<p> </p>\n<ul>\n<li><p> </p>\n</li>\n<li><p>  Tracing ID  API </p>\n</li>\n<li><p> </p>\n</li>\n<li><p>DevOps  DevOps </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p> Plugin  Serverless </p>\n</li>\n<li><p> CDN </p>\n</li>\n<li><p> DNS  CDN </p>\n</li>\n<li><p></p>\n</li>\n<li><p> bulkhead </p>\n</li>\n</ol>\n<p></p>\n<ul>\n<li><p>  SSL  SSL </p>\n</li>\n<li><p>  token </p>\n</li>\n<li><p>  4xx </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"/image-105.png\" alt=\"Alt text\"><br>ApiKong </p>\n<p>kong<a href=\"https://konghq.com/\">https://konghq.com</a><br><img src=\"/image-106.png\" alt=\"Alt text\"><br>API</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> zuul</p>\n<p>:<br><img src=\"/image-107.png\" alt=\"Alt text\"><br>  API  :Zuul1Zuul2  SpringCloud Gateway </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>Nginx+lua OpenRestyKongOrangeAbtesting gateway </p>\n<p>Java Zuul&#x2F;Zuul2Spring Cloud GatewayKaazing KWGgraviteeDromara soul </p>\n<p>Go JanusfagongziGrpc-gateway</p>\n<p>Dotnet Ocelot</p>\n<p>NodeJS Express GatewayMicro Gateway</p>\n<p> 5</p>\n<p>OpenResty</p>\n<p>Kong</p>\n<p>ZuulZuul2</p>\n<p>Spring Cloud Gateway</p>\n<h3 id=\"1-OpenResty\"><a href=\"#1-OpenResty\" class=\"headerlink\" title=\"1. OpenResty\"></a>1. OpenResty</h3><p>OpenResty</p>\n<p>OpenResty Nginx Lua  Web  Lua  Web Web </p>\n<p> Nginx OpenResty  Nginx  Web  Lua  Nginx  Nginx C  Web </p>\n<p>OpenResty  OpenAPI  Open Resty REST  ngx_openresty  web service  web </p>\n<p> Nginx  openresty  nginx nginx web </p>\n<p>ngx_openresty  openresty.org </p>\n<p>ngx_openresty </p>\n<p> web  web  OpenResty  Nodejs PHP ngx_openresty  CPU </p>\n<p>Nginx  Web  Web  NetScaler Lua </p>\n<h3 id=\"2-Kong\"><a href=\"#2-Kong\" class=\"headerlink\" title=\"2. Kong\"></a>2. Kong</h3><p>KongOpenResty Api OpenRestyKong</p>\n<p>Api</p>\n<p></p>\n<p>Api</p>\n<p></p>\n<p>log</p>\n<p>apiServerless </p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p></p>\n<p>API GATEWAY</p>\n<p>Kong:</p>\n<p><img src=\"/image-108.png\" alt=\"Alt text\"><br>KongApi</p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p> API GATEWAY Mashape APIAPIKONG NGINX+Lua lua APIKONG HTTP CORSTCPUDPAPI NGINX Kong  Mashape  15000  API 200000 </p>\n<h4 id=\"Kong\"><a href=\"#Kong\" class=\"headerlink\" title=\"Kong\"></a>Kong</h4><p>Kong:<br><img src=\"/image-109.png\" alt=\"Alt text\"><br>Nginx Nginx LuaOpenResty Lua</p>\n<p>Kong:APIKong<a href=\"https://www.jianshu.com/p/a68e45bcadb6\">https://www.jianshu.com/p/a68e45bcadb6</a></p>\n<h3 id=\"3-Zuul1-0\"><a href=\"#3-Zuul1-0\" class=\"headerlink\" title=\"3. Zuul1.0\"></a>3. Zuul1.0</h3><p>ZuulwebNetflixZuulAmazon</p>\n<p>Zuul</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Zuul</p>\n<p>Type </p>\n<p>Async </p>\n<p>Execution Order </p>\n<p>Criteria </p>\n<p>Action </p>\n<p>ZuulRequestContext</p>\n<p>Zuul:</p>\n<h4 id=\"Incoming\"><a href=\"#Incoming\" class=\"headerlink\" title=\"Incoming\"></a>Incoming</h4><p>IncomingOrigin:DDoS</p>\n<h4 id=\"Endpoint\"><a href=\"#Endpoint\" class=\"headerlink\" title=\"Endpoint\"></a>Endpoint</h4><p>EndpointincomingZuulProxyEndpoint:404</p>\n<h4 id=\"Outgoing\"><a href=\"#Outgoing\" class=\"headerlink\" title=\"Outgoing\"></a>Outgoing</h4><p>Outgoing:&#x2F;gziping</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>PRE Origin</p>\n<p>ROUTING Origin</p>\n<p>POST Origin</p>\n<p>ERROR </p>\n<p></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<h4 id=\"Zuul-1-0-\"><a href=\"#Zuul-1-0-\" class=\"headerlink\" title=\"Zuul 1.0 \"></a>Zuul 1.0 </h4><p><img src=\"/image-110.png\" alt=\"Alt text\"><br>NetflixAPIZuulZuulZuul2Zuul2Zuul1Zuul2NettyZuul1Zuul 2Netty</p>\n<h3 id=\"4-Zuul2-0\"><a href=\"#4-Zuul2-0\" class=\"headerlink\" title=\"4. Zuul2.0\"></a>4. Zuul2.0</h3><p>Zuul 2.0 <br><img src=\"/image-111.png\" alt=\"Alt text\"><br>Zuul2Zuul1</p>\n<p>Netty ServerServletNetty ClientHttp Client</p>\n<p>Inbound FiltersPre-routing FiltersEndpoint FilterRouting FilterOutbound FiltersPost-routing Filters</p>\n<p>Inbound Filters  Origin </p>\n<p>Endpoint Filters ProxyEndpointOrigin</p>\n<p>Outbound Filters Originheader</p>\n<p>sync  asyncZuul</p>\n<p>Zuul2</p>\n<p> CPU core(Context Switch)</p>\n<p> Zuul2Zuul1Zuul1Zuul2-&gt;-&gt;(call flow)idIDEThreadLocalCATThreadLocal()</p>\n<p>IO(IO bound)IOCPU</p>\n<h4 id=\"Zuul--Zuul-2-\"><a href=\"#Zuul--Zuul-2-\" class=\"headerlink\" title=\"Zuul  Zuul 2 \"></a>Zuul  Zuul 2 </h4><p><img src=\"/image-112.png\" alt=\"Alt text\"><br>NetflixZuul2Zuul120% 20%20%Netflix22ppt11</p>\n<h3 id=\"5-Spring-Cloud-Gateway\"><a href=\"#5-Spring-Cloud-Gateway\" class=\"headerlink\" title=\"5. Spring Cloud Gateway\"></a>5. Spring Cloud Gateway</h3><p>SpringCloud Gateway  Spring Cloud  Spring 5.0Spring Boot 2.0  Project Reactor  API </p>\n<p>SpringCloud Gateway  Spring Cloud  ZuulSpring Cloud 2.0Zuul 2.0Zuul 2.0ReactorSpringCloud GatewayWebFluxWebFluxReactorNetty</p>\n<p>Spring Cloud Gateway  Filter &#x2F;</p>\n<p>Spring Cloud Gateway Netty </p>\n<p>SpringCloud Gateway </p>\n<p>SpringCloudSpringCloud Gateway </p>\n<p>1 Spring Framework 5Project Reactor  Spring Boot 2.0</p>\n<p>2 Hystrix </p>\n<p>3 Spring Cloud DiscoveryClient</p>\n<p>4Predicates  Filters  Predicates  Filters</p>\n<p>5</p>\n<p>ZuulSpringCloud GatewayZuul</p>\n<p></p>\n<h4 id=\"Filter-\"><a href=\"#Filter-\" class=\"headerlink\" title=\"Filter \"></a>Filter </h4><p>Zuulorg.springframework.cloud.gateway.filter.GatewayFilter</p>\n<h4 id=\"Route-\"><a href=\"#Route-\" class=\"headerlink\" title=\"Route \"></a>Route </h4><p>ZuulRoute  ID URIURI</p>\n<h4 id=\"Predicate-\"><a href=\"#Predicate-\" class=\"headerlink\" title=\"Predicate \"></a>Predicate </h4><p> Java 8  Predicate HTTP  headers   ServerWebExchange</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/image-113.png\" alt=\"Alt text\"><br></p>\n<p>&#x2F;&#x2F;<a href=\"http://www.cnblogs.com/Courage129/p/14446586.html\">www.cnblogs.com/Courage129/p/14446586.html</a></p>\n<p>!</p>\n"},{"title":"grafana how to create alert rule","date":"2023-08-31T09:08:54.000Z","_content":"# 1. grafana\n\ngrafanaSMTP / Emailing\n\n```\n    [smtp]\n    enabled = true # smtp\n    host = smtp.mxhichina.com:465  #\n    user = test@test.com  #\n    password = test123456 #\n    from_address = test@test.com #\n    from_name = Grafana #name\n```\n\n# 2. contact points()\n\ncontact pointsmessage templatecontact points\n\n## 2.1 message template()\n\ngrafanago\n\n| Name | Type | Notes |\n| --- | --- | --- |\n| Receiver | string | Name of the contact point that the notification is being sent to. |\n| Status | string | `firing`if at least one alert is firing, otherwise`resolved`. |\n| Alerts | Alert | List of alert objects that are included in this notification (see below). |\n| GroupLabels | KeyValue | Labels these alerts were grouped by. |\n| CommonLabels | KeyValue | Labels common to all the alerts included in this notification. |\n| CommonAnnotations | KeyValue | Annotations common to all the alerts included in this notification. |\n| ExternalURL | string | Back link to the Grafana that sent the notification. If using external Alertmanager, back link to this Alertmanager. |\n\nAlerts\n\n- `Alerts.Firing`returns a list of firing alerts.\n- `Alerts.Resolved`returns a list of resolved alerts.\n\n![template](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-message-template.png)\n\ndefineTemplate name,Template name \n\n## 2.2  contact point\n\n![point](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-contact-point.png)\n\nnamecontactnamecontacttact\n\n- Addresses: ;)\n  \n- Single email: \n  \n- message: \n  \n  ```\n  {{template \"alert message\" .}}\n  ```\n  \n- Disable resloved message: \n  \n\n# 3. Notification policies\n\nlabel contact point\n\n![np](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/n-p.png)\n\n- matching labels labelalerts\n  \n- contact point: contact point.\n  \n- Continue matching subsequent sibling nodes: \n  \n- Override groupingGrafanaOverride grouping\n  \n  Override grouping\n  \n  Override grouping\n  \n  1. \n  2. \n  3. \n  \n  Override grouping\n  \n- Override general timings\n  \n  GrafanaRepeat intervalGrafana\n  \n  Override general timings\n  \n  \n  \n  1. Group wait: \n    \n  2. Group interval: \n    \n  3. Repeat interval: \n    \n\n# 4. rule)\n\nrule\n\n- Cortex or Loki managed alerting ruleCortexLokirulePrometheus\n  \n  CortexLokiGrafana\n  \n  CortexCortexCortexPromQLCortexCortex\n  \n  LokiLokiLokiPromQLCortexLoki\n  \n  CortexLokiGrafanaCortexLoki\n  \n- Cortex or Loki managed recording rulerecordingrule\n  \n- Grafana managed alerting rulegrafana\n  \n\n## 4.2 Grafana managed alerting rule\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-1.png)\n\n- rule name: \n  \n- rule type: \n  \n- Folder: Folder\n  \n- \n  \n  1. Prometheus\n    \n  2. 10\n    \n  3. Metrics browser: PromQL\n    \n  4. Legend: \n    \n  5. Min step:  200 200 \n    \n  6. Resolution  1  1  1/2 1/3  1/2  1  2 \n    \n  7. Format Time seriesTableHeap Map Time series Table Heap Map \n    \n    1. instant: \n\n    ![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-2.png)\n      \n    \n    Expression\n      \n    - classic condition:\n        \n        1. `avg()`: CPU`avg()`\n          \n        2. `last()`: `last()`\n          \n        3. `max()`: CPU`max()`\n          \n        4. `min()`: CPU`min()`\n          \n        5. `sum()`: `sum()`\n          \n        6. `count()`: `count()`\n          \n        \n      \n      Define alert conditions: \n      \n      - condition: query\n        \n      - Evaluate: \n        \n      - For firing.\n        \n      - Configure no data and error handling: \n        \n        | No Data Option | Description |\n        | --- | --- |\n        | No Data | Create a new alert`DatasourceNoData`with the name and UID of the alert rule, and UID of the datasource that returned no data as labels. |\n        | Alerting | Set alert rule state to`Alerting`. |\n        | Ok  | Set alert rule state to`Normal`. |\n        \n        | Error or timeout option | Description |\n        | --- | --- |\n        | Alerting | Set alert rule state to`Alerting` |\n        | OK  | Set alert rule state to`Normal` |\n        | Error | Create a new alert`DatasourceError`with the name and UID of the alert rule, and UID of the datasource that returned no data as labels. |\n        \n      \n      Add details for your alert alert","source":"_posts/kubernetes/grafana-create-alert-rule.md","raw":"---\ntitle: grafana how to create alert rule\ndate: 2023-08-31 17:08:54\ncategories:\n  - [kubernetes]\ntags: grafana\n---\n# 1. grafana\n\ngrafanaSMTP / Emailing\n\n```\n    [smtp]\n    enabled = true # smtp\n    host = smtp.mxhichina.com:465  #\n    user = test@test.com  #\n    password = test123456 #\n    from_address = test@test.com #\n    from_name = Grafana #name\n```\n\n# 2. contact points()\n\ncontact pointsmessage templatecontact points\n\n## 2.1 message template()\n\ngrafanago\n\n| Name | Type | Notes |\n| --- | --- | --- |\n| Receiver | string | Name of the contact point that the notification is being sent to. |\n| Status | string | `firing`if at least one alert is firing, otherwise`resolved`. |\n| Alerts | Alert | List of alert objects that are included in this notification (see below). |\n| GroupLabels | KeyValue | Labels these alerts were grouped by. |\n| CommonLabels | KeyValue | Labels common to all the alerts included in this notification. |\n| CommonAnnotations | KeyValue | Annotations common to all the alerts included in this notification. |\n| ExternalURL | string | Back link to the Grafana that sent the notification. If using external Alertmanager, back link to this Alertmanager. |\n\nAlerts\n\n- `Alerts.Firing`returns a list of firing alerts.\n- `Alerts.Resolved`returns a list of resolved alerts.\n\n![template](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-message-template.png)\n\ndefineTemplate name,Template name \n\n## 2.2  contact point\n\n![point](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-contact-point.png)\n\nnamecontactnamecontacttact\n\n- Addresses: ;)\n  \n- Single email: \n  \n- message: \n  \n  ```\n  {{template \"alert message\" .}}\n  ```\n  \n- Disable resloved message: \n  \n\n# 3. Notification policies\n\nlabel contact point\n\n![np](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/n-p.png)\n\n- matching labels labelalerts\n  \n- contact point: contact point.\n  \n- Continue matching subsequent sibling nodes: \n  \n- Override groupingGrafanaOverride grouping\n  \n  Override grouping\n  \n  Override grouping\n  \n  1. \n  2. \n  3. \n  \n  Override grouping\n  \n- Override general timings\n  \n  GrafanaRepeat intervalGrafana\n  \n  Override general timings\n  \n  \n  \n  1. Group wait: \n    \n  2. Group interval: \n    \n  3. Repeat interval: \n    \n\n# 4. rule)\n\nrule\n\n- Cortex or Loki managed alerting ruleCortexLokirulePrometheus\n  \n  CortexLokiGrafana\n  \n  CortexCortexCortexPromQLCortexCortex\n  \n  LokiLokiLokiPromQLCortexLoki\n  \n  CortexLokiGrafanaCortexLoki\n  \n- Cortex or Loki managed recording rulerecordingrule\n  \n- Grafana managed alerting rulegrafana\n  \n\n## 4.2 Grafana managed alerting rule\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-1.png)\n\n- rule name: \n  \n- rule type: \n  \n- Folder: Folder\n  \n- \n  \n  1. Prometheus\n    \n  2. 10\n    \n  3. Metrics browser: PromQL\n    \n  4. Legend: \n    \n  5. Min step:  200 200 \n    \n  6. Resolution  1  1  1/2 1/3  1/2  1  2 \n    \n  7. Format Time seriesTableHeap Map Time series Table Heap Map \n    \n    1. instant: \n\n    ![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-2.png)\n      \n    \n    Expression\n      \n    - classic condition:\n        \n        1. `avg()`: CPU`avg()`\n          \n        2. `last()`: `last()`\n          \n        3. `max()`: CPU`max()`\n          \n        4. `min()`: CPU`min()`\n          \n        5. `sum()`: `sum()`\n          \n        6. `count()`: `count()`\n          \n        \n      \n      Define alert conditions: \n      \n      - condition: query\n        \n      - Evaluate: \n        \n      - For firing.\n        \n      - Configure no data and error handling: \n        \n        | No Data Option | Description |\n        | --- | --- |\n        | No Data | Create a new alert`DatasourceNoData`with the name and UID of the alert rule, and UID of the datasource that returned no data as labels. |\n        | Alerting | Set alert rule state to`Alerting`. |\n        | Ok  | Set alert rule state to`Normal`. |\n        \n        | Error or timeout option | Description |\n        | --- | --- |\n        | Alerting | Set alert rule state to`Alerting` |\n        | OK  | Set alert rule state to`Normal` |\n        | Error | Create a new alert`DatasourceError`with the name and UID of the alert rule, and UID of the datasource that returned no data as labels. |\n        \n      \n      Add details for your alert alert","slug":"kubernetes/grafana-create-alert-rule","published":1,"updated":"2023-08-31T09:13:02.480Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawn000nlsjxek41470f","content":"<h1 id=\"1-grafana\"><a href=\"#1-grafana\" class=\"headerlink\" title=\"1. grafana\"></a>1. grafana</h1><p>grafanaSMTP &#x2F; Emailing</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[smtp]</span><br><span class=\"line\">enabled = true # smtp</span><br><span class=\"line\">host = smtp.mxhichina.com:465  #</span><br><span class=\"line\">user = test@test.com  #</span><br><span class=\"line\">password = test123456 #</span><br><span class=\"line\">from_address = test@test.com #</span><br><span class=\"line\">from_name = Grafana #name</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"2-contact-points-\"><a href=\"#2-contact-points-\" class=\"headerlink\" title=\"2. contact points()\"></a>2. contact points()</h1><p>contact pointsmessage templatecontact points</p>\n<h2 id=\"2-1-message-template-\"><a href=\"#2-1-message-template-\" class=\"headerlink\" title=\"2.1 message template()\"></a>2.1 message template()</h2><p>grafanago</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Receiver</td>\n<td>string</td>\n<td>Name of the contact point that the notification is being sent to.</td>\n</tr>\n<tr>\n<td>Status</td>\n<td>string</td>\n<td><code>firing</code>if at least one alert is firing, otherwise<code>resolved</code>.</td>\n</tr>\n<tr>\n<td>Alerts</td>\n<td>Alert</td>\n<td>List of alert objects that are included in this notification (see below).</td>\n</tr>\n<tr>\n<td>GroupLabels</td>\n<td>KeyValue</td>\n<td>Labels these alerts were grouped by.</td>\n</tr>\n<tr>\n<td>CommonLabels</td>\n<td>KeyValue</td>\n<td>Labels common to all the alerts included in this notification.</td>\n</tr>\n<tr>\n<td>CommonAnnotations</td>\n<td>KeyValue</td>\n<td>Annotations common to all the alerts included in this notification.</td>\n</tr>\n<tr>\n<td>ExternalURL</td>\n<td>string</td>\n<td>Back link to the Grafana that sent the notification. If using external Alertmanager, back link to this Alertmanager.</td>\n</tr>\n</tbody></table>\n<p>Alerts</p>\n<ul>\n<li><code>Alerts.Firing</code>returns a list of firing alerts.</li>\n<li><code>Alerts.Resolved</code>returns a list of resolved alerts.</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-message-template.png\" alt=\"template\"></p>\n<p>defineTemplate name,Template name </p>\n<h2 id=\"2-2--contact-point\"><a href=\"#2-2--contact-point\" class=\"headerlink\" title=\"2.2  contact point\"></a>2.2  contact point</h2><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-contact-point.png\" alt=\"point\"></p>\n<p>namecontactnamecontacttact</p>\n<ul>\n<li><p>Addresses: ;)</p>\n</li>\n<li><p>Single email: </p>\n</li>\n<li><p>message: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;template &quot;alert message&quot; .&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Disable resloved message: </p>\n</li>\n</ul>\n<h1 id=\"3-Notification-policies\"><a href=\"#3-Notification-policies\" class=\"headerlink\" title=\"3. Notification policies\"></a>3. Notification policies</h1><p>label contact point</p>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/n-p.png\" alt=\"np\"></p>\n<ul>\n<li><p>matching labels labelalerts</p>\n</li>\n<li><p>contact point: contact point.</p>\n</li>\n<li><p>Continue matching subsequent sibling nodes: </p>\n</li>\n<li><p>Override groupingGrafanaOverride grouping</p>\n<p>Override grouping</p>\n<p>Override grouping</p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>Override grouping</p>\n</li>\n<li><p>Override general timings</p>\n<p>GrafanaRepeat intervalGrafana</p>\n<p>Override general timings</p>\n<p></p>\n<ol>\n<li><p>Group wait: </p>\n</li>\n<li><p>Group interval: </p>\n</li>\n<li><p>Repeat interval: </p>\n</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"4-rule\"><a href=\"#4-rule\" class=\"headerlink\" title=\"4. rule)\"></a>4. rule)</h1><p>rule</p>\n<ul>\n<li><p>Cortex or Loki managed alerting ruleCortexLokirulePrometheus</p>\n<p>CortexLokiGrafana</p>\n<p>CortexCortexCortexPromQLCortexCortex</p>\n<p>LokiLokiLokiPromQLCortexLoki</p>\n<p>CortexLokiGrafanaCortexLoki</p>\n</li>\n<li><p>Cortex or Loki managed recording rulerecordingrule</p>\n</li>\n<li><p>Grafana managed alerting rulegrafana</p>\n</li>\n</ul>\n<h2 id=\"4-2-Grafana-managed-alerting-rule\"><a href=\"#4-2-Grafana-managed-alerting-rule\" class=\"headerlink\" title=\"4.2 Grafana managed alerting rule\"></a>4.2 Grafana managed alerting rule</h2><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-1.png\"></p>\n<ul>\n<li><p>rule name: </p>\n</li>\n<li><p>rule type: </p>\n</li>\n<li><p>Folder: Folder</p>\n</li>\n<li><p></p>\n<ol>\n<li><p>Prometheus</p>\n</li>\n<li><p>10</p>\n</li>\n<li><p>Metrics browser: PromQL</p>\n</li>\n<li><p>Legend: </p>\n</li>\n<li><p>Min step:  200 200 </p>\n</li>\n<li><p>Resolution  1  1  1&#x2F;2 1&#x2F;3  1&#x2F;2  1  2 </p>\n</li>\n<li><p>Format Time seriesTableHeap Map Time series Table Heap Map </p>\n</li>\n<li><p>instant: </p>\n</li>\n</ol>\n<p>  <img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-2.png\"></p>\n<p>  Expression</p>\n<ul>\n<li><p>classic condition:</p>\n<ol>\n<li><p><code>avg()</code>: CPU<code>avg()</code></p>\n</li>\n<li><p><code>last()</code>: <code>last()</code></p>\n</li>\n<li><p><code>max()</code>: CPU<code>max()</code></p>\n</li>\n<li><p><code>min()</code>: CPU<code>min()</code></p>\n</li>\n<li><p><code>sum()</code>: <code>sum()</code></p>\n</li>\n<li><p><code>count()</code>: <code>count()</code></p>\n</li>\n</ol>\n<p>Define alert conditions: </p>\n<ul>\n<li><p>condition: query</p>\n</li>\n<li><p>Evaluate: </p>\n</li>\n<li><p>For firing.</p>\n</li>\n<li><p>Configure no data and error handling: </p>\n<table>\n<thead>\n<tr>\n<th>No Data Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>No Data</td>\n<td>Create a new alert<code>DatasourceNoData</code>with the name and UID of the alert rule, and UID of the datasource that returned no data as labels.</td>\n</tr>\n<tr>\n<td>Alerting</td>\n<td>Set alert rule state to<code>Alerting</code>.</td>\n</tr>\n<tr>\n<td>Ok</td>\n<td>Set alert rule state to<code>Normal</code>.</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>Error or timeout option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Alerting</td>\n<td>Set alert rule state to<code>Alerting</code></td>\n</tr>\n<tr>\n<td>OK</td>\n<td>Set alert rule state to<code>Normal</code></td>\n</tr>\n<tr>\n<td>Error</td>\n<td>Create a new alert<code>DatasourceError</code>with the name and UID of the alert rule, and UID of the datasource that returned no data as labels.</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<p>Add details for your alert alert</p>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<h1 id=\"1-grafana\"><a href=\"#1-grafana\" class=\"headerlink\" title=\"1. grafana\"></a>1. grafana</h1><p>grafanaSMTP &#x2F; Emailing</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[smtp]</span><br><span class=\"line\">enabled = true # smtp</span><br><span class=\"line\">host = smtp.mxhichina.com:465  #</span><br><span class=\"line\">user = test@test.com  #</span><br><span class=\"line\">password = test123456 #</span><br><span class=\"line\">from_address = test@test.com #</span><br><span class=\"line\">from_name = Grafana #name</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"2-contact-points-\"><a href=\"#2-contact-points-\" class=\"headerlink\" title=\"2. contact points()\"></a>2. contact points()</h1><p>contact pointsmessage templatecontact points</p>\n<h2 id=\"2-1-message-template-\"><a href=\"#2-1-message-template-\" class=\"headerlink\" title=\"2.1 message template()\"></a>2.1 message template()</h2><p>grafanago</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Receiver</td>\n<td>string</td>\n<td>Name of the contact point that the notification is being sent to.</td>\n</tr>\n<tr>\n<td>Status</td>\n<td>string</td>\n<td><code>firing</code>if at least one alert is firing, otherwise<code>resolved</code>.</td>\n</tr>\n<tr>\n<td>Alerts</td>\n<td>Alert</td>\n<td>List of alert objects that are included in this notification (see below).</td>\n</tr>\n<tr>\n<td>GroupLabels</td>\n<td>KeyValue</td>\n<td>Labels these alerts were grouped by.</td>\n</tr>\n<tr>\n<td>CommonLabels</td>\n<td>KeyValue</td>\n<td>Labels common to all the alerts included in this notification.</td>\n</tr>\n<tr>\n<td>CommonAnnotations</td>\n<td>KeyValue</td>\n<td>Annotations common to all the alerts included in this notification.</td>\n</tr>\n<tr>\n<td>ExternalURL</td>\n<td>string</td>\n<td>Back link to the Grafana that sent the notification. If using external Alertmanager, back link to this Alertmanager.</td>\n</tr>\n</tbody></table>\n<p>Alerts</p>\n<ul>\n<li><code>Alerts.Firing</code>returns a list of firing alerts.</li>\n<li><code>Alerts.Resolved</code>returns a list of resolved alerts.</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-message-template.png\" alt=\"template\"></p>\n<p>defineTemplate name,Template name </p>\n<h2 id=\"2-2--contact-point\"><a href=\"#2-2--contact-point\" class=\"headerlink\" title=\"2.2  contact point\"></a>2.2  contact point</h2><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-contact-point.png\" alt=\"point\"></p>\n<p>namecontactnamecontacttact</p>\n<ul>\n<li><p>Addresses: ;)</p>\n</li>\n<li><p>Single email: </p>\n</li>\n<li><p>message: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123;template &quot;alert message&quot; .&#125;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Disable resloved message: </p>\n</li>\n</ul>\n<h1 id=\"3-Notification-policies\"><a href=\"#3-Notification-policies\" class=\"headerlink\" title=\"3. Notification policies\"></a>3. Notification policies</h1><p>label contact point</p>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/n-p.png\" alt=\"np\"></p>\n<ul>\n<li><p>matching labels labelalerts</p>\n</li>\n<li><p>contact point: contact point.</p>\n</li>\n<li><p>Continue matching subsequent sibling nodes: </p>\n</li>\n<li><p>Override groupingGrafanaOverride grouping</p>\n<p>Override grouping</p>\n<p>Override grouping</p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>Override grouping</p>\n</li>\n<li><p>Override general timings</p>\n<p>GrafanaRepeat intervalGrafana</p>\n<p>Override general timings</p>\n<p></p>\n<ol>\n<li><p>Group wait: </p>\n</li>\n<li><p>Group interval: </p>\n</li>\n<li><p>Repeat interval: </p>\n</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"4-rule\"><a href=\"#4-rule\" class=\"headerlink\" title=\"4. rule)\"></a>4. rule)</h1><p>rule</p>\n<ul>\n<li><p>Cortex or Loki managed alerting ruleCortexLokirulePrometheus</p>\n<p>CortexLokiGrafana</p>\n<p>CortexCortexCortexPromQLCortexCortex</p>\n<p>LokiLokiLokiPromQLCortexLoki</p>\n<p>CortexLokiGrafanaCortexLoki</p>\n</li>\n<li><p>Cortex or Loki managed recording rulerecordingrule</p>\n</li>\n<li><p>Grafana managed alerting rulegrafana</p>\n</li>\n</ul>\n<h2 id=\"4-2-Grafana-managed-alerting-rule\"><a href=\"#4-2-Grafana-managed-alerting-rule\" class=\"headerlink\" title=\"4.2 Grafana managed alerting rule\"></a>4.2 Grafana managed alerting rule</h2><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-1.png\"></p>\n<ul>\n<li><p>rule name: </p>\n</li>\n<li><p>rule type: </p>\n</li>\n<li><p>Folder: Folder</p>\n</li>\n<li><p></p>\n<ol>\n<li><p>Prometheus</p>\n</li>\n<li><p>10</p>\n</li>\n<li><p>Metrics browser: PromQL</p>\n</li>\n<li><p>Legend: </p>\n</li>\n<li><p>Min step:  200 200 </p>\n</li>\n<li><p>Resolution  1  1  1&#x2F;2 1&#x2F;3  1&#x2F;2  1  2 </p>\n</li>\n<li><p>Format Time seriesTableHeap Map Time series Table Heap Map </p>\n</li>\n<li><p>instant: </p>\n</li>\n</ol>\n<p>  <img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/grafana/create-rule-2.png\"></p>\n<p>  Expression</p>\n<ul>\n<li><p>classic condition:</p>\n<ol>\n<li><p><code>avg()</code>: CPU<code>avg()</code></p>\n</li>\n<li><p><code>last()</code>: <code>last()</code></p>\n</li>\n<li><p><code>max()</code>: CPU<code>max()</code></p>\n</li>\n<li><p><code>min()</code>: CPU<code>min()</code></p>\n</li>\n<li><p><code>sum()</code>: <code>sum()</code></p>\n</li>\n<li><p><code>count()</code>: <code>count()</code></p>\n</li>\n</ol>\n<p>Define alert conditions: </p>\n<ul>\n<li><p>condition: query</p>\n</li>\n<li><p>Evaluate: </p>\n</li>\n<li><p>For firing.</p>\n</li>\n<li><p>Configure no data and error handling: </p>\n<table>\n<thead>\n<tr>\n<th>No Data Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>No Data</td>\n<td>Create a new alert<code>DatasourceNoData</code>with the name and UID of the alert rule, and UID of the datasource that returned no data as labels.</td>\n</tr>\n<tr>\n<td>Alerting</td>\n<td>Set alert rule state to<code>Alerting</code>.</td>\n</tr>\n<tr>\n<td>Ok</td>\n<td>Set alert rule state to<code>Normal</code>.</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>Error or timeout option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Alerting</td>\n<td>Set alert rule state to<code>Alerting</code></td>\n</tr>\n<tr>\n<td>OK</td>\n<td>Set alert rule state to<code>Normal</code></td>\n</tr>\n<tr>\n<td>Error</td>\n<td>Create a new alert<code>DatasourceError</code>with the name and UID of the alert rule, and UID of the datasource that returned no data as labels.</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<p>Add details for your alert alert</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"Grafana","date":"2023-10-31T02:10:19.000Z","_content":"Grafana\n huhuli VATeam 2022-09-30 14:08 \nhttps://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ\n# \n\nQQRUM \n\n\n![Alt text](image-30.png)\n\nGrafanaGrafanaQQ\n\n\n\nGrafana\n\nGrafana Grafana()\n\n         \n\nGrafanaLinuxWindowsMacOSDocker\n\n:  https://grafana.com/get/\n\n\n\nGrafanaGrafana\n\n\n\n\n# \n\n\n\n\n\nGrafana\n\n\nGrafana   Visualization \n\n                \n![Alt text](image-31.png)\n\n\n## 1. \n\n![Alt text](image-32.png)           \n\nTime series\n\nGraph styles\n\na. style: Lines\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 2. \n\n![Alt text](image-39.png)         \n\nTime series\n\nGraph styles\n\na. style: Bars\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 3. \n\n![Alt text](image-33.png)        \n\nTime series\n\nGraph styles\n\na. style: Points\n\nb. Point size: 5\n\nc. Stack series: Normal\n\n\n\n## 4. \n\n![Alt text](image-34.png)          \n\nPie chart\n\n\n\n## 5. \n\n![Alt text](image-35.png)          \n\nStat\n\nGraph styles\n\na. style: Bars\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 6. \n\n![Alt text](image-36.png)        \n\nGauge\n\n\n\n## 7. \n\n![Alt text](image-37.png)         \n\nTable\n\n\n\n## 8. \n\n![Alt text](image-38.png)           \n\nTextMarkdown  HTML\n\n\n\n## 9. \n\n\n\n\n# \n\n## \n\n\n  \n\n\n\n  \n\n\n\n## \n\n\n\n\n\n\n \n\n\n\n() \n\n\n\n  \n\n\n\n\n##       \nMarkdown  HTML\n\n\n\n\n\n\n\n\n## \n\nGrafanaGrafana\n\n```\nFROM grafana/grafana:8.3.1\nUSER root\nRUN grafana-cli plugins install grafana-clickhouse-datasource //\nRUN grafana-cli plugins install auxmoney-waterfall-panel //\n```\n\n\n\n## \n\n\nGrafana\"\"DataSource\n\n![Alt text](image-40.png)               \n\nAdd data source\"Promethrusipport\n\n![Alt text](image-41.png)         \n\n![Alt text](image-42.png)        \n\n\n\n## \n\n\n1. Grafana\"\"Plugins\n\n ![Alt text](image-43.png)          \n\n\n\n2. tab \n\n           \n![Alt text](image-44.png)\n\n\n3. \n\n![Alt text](image-45.png)       \n\n\n\n\n\n\n# Grafana\n\n\n\ndashboard: \n\npanel\n\n\n\n##  (dashboard)\n\n\n \n\n\n\n1. Grafana\"\"CreateDashboard  panel        \n\n![Alt text](image-46.png)\n![Alt text](image-47.png)\n\na.\n\nb. \n\nc. \n\nd. \n\n\n\n2.         \n![Alt text](image-48.png)\na. \n\nb. \n\nc. \n\nd. TagTag\n\ne. \n\n\n\n##  (panel)\n\n\n![Alt text](image-50.png)         \n\n\n\nAdd a new panel  \n\n   \n![Alt text](image-51.png)\n         \n\n## \n \n\n1. Data source\n![Alt text](image-52.png)\n         QQinfluxdb, influxdb\n\n\n\n2. SQL\n\nGrafana \n\nGrafana SQL\n\n\n\na.  \n\n![Alt text](image-53.png)   \n\nSQL\n\n![Alt text](image-54.png)\n\n## \nSQL\n\n\n\nTime series\n\n![Alt text](image-55.png)\n\n\n\n1. \n\n![Alt text](image-56.png)      \n\nSQLGrafana\n\n\n\na. \n\nb. \n\nc. \n\n\n\n2. \n\n![Alt text](image-57.png)        \n\nTootiphover Single All Hidden\n\n         \n![Alt text](image-58.png)\n\n\n3. legend\n\n         \n![Alt text](image-59.png)\n\n\n\n\na. List () \n\nb. Table \n\nc. Hidden, \n\n\n\n\n\na. Bottom, \n\nb. Right, \n\n\n\n \n\n![Alt text](image-60.png)      \n\n\n\n\n\n4. Axis\n\n![Alt text](image-61.png)         \n\nLabel\n\na. WidthLabel\n\nb. Soft min  Soft max \n\nc. Show gride lines \n\nd. Scale \n\n\n\n\n\n\n\n\n# Grafana\n\n\n\n\n\n##  (Standard options)\n\n\n![Alt text](image-62.png)              \n\nLabelms, Unit\n\n\n\n1. Unit\n\n![Alt text](image-63.png)              \n\n \n\n\n\n2. Min, Max\n\nMin, Max 0~30003000\n\n               \n![Alt text](image-64.png)\n\n\n3. Decimals \n\n\n\n4. Display Name SQL\n\n\n\n5. Color scheme\n\n\n\n               \n![Alt text](image-65.png)\n\n\nicon,\n\n\n![Alt text](image-66.png)\n                \n\n##  (Thresholds)\n\n\n \n\n\n\n![Alt text](image-67.png)              \n\n\n\n\n\n* 3000ms5000ms\n\n* 3000ms\n\n* 3000ms~5000ms\n\n* 5000ms\n\n\n\n\n\n1. , \n\n2. , \n\n\n\n\n\n1.  off\n\n2.  as lines\n\n3.  as filled regions\n\n4.  as filled regions and lines\n\n\n\n \n\n\n\n![Alt text](image-68.png)            \n\n\n\n##  (Value mappings)\n\n\n![Alt text](image-69.png)            \n\n SQL \n\n\n![Alt text](image-70.png)\n               \n\n\n\n1 \n\n2. \n\n3. \n\n4. \n\n\n\n 0~3000ms\n\n               \n![Alt text](image-71.png)\n\n\n0\n\n               \n![Alt text](image-72.png)\n\n\n##  (Overrides)\n\n\nSQL\n\n![Alt text](image-73.png)         \n\n\n\n1 \n\n2. \n\n3. \n\n4. SQL\n\n\n\nOverride \n\n![Alt text](image-74.png)          \n\n\n\n\n\nSQLjs_readycss_readyoverride\n\n\n\noverride\n\n![Alt text](image-75.png)              \n\n\n\ncss_ready \n\n1.  \n\n2. \n\n3. CSSms\n\n\n\njs_ready\n\n1. \n\n2. \n\n3. \n\n4. JSms\n\n\n\n                         \n![Alt text](image-76.png)\n\n## \n\n\nGrafana\n\n\n\nSQL$__interval\n\n\n\nGrafanaquery)\n\n\n\n\n\n\n\n\n\n               \n![Alt text](image-77.png)\n\n\n![Alt text](image-78.png)            \n\n\n\n\n\n ![Alt text](image-79.png)              \n\n\n\n\n\n\n\n\n\n|  |      |\n|:-----|:-----|\n| query | , ID |\n|custom | ,|\n|text box| |\n|constant||\n|data source||\n|interval||\n|ad hoc filters|/ InfluxDBPrometheus  Elasticsearch|\n\n\n\n\n\n\n\n\n\n\n\n$varname  apps.frontend.$varname.requests.count\n\n1. ${var_name} ${var_name:<format>} Grafana \n\n\n\n\n\nurl_event,\n\n               \n![Alt text](image-80.png)\n\n\n,sql \n\n               \n![Alt text](image-81.png)\n\n\n\n\n js_ready\n![Alt text](image-82.png)\ncss_ready\n\n![Alt text](image-83.png)\n\n## Link\n\n\nGrafanalink\n\nlink\n\n\n\n1. \n\n![Alt text](image-84.png)              \n\n\n\nlinklinkicon, , \n\n![Alt text](image-85.png)              \n\n\n\n2. link(data links)\n\ndata linksoverride\n\n               \n![Alt text](image-86.png)\n\n\nlinkdata links override\n\n\n\n## Link\n\n\nGrafanalinklink\n\n\n\ndata linksSQL\n\n\n\nURL $ \n\n               \n![Alt text](image-87.png)\n\n\n\n\na.  from, to\n\nb.  url_event\n\nc. SQLfields\n\n\n\ndata links \n\n\n\n\n# Grafana\n\n## Transform\n\n\nGrafanaSQLTransform\n\ntranform \n\n               \n![Alt text](image-88.png)\n\n\n\n\n1. Add field from calculation\n\n![Alt text](image-89.png)              \n\n\n\n\n\na. Reduce row \n\nb. Binary option \n\n\n\n2. (Convert field type)\n\n\n\n![Alt text](image-90.png)              \n\n\n\n3. (Filter data by name)\n\na. SQL\n\nb. \n\n               \n![Alt text](image-91.png)\n\n\n4. Merge\n\nsqljoin\n\n               \n![Alt text](image-92.png)\n\n\n5. Rename by regex\n\n\n\n![Alt text](image-93.png)          \n\ntransform transform\n\n\n\n## Repeat\n\n\nrepeat 1\n\n               \n![Alt text](image-94.png)\n\n\nrepeat\n\n               \n\n\n\nrepeat \n\n\n\n\n\n\n\n               \n![Alt text](image-95.png)\n\n\n## \n\n\nlink\n\n1. B\n\n2. B\n\n3. AB\n\n4. BBlink\n\n5. B\n\n\n\n\n\n\n\nlink\n\n\n\nrepeat url_event\n\n js_readyURL\n        \n![Alt text](image-96.png)\n\n\n css_readyURL\n\n               \n![Alt text](image-97.png)\n\n\nqueryURL\n```\nvar-{your_var_name} = {your_var_value}\n```\n\nurlGrafana\n\n\n\nlinkquery\n\n\n\n\n\n\n\n1. page render  A\n\ntablerender\n\n               \n![Alt text](image-98.png)\n\n\n2.  B\n\n\n\n               \n![Alt text](image-99.png)\n\n\nSQL\n\n               \n![Alt text](image-100.png)\n\n\n3. link\n\nAdata link, \n\n               \n![Alt text](image-101.png)\n\n\npage render\n\n:\n![Alt text](image-103.png)\n\n\n## \n\nGrafana\n\nGrafana\n\nGrafana","source":"_posts/kubernetes/grafana-dashboard.md","raw":"---\ntitle: Grafana\ndate: 2023-10-31 10:10:19\ncategories:\n  - [kubernetes]\ntags: grafana\n---\nGrafana\n huhuli VATeam 2022-09-30 14:08 \nhttps://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ\n# \n\nQQRUM \n\n\n![Alt text](image-30.png)\n\nGrafanaGrafanaQQ\n\n\n\nGrafana\n\nGrafana Grafana()\n\n         \n\nGrafanaLinuxWindowsMacOSDocker\n\n:  https://grafana.com/get/\n\n\n\nGrafanaGrafana\n\n\n\n\n# \n\n\n\n\n\nGrafana\n\n\nGrafana   Visualization \n\n                \n![Alt text](image-31.png)\n\n\n## 1. \n\n![Alt text](image-32.png)           \n\nTime series\n\nGraph styles\n\na. style: Lines\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 2. \n\n![Alt text](image-39.png)         \n\nTime series\n\nGraph styles\n\na. style: Bars\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 3. \n\n![Alt text](image-33.png)        \n\nTime series\n\nGraph styles\n\na. style: Points\n\nb. Point size: 5\n\nc. Stack series: Normal\n\n\n\n## 4. \n\n![Alt text](image-34.png)          \n\nPie chart\n\n\n\n## 5. \n\n![Alt text](image-35.png)          \n\nStat\n\nGraph styles\n\na. style: Bars\n\nb. Fill opacity: 3\n\nc. Gradient mode: scheme\n\n\n\n## 6. \n\n![Alt text](image-36.png)        \n\nGauge\n\n\n\n## 7. \n\n![Alt text](image-37.png)         \n\nTable\n\n\n\n## 8. \n\n![Alt text](image-38.png)           \n\nTextMarkdown  HTML\n\n\n\n## 9. \n\n\n\n\n# \n\n## \n\n\n  \n\n\n\n  \n\n\n\n## \n\n\n\n\n\n\n \n\n\n\n() \n\n\n\n  \n\n\n\n\n##       \nMarkdown  HTML\n\n\n\n\n\n\n\n\n## \n\nGrafanaGrafana\n\n```\nFROM grafana/grafana:8.3.1\nUSER root\nRUN grafana-cli plugins install grafana-clickhouse-datasource //\nRUN grafana-cli plugins install auxmoney-waterfall-panel //\n```\n\n\n\n## \n\n\nGrafana\"\"DataSource\n\n![Alt text](image-40.png)               \n\nAdd data source\"Promethrusipport\n\n![Alt text](image-41.png)         \n\n![Alt text](image-42.png)        \n\n\n\n## \n\n\n1. Grafana\"\"Plugins\n\n ![Alt text](image-43.png)          \n\n\n\n2. tab \n\n           \n![Alt text](image-44.png)\n\n\n3. \n\n![Alt text](image-45.png)       \n\n\n\n\n\n\n# Grafana\n\n\n\ndashboard: \n\npanel\n\n\n\n##  (dashboard)\n\n\n \n\n\n\n1. Grafana\"\"CreateDashboard  panel        \n\n![Alt text](image-46.png)\n![Alt text](image-47.png)\n\na.\n\nb. \n\nc. \n\nd. \n\n\n\n2.         \n![Alt text](image-48.png)\na. \n\nb. \n\nc. \n\nd. TagTag\n\ne. \n\n\n\n##  (panel)\n\n\n![Alt text](image-50.png)         \n\n\n\nAdd a new panel  \n\n   \n![Alt text](image-51.png)\n         \n\n## \n \n\n1. Data source\n![Alt text](image-52.png)\n         QQinfluxdb, influxdb\n\n\n\n2. SQL\n\nGrafana \n\nGrafana SQL\n\n\n\na.  \n\n![Alt text](image-53.png)   \n\nSQL\n\n![Alt text](image-54.png)\n\n## \nSQL\n\n\n\nTime series\n\n![Alt text](image-55.png)\n\n\n\n1. \n\n![Alt text](image-56.png)      \n\nSQLGrafana\n\n\n\na. \n\nb. \n\nc. \n\n\n\n2. \n\n![Alt text](image-57.png)        \n\nTootiphover Single All Hidden\n\n         \n![Alt text](image-58.png)\n\n\n3. legend\n\n         \n![Alt text](image-59.png)\n\n\n\n\na. List () \n\nb. Table \n\nc. Hidden, \n\n\n\n\n\na. Bottom, \n\nb. Right, \n\n\n\n \n\n![Alt text](image-60.png)      \n\n\n\n\n\n4. Axis\n\n![Alt text](image-61.png)         \n\nLabel\n\na. WidthLabel\n\nb. Soft min  Soft max \n\nc. Show gride lines \n\nd. Scale \n\n\n\n\n\n\n\n\n# Grafana\n\n\n\n\n\n##  (Standard options)\n\n\n![Alt text](image-62.png)              \n\nLabelms, Unit\n\n\n\n1. Unit\n\n![Alt text](image-63.png)              \n\n \n\n\n\n2. Min, Max\n\nMin, Max 0~30003000\n\n               \n![Alt text](image-64.png)\n\n\n3. Decimals \n\n\n\n4. Display Name SQL\n\n\n\n5. Color scheme\n\n\n\n               \n![Alt text](image-65.png)\n\n\nicon,\n\n\n![Alt text](image-66.png)\n                \n\n##  (Thresholds)\n\n\n \n\n\n\n![Alt text](image-67.png)              \n\n\n\n\n\n* 3000ms5000ms\n\n* 3000ms\n\n* 3000ms~5000ms\n\n* 5000ms\n\n\n\n\n\n1. , \n\n2. , \n\n\n\n\n\n1.  off\n\n2.  as lines\n\n3.  as filled regions\n\n4.  as filled regions and lines\n\n\n\n \n\n\n\n![Alt text](image-68.png)            \n\n\n\n##  (Value mappings)\n\n\n![Alt text](image-69.png)            \n\n SQL \n\n\n![Alt text](image-70.png)\n               \n\n\n\n1 \n\n2. \n\n3. \n\n4. \n\n\n\n 0~3000ms\n\n               \n![Alt text](image-71.png)\n\n\n0\n\n               \n![Alt text](image-72.png)\n\n\n##  (Overrides)\n\n\nSQL\n\n![Alt text](image-73.png)         \n\n\n\n1 \n\n2. \n\n3. \n\n4. SQL\n\n\n\nOverride \n\n![Alt text](image-74.png)          \n\n\n\n\n\nSQLjs_readycss_readyoverride\n\n\n\noverride\n\n![Alt text](image-75.png)              \n\n\n\ncss_ready \n\n1.  \n\n2. \n\n3. CSSms\n\n\n\njs_ready\n\n1. \n\n2. \n\n3. \n\n4. JSms\n\n\n\n                         \n![Alt text](image-76.png)\n\n## \n\n\nGrafana\n\n\n\nSQL$__interval\n\n\n\nGrafanaquery)\n\n\n\n\n\n\n\n\n\n               \n![Alt text](image-77.png)\n\n\n![Alt text](image-78.png)            \n\n\n\n\n\n ![Alt text](image-79.png)              \n\n\n\n\n\n\n\n\n\n|  |      |\n|:-----|:-----|\n| query | , ID |\n|custom | ,|\n|text box| |\n|constant||\n|data source||\n|interval||\n|ad hoc filters|/ InfluxDBPrometheus  Elasticsearch|\n\n\n\n\n\n\n\n\n\n\n\n$varname  apps.frontend.$varname.requests.count\n\n1. ${var_name} ${var_name:<format>} Grafana \n\n\n\n\n\nurl_event,\n\n               \n![Alt text](image-80.png)\n\n\n,sql \n\n               \n![Alt text](image-81.png)\n\n\n\n\n js_ready\n![Alt text](image-82.png)\ncss_ready\n\n![Alt text](image-83.png)\n\n## Link\n\n\nGrafanalink\n\nlink\n\n\n\n1. \n\n![Alt text](image-84.png)              \n\n\n\nlinklinkicon, , \n\n![Alt text](image-85.png)              \n\n\n\n2. link(data links)\n\ndata linksoverride\n\n               \n![Alt text](image-86.png)\n\n\nlinkdata links override\n\n\n\n## Link\n\n\nGrafanalinklink\n\n\n\ndata linksSQL\n\n\n\nURL $ \n\n               \n![Alt text](image-87.png)\n\n\n\n\na.  from, to\n\nb.  url_event\n\nc. SQLfields\n\n\n\ndata links \n\n\n\n\n# Grafana\n\n## Transform\n\n\nGrafanaSQLTransform\n\ntranform \n\n               \n![Alt text](image-88.png)\n\n\n\n\n1. Add field from calculation\n\n![Alt text](image-89.png)              \n\n\n\n\n\na. Reduce row \n\nb. Binary option \n\n\n\n2. (Convert field type)\n\n\n\n![Alt text](image-90.png)              \n\n\n\n3. (Filter data by name)\n\na. SQL\n\nb. \n\n               \n![Alt text](image-91.png)\n\n\n4. Merge\n\nsqljoin\n\n               \n![Alt text](image-92.png)\n\n\n5. Rename by regex\n\n\n\n![Alt text](image-93.png)          \n\ntransform transform\n\n\n\n## Repeat\n\n\nrepeat 1\n\n               \n![Alt text](image-94.png)\n\n\nrepeat\n\n               \n\n\n\nrepeat \n\n\n\n\n\n\n\n               \n![Alt text](image-95.png)\n\n\n## \n\n\nlink\n\n1. B\n\n2. B\n\n3. AB\n\n4. BBlink\n\n5. B\n\n\n\n\n\n\n\nlink\n\n\n\nrepeat url_event\n\n js_readyURL\n        \n![Alt text](image-96.png)\n\n\n css_readyURL\n\n               \n![Alt text](image-97.png)\n\n\nqueryURL\n```\nvar-{your_var_name} = {your_var_value}\n```\n\nurlGrafana\n\n\n\nlinkquery\n\n\n\n\n\n\n\n1. page render  A\n\ntablerender\n\n               \n![Alt text](image-98.png)\n\n\n2.  B\n\n\n\n               \n![Alt text](image-99.png)\n\n\nSQL\n\n               \n![Alt text](image-100.png)\n\n\n3. link\n\nAdata link, \n\n               \n![Alt text](image-101.png)\n\n\npage render\n\n:\n![Alt text](image-103.png)\n\n\n## \n\nGrafana\n\nGrafana\n\nGrafana","slug":"kubernetes/grafana-dashboard","published":1,"updated":"2023-10-31T02:50:09.089Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawo000qlsjxcfe1eh0g","content":"<p>Grafana<br> huhuli VATeam 2022-09-30 14:08 <br><a href=\"https://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ\">https://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>QQRUM <br></p>\n<p><img src=\"/image-30.png\" alt=\"Alt text\"></p>\n<p>GrafanaGrafanaQQ</p>\n<p>Grafana</p>\n<p>Grafana Grafana()</p>\n<p>GrafanaLinuxWindowsMacOSDocker</p>\n<p>:  <a href=\"https://grafana.com/get/\">https://grafana.com/get/</a></p>\n<p>GrafanaGrafana</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>Grafana<br></p>\n<p>Grafana   Visualization </p>\n<p><img src=\"/image-31.png\" alt=\"Alt text\"></p>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p><img src=\"/image-32.png\" alt=\"Alt text\">           </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Lines</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p><img src=\"/image-39.png\" alt=\"Alt text\">         </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Bars</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p><img src=\"/image-33.png\" alt=\"Alt text\">        </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Points</p>\n<p>b. Point size: 5</p>\n<p>c. Stack series: Normal</p>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><p><img src=\"/image-34.png\" alt=\"Alt text\">          </p>\n<p>Pie chart</p>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h2><p><img src=\"/image-35.png\" alt=\"Alt text\">          </p>\n<p>Stat</p>\n<p>Graph styles</p>\n<p>a. style: Bars</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><p><img src=\"/image-36.png\" alt=\"Alt text\">        </p>\n<p>Gauge</p>\n<h2 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h2><p><img src=\"/image-37.png\" alt=\"Alt text\">         </p>\n<p>Table</p>\n<h2 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8. \"></a>8. </h2><p><img src=\"/image-38.png\" alt=\"Alt text\">           </p>\n<p>TextMarkdown  HTML</p>\n<h2 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9. \"></a>9. </h2><h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>  </p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p> </p>\n<p>() </p>\n<p>  </p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"      \"></a>      </h2><p>Markdown  HTML</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GrafanaGrafana</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM grafana/grafana:8.3.1</span><br><span class=\"line\">USER root</span><br><span class=\"line\">RUN grafana-cli plugins install grafana-clickhouse-datasource //</span><br><span class=\"line\">RUN grafana-cli plugins install auxmoney-waterfall-panel //</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>GrafanaDataSource</p>\n<p><img src=\"/image-40.png\" alt=\"Alt text\">               </p>\n<p>Add data sourcePromethrusipport</p>\n<p><img src=\"/image-41.png\" alt=\"Alt text\">         </p>\n<p><img src=\"/image-42.png\" alt=\"Alt text\">        </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>GrafanaPlugins</li>\n</ol>\n<p> <img src=\"/image-43.png\" alt=\"Alt text\">          </p>\n<ol start=\"2\">\n<li>tab </li>\n</ol>\n<p><img src=\"/image-44.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p><img src=\"/image-45.png\" alt=\"Alt text\">       </p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><p></p>\n<p>dashboard: </p>\n<p>panel</p>\n<h2 id=\"-dashboard\"><a href=\"#-dashboard\" class=\"headerlink\" title=\" (dashboard)\"></a> (dashboard)</h2><p></p>\n<p> </p>\n<ol>\n<li>GrafanaCreateDashboard  panel</li>\n</ol>\n<p><img src=\"/image-46.png\" alt=\"Alt text\"><br><img src=\"/image-47.png\" alt=\"Alt text\"></p>\n<p>a.</p>\n<p>b. </p>\n<p>c. </p>\n<p>d. </p>\n<ol start=\"2\">\n<li><br><img src=\"/image-48.png\" alt=\"Alt text\"><br>a. </li>\n</ol>\n<p>b. </p>\n<p>c. </p>\n<p>d. TagTag</p>\n<p>e. </p>\n<h2 id=\"-panel\"><a href=\"#-panel\" class=\"headerlink\" title=\" (panel)\"></a> (panel)</h2><p></p>\n<p><img src=\"/image-50.png\" alt=\"Alt text\">         </p>\n<p></p>\n<p>Add a new panel  </p>\n<p><img src=\"/image-51.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<ol>\n<li><p>Data source<br><img src=\"/image-52.png\" alt=\"Alt text\"><br>  QQinfluxdb, influxdb</p>\n</li>\n<li><p>SQL</p>\n</li>\n</ol>\n<p>Grafana </p>\n<p>Grafana SQL</p>\n<p>a.  </p>\n<p><img src=\"/image-53.png\" alt=\"Alt text\">   </p>\n<p>SQL</p>\n<p><img src=\"/image-54.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SQL</p>\n<p>Time series</p>\n<p><img src=\"/image-55.png\" alt=\"Alt text\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"/image-56.png\" alt=\"Alt text\">      </p>\n<p>SQLGrafana</p>\n<p></p>\n<p>a. </p>\n<p>b. </p>\n<p>c. </p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p><img src=\"/image-57.png\" alt=\"Alt text\">        </p>\n<p>Tootiphover Single All Hidden</p>\n<p><img src=\"/image-58.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li>legend</li>\n</ol>\n<p><img src=\"/image-59.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>a. List () </p>\n<p>b. Table </p>\n<p>c. Hidden, </p>\n<p></p>\n<p>a. Bottom, </p>\n<p>b. Right, </p>\n<p> </p>\n<p><img src=\"/image-60.png\" alt=\"Alt text\">      </p>\n<p></p>\n<ol start=\"4\">\n<li>Axis</li>\n</ol>\n<p><img src=\"/image-61.png\" alt=\"Alt text\">         </p>\n<p>Label</p>\n<p>a. WidthLabel</p>\n<p>b. Soft min  Soft max </p>\n<p>c. Show gride lines </p>\n<p>d. Scale </p>\n<p></p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><p></p>\n<h2 id=\"-Standard-options\"><a href=\"#-Standard-options\" class=\"headerlink\" title=\" (Standard options)\"></a> (Standard options)</h2><p></p>\n<p><img src=\"/image-62.png\" alt=\"Alt text\">              </p>\n<p>Labelms, Unit</p>\n<ol>\n<li>Unit</li>\n</ol>\n<p><img src=\"/image-63.png\" alt=\"Alt text\">              </p>\n<p> </p>\n<ol start=\"2\">\n<li>Min, Max</li>\n</ol>\n<p>Min, Max 0~30003000</p>\n<p><img src=\"/image-64.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li><p>Decimals </p>\n</li>\n<li><p>Display Name SQL</p>\n</li>\n<li><p>Color scheme</p>\n</li>\n</ol>\n<p></p>\n<p><img src=\"/image-65.png\" alt=\"Alt text\"></p>\n<p>icon,</p>\n<p><img src=\"/image-66.png\" alt=\"Alt text\"></p>\n<h2 id=\"-Thresholds\"><a href=\"#-Thresholds\" class=\"headerlink\" title=\" (Thresholds)\"></a> (Thresholds)</h2><p></p>\n<p> </p>\n<p><img src=\"/image-67.png\" alt=\"Alt text\">              </p>\n<p></p>\n<ul>\n<li><p>3000ms5000ms</p>\n</li>\n<li><p>3000ms</p>\n</li>\n<li><p>3000ms~5000ms</p>\n</li>\n<li><p>5000ms</p>\n</li>\n</ul>\n<p></p>\n<ol>\n<li><p>, </p>\n</li>\n<li><p>, </p>\n</li>\n</ol>\n<p></p>\n<ol>\n<li><p> off</p>\n</li>\n<li><p> as lines</p>\n</li>\n<li><p> as filled regions</p>\n</li>\n<li><p> as filled regions and lines</p>\n</li>\n</ol>\n<p> </p>\n<p><img src=\"/image-68.png\" alt=\"Alt text\">            </p>\n<h2 id=\"-Value-mappings\"><a href=\"#-Value-mappings\" class=\"headerlink\" title=\" (Value mappings)\"></a> (Value mappings)</h2><p></p>\n<p><img src=\"/image-69.png\" alt=\"Alt text\">            </p>\n<p> SQL </p>\n<p><img src=\"/image-70.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>1 </p>\n<ol start=\"2\">\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p> 0~3000ms</p>\n<p><img src=\"/image-71.png\" alt=\"Alt text\"></p>\n<p>0</p>\n<p><img src=\"/image-72.png\" alt=\"Alt text\"></p>\n<h2 id=\"-Overrides\"><a href=\"#-Overrides\" class=\"headerlink\" title=\" (Overrides)\"></a> (Overrides)</h2><p></p>\n<p>SQL</p>\n<p><img src=\"/image-73.png\" alt=\"Alt text\">         </p>\n<p></p>\n<p>1 </p>\n<ol start=\"2\">\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>SQL</p>\n</li>\n</ol>\n<p>Override </p>\n<p><img src=\"/image-74.png\" alt=\"Alt text\">          </p>\n<p></p>\n<p>SQLjs_readycss_readyoverride</p>\n<p>override</p>\n<p><img src=\"/image-75.png\" alt=\"Alt text\">              </p>\n<p>css_ready </p>\n<ol>\n<li><p> </p>\n</li>\n<li><p></p>\n</li>\n<li><p>CSSms</p>\n</li>\n</ol>\n<p>js_ready</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>JSms</p>\n</li>\n</ol>\n<p><br><img src=\"/image-76.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Grafana</p>\n<p>SQL$__interval</p>\n<p>Grafanaquery)</p>\n<p></p>\n<p></p>\n<p></p>\n<p><img src=\"/image-77.png\" alt=\"Alt text\"></p>\n<p><img src=\"/image-78.png\" alt=\"Alt text\">            </p>\n<p></p>\n<p> <img src=\"/image-79.png\" alt=\"Alt text\">              </p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">query</td>\n<td align=\"left\">, ID </td>\n</tr>\n<tr>\n<td align=\"left\">custom</td>\n<td align=\"left\">,</td>\n</tr>\n<tr>\n<td align=\"left\">text box</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">constant</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">data source</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">interval</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ad hoc filters</td>\n<td align=\"left\">&#x2F; InfluxDBPrometheus  Elasticsearch</td>\n</tr>\n</tbody></table>\n<p></p>\n<p></p>\n<p></p>\n<p>$varname  apps.frontend.$varname.requests.count</p>\n<ol>\n<li>${var_name} ${var_name:<format>} Grafana </li>\n</ol>\n<p></p>\n<p>url_event,</p>\n<p><img src=\"/image-80.png\" alt=\"Alt text\"></p>\n<p>,sql </p>\n<p><img src=\"/image-81.png\" alt=\"Alt text\"></p>\n<p></p>\n<p> js_ready<br><img src=\"/image-82.png\" alt=\"Alt text\"><br>css_ready</p>\n<p><img src=\"/image-83.png\" alt=\"Alt text\"></p>\n<h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><p></p>\n<p>Grafanalink</p>\n<p>link</p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"/image-84.png\" alt=\"Alt text\">              </p>\n<p>linklinkicon, , </p>\n<p><img src=\"/image-85.png\" alt=\"Alt text\">              </p>\n<ol start=\"2\">\n<li>link(data links)</li>\n</ol>\n<p>data linksoverride</p>\n<p><img src=\"/image-86.png\" alt=\"Alt text\"></p>\n<p>linkdata links override</p>\n<h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><p></p>\n<p>Grafanalinklink</p>\n<p>data linksSQL</p>\n<p>URL $ </p>\n<p><img src=\"/image-87.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>a.  from, to</p>\n<p>b.  url_event</p>\n<p>c. SQLfields</p>\n<p>data links </p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><h2 id=\"Transform\"><a href=\"#Transform\" class=\"headerlink\" title=\"Transform\"></a>Transform</h2><p></p>\n<p>GrafanaSQLTransform</p>\n<p>tranform </p>\n<p><img src=\"/image-88.png\" alt=\"Alt text\"></p>\n<p></p>\n<ol>\n<li>Add field from calculation</li>\n</ol>\n<p><img src=\"/image-89.png\" alt=\"Alt text\">              </p>\n<p></p>\n<p>a. Reduce row </p>\n<p>b. Binary option </p>\n<ol start=\"2\">\n<li>(Convert field type)</li>\n</ol>\n<p></p>\n<p><img src=\"/image-90.png\" alt=\"Alt text\">              </p>\n<ol start=\"3\">\n<li>(Filter data by name)</li>\n</ol>\n<p>a. SQL</p>\n<p>b. </p>\n<p><img src=\"/image-91.png\" alt=\"Alt text\"></p>\n<ol start=\"4\">\n<li>Merge</li>\n</ol>\n<p>sqljoin</p>\n<p><img src=\"/image-92.png\" alt=\"Alt text\"></p>\n<ol start=\"5\">\n<li>Rename by regex</li>\n</ol>\n<p></p>\n<p><img src=\"/image-93.png\" alt=\"Alt text\">          </p>\n<p>transform transform</p>\n<h2 id=\"Repeat\"><a href=\"#Repeat\" class=\"headerlink\" title=\"Repeat\"></a>Repeat</h2><p></p>\n<p>repeat 1</p>\n<p><img src=\"/image-94.png\" alt=\"Alt text\"></p>\n<p>repeat</p>\n<p>repeat </p>\n<p></p>\n<p></p>\n<p><img src=\"/image-95.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>link</p>\n<ol>\n<li><p>B</p>\n</li>\n<li><p>B</p>\n</li>\n<li><p>AB</p>\n</li>\n<li><p>BBlink</p>\n</li>\n<li><p>B</p>\n</li>\n</ol>\n<p></p>\n<p>link</p>\n<p>repeat url_event</p>\n<p> js_readyURL</p>\n<p><img src=\"/image-96.png\" alt=\"Alt text\"></p>\n<p> css_readyURL</p>\n<p><img src=\"/image-97.png\" alt=\"Alt text\"></p>\n<p>queryURL</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var-&#123;your_var_name&#125; = &#123;your_var_value&#125;</span><br></pre></td></tr></table></figure>\n\n<p>urlGrafana</p>\n<p>linkquery</p>\n<p></p>\n<ol>\n<li>page render  A</li>\n</ol>\n<p>tablerender</p>\n<p><img src=\"/image-98.png\" alt=\"Alt text\"></p>\n<ol start=\"2\">\n<li> B</li>\n</ol>\n<p></p>\n<p><img src=\"/image-99.png\" alt=\"Alt text\"></p>\n<p>SQL</p>\n<p><img src=\"/image-100.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li>link</li>\n</ol>\n<p>Adata link, </p>\n<p><img src=\"/image-101.png\" alt=\"Alt text\"></p>\n<p>page render</p>\n<p>:<br><img src=\"/image-103.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Grafana</p>\n<p>Grafana</p>\n<p>Grafana</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>Grafana<br> huhuli VATeam 2022-09-30 14:08 <br><a href=\"https://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ\">https://mp.weixin.qq.com/s/ZhBlCjJVhm0dDSCrJFGtfQ</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>QQRUM <br></p>\n<p><img src=\"/image-30.png\" alt=\"Alt text\"></p>\n<p>GrafanaGrafanaQQ</p>\n<p>Grafana</p>\n<p>Grafana Grafana()</p>\n<p>GrafanaLinuxWindowsMacOSDocker</p>\n<p>:  <a href=\"https://grafana.com/get/\">https://grafana.com/get/</a></p>\n<p>GrafanaGrafana</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>Grafana<br></p>\n<p>Grafana   Visualization </p>\n<p><img src=\"/image-31.png\" alt=\"Alt text\"></p>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p><img src=\"/image-32.png\" alt=\"Alt text\">           </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Lines</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p><img src=\"/image-39.png\" alt=\"Alt text\">         </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Bars</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p><img src=\"/image-33.png\" alt=\"Alt text\">        </p>\n<p>Time series</p>\n<p>Graph styles</p>\n<p>a. style: Points</p>\n<p>b. Point size: 5</p>\n<p>c. Stack series: Normal</p>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><p><img src=\"/image-34.png\" alt=\"Alt text\">          </p>\n<p>Pie chart</p>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h2><p><img src=\"/image-35.png\" alt=\"Alt text\">          </p>\n<p>Stat</p>\n<p>Graph styles</p>\n<p>a. style: Bars</p>\n<p>b. Fill opacity: 3</p>\n<p>c. Gradient mode: scheme</p>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><p><img src=\"/image-36.png\" alt=\"Alt text\">        </p>\n<p>Gauge</p>\n<h2 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h2><p><img src=\"/image-37.png\" alt=\"Alt text\">         </p>\n<p>Table</p>\n<h2 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8. \"></a>8. </h2><p><img src=\"/image-38.png\" alt=\"Alt text\">           </p>\n<p>TextMarkdown  HTML</p>\n<h2 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9. \"></a>9. </h2><h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>  </p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p> </p>\n<p>() </p>\n<p>  </p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"      \"></a>      </h2><p>Markdown  HTML</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GrafanaGrafana</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM grafana/grafana:8.3.1</span><br><span class=\"line\">USER root</span><br><span class=\"line\">RUN grafana-cli plugins install grafana-clickhouse-datasource //</span><br><span class=\"line\">RUN grafana-cli plugins install auxmoney-waterfall-panel //</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>GrafanaDataSource</p>\n<p><img src=\"/image-40.png\" alt=\"Alt text\">               </p>\n<p>Add data sourcePromethrusipport</p>\n<p><img src=\"/image-41.png\" alt=\"Alt text\">         </p>\n<p><img src=\"/image-42.png\" alt=\"Alt text\">        </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>GrafanaPlugins</li>\n</ol>\n<p> <img src=\"/image-43.png\" alt=\"Alt text\">          </p>\n<ol start=\"2\">\n<li>tab </li>\n</ol>\n<p><img src=\"/image-44.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p><img src=\"/image-45.png\" alt=\"Alt text\">       </p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><p></p>\n<p>dashboard: </p>\n<p>panel</p>\n<h2 id=\"-dashboard\"><a href=\"#-dashboard\" class=\"headerlink\" title=\" (dashboard)\"></a> (dashboard)</h2><p></p>\n<p> </p>\n<ol>\n<li>GrafanaCreateDashboard  panel</li>\n</ol>\n<p><img src=\"/image-46.png\" alt=\"Alt text\"><br><img src=\"/image-47.png\" alt=\"Alt text\"></p>\n<p>a.</p>\n<p>b. </p>\n<p>c. </p>\n<p>d. </p>\n<ol start=\"2\">\n<li><br><img src=\"/image-48.png\" alt=\"Alt text\"><br>a. </li>\n</ol>\n<p>b. </p>\n<p>c. </p>\n<p>d. TagTag</p>\n<p>e. </p>\n<h2 id=\"-panel\"><a href=\"#-panel\" class=\"headerlink\" title=\" (panel)\"></a> (panel)</h2><p></p>\n<p><img src=\"/image-50.png\" alt=\"Alt text\">         </p>\n<p></p>\n<p>Add a new panel  </p>\n<p><img src=\"/image-51.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<ol>\n<li><p>Data source<br><img src=\"/image-52.png\" alt=\"Alt text\"><br>  QQinfluxdb, influxdb</p>\n</li>\n<li><p>SQL</p>\n</li>\n</ol>\n<p>Grafana </p>\n<p>Grafana SQL</p>\n<p>a.  </p>\n<p><img src=\"/image-53.png\" alt=\"Alt text\">   </p>\n<p>SQL</p>\n<p><img src=\"/image-54.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SQL</p>\n<p>Time series</p>\n<p><img src=\"/image-55.png\" alt=\"Alt text\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"/image-56.png\" alt=\"Alt text\">      </p>\n<p>SQLGrafana</p>\n<p></p>\n<p>a. </p>\n<p>b. </p>\n<p>c. </p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p><img src=\"/image-57.png\" alt=\"Alt text\">        </p>\n<p>Tootiphover Single All Hidden</p>\n<p><img src=\"/image-58.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li>legend</li>\n</ol>\n<p><img src=\"/image-59.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>a. List () </p>\n<p>b. Table </p>\n<p>c. Hidden, </p>\n<p></p>\n<p>a. Bottom, </p>\n<p>b. Right, </p>\n<p> </p>\n<p><img src=\"/image-60.png\" alt=\"Alt text\">      </p>\n<p></p>\n<ol start=\"4\">\n<li>Axis</li>\n</ol>\n<p><img src=\"/image-61.png\" alt=\"Alt text\">         </p>\n<p>Label</p>\n<p>a. WidthLabel</p>\n<p>b. Soft min  Soft max </p>\n<p>c. Show gride lines </p>\n<p>d. Scale </p>\n<p></p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><p></p>\n<h2 id=\"-Standard-options\"><a href=\"#-Standard-options\" class=\"headerlink\" title=\" (Standard options)\"></a> (Standard options)</h2><p></p>\n<p><img src=\"/image-62.png\" alt=\"Alt text\">              </p>\n<p>Labelms, Unit</p>\n<ol>\n<li>Unit</li>\n</ol>\n<p><img src=\"/image-63.png\" alt=\"Alt text\">              </p>\n<p> </p>\n<ol start=\"2\">\n<li>Min, Max</li>\n</ol>\n<p>Min, Max 0~30003000</p>\n<p><img src=\"/image-64.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li><p>Decimals </p>\n</li>\n<li><p>Display Name SQL</p>\n</li>\n<li><p>Color scheme</p>\n</li>\n</ol>\n<p></p>\n<p><img src=\"/image-65.png\" alt=\"Alt text\"></p>\n<p>icon,</p>\n<p><img src=\"/image-66.png\" alt=\"Alt text\"></p>\n<h2 id=\"-Thresholds\"><a href=\"#-Thresholds\" class=\"headerlink\" title=\" (Thresholds)\"></a> (Thresholds)</h2><p></p>\n<p> </p>\n<p><img src=\"/image-67.png\" alt=\"Alt text\">              </p>\n<p></p>\n<ul>\n<li><p>3000ms5000ms</p>\n</li>\n<li><p>3000ms</p>\n</li>\n<li><p>3000ms~5000ms</p>\n</li>\n<li><p>5000ms</p>\n</li>\n</ul>\n<p></p>\n<ol>\n<li><p>, </p>\n</li>\n<li><p>, </p>\n</li>\n</ol>\n<p></p>\n<ol>\n<li><p> off</p>\n</li>\n<li><p> as lines</p>\n</li>\n<li><p> as filled regions</p>\n</li>\n<li><p> as filled regions and lines</p>\n</li>\n</ol>\n<p> </p>\n<p><img src=\"/image-68.png\" alt=\"Alt text\">            </p>\n<h2 id=\"-Value-mappings\"><a href=\"#-Value-mappings\" class=\"headerlink\" title=\" (Value mappings)\"></a> (Value mappings)</h2><p></p>\n<p><img src=\"/image-69.png\" alt=\"Alt text\">            </p>\n<p> SQL </p>\n<p><img src=\"/image-70.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>1 </p>\n<ol start=\"2\">\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p> 0~3000ms</p>\n<p><img src=\"/image-71.png\" alt=\"Alt text\"></p>\n<p>0</p>\n<p><img src=\"/image-72.png\" alt=\"Alt text\"></p>\n<h2 id=\"-Overrides\"><a href=\"#-Overrides\" class=\"headerlink\" title=\" (Overrides)\"></a> (Overrides)</h2><p></p>\n<p>SQL</p>\n<p><img src=\"/image-73.png\" alt=\"Alt text\">         </p>\n<p></p>\n<p>1 </p>\n<ol start=\"2\">\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>SQL</p>\n</li>\n</ol>\n<p>Override </p>\n<p><img src=\"/image-74.png\" alt=\"Alt text\">          </p>\n<p></p>\n<p>SQLjs_readycss_readyoverride</p>\n<p>override</p>\n<p><img src=\"/image-75.png\" alt=\"Alt text\">              </p>\n<p>css_ready </p>\n<ol>\n<li><p> </p>\n</li>\n<li><p></p>\n</li>\n<li><p>CSSms</p>\n</li>\n</ol>\n<p>js_ready</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>JSms</p>\n</li>\n</ol>\n<p><br><img src=\"/image-76.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Grafana</p>\n<p>SQL$__interval</p>\n<p>Grafanaquery)</p>\n<p></p>\n<p></p>\n<p></p>\n<p><img src=\"/image-77.png\" alt=\"Alt text\"></p>\n<p><img src=\"/image-78.png\" alt=\"Alt text\">            </p>\n<p></p>\n<p> <img src=\"/image-79.png\" alt=\"Alt text\">              </p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">query</td>\n<td align=\"left\">, ID </td>\n</tr>\n<tr>\n<td align=\"left\">custom</td>\n<td align=\"left\">,</td>\n</tr>\n<tr>\n<td align=\"left\">text box</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">constant</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">data source</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">interval</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ad hoc filters</td>\n<td align=\"left\">&#x2F; InfluxDBPrometheus  Elasticsearch</td>\n</tr>\n</tbody></table>\n<p></p>\n<p></p>\n<p></p>\n<p>$varname  apps.frontend.$varname.requests.count</p>\n<ol>\n<li>${var_name} ${var_name:<format>} Grafana </li>\n</ol>\n<p></p>\n<p>url_event,</p>\n<p><img src=\"/image-80.png\" alt=\"Alt text\"></p>\n<p>,sql </p>\n<p><img src=\"/image-81.png\" alt=\"Alt text\"></p>\n<p></p>\n<p> js_ready<br><img src=\"/image-82.png\" alt=\"Alt text\"><br>css_ready</p>\n<p><img src=\"/image-83.png\" alt=\"Alt text\"></p>\n<h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><p></p>\n<p>Grafanalink</p>\n<p>link</p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"/image-84.png\" alt=\"Alt text\">              </p>\n<p>linklinkicon, , </p>\n<p><img src=\"/image-85.png\" alt=\"Alt text\">              </p>\n<ol start=\"2\">\n<li>link(data links)</li>\n</ol>\n<p>data linksoverride</p>\n<p><img src=\"/image-86.png\" alt=\"Alt text\"></p>\n<p>linkdata links override</p>\n<h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><p></p>\n<p>Grafanalinklink</p>\n<p>data linksSQL</p>\n<p>URL $ </p>\n<p><img src=\"/image-87.png\" alt=\"Alt text\"></p>\n<p></p>\n<p>a.  from, to</p>\n<p>b.  url_event</p>\n<p>c. SQLfields</p>\n<p>data links </p>\n<h1 id=\"Grafana\"><a href=\"#Grafana\" class=\"headerlink\" title=\"Grafana\"></a>Grafana</h1><h2 id=\"Transform\"><a href=\"#Transform\" class=\"headerlink\" title=\"Transform\"></a>Transform</h2><p></p>\n<p>GrafanaSQLTransform</p>\n<p>tranform </p>\n<p><img src=\"/image-88.png\" alt=\"Alt text\"></p>\n<p></p>\n<ol>\n<li>Add field from calculation</li>\n</ol>\n<p><img src=\"/image-89.png\" alt=\"Alt text\">              </p>\n<p></p>\n<p>a. Reduce row </p>\n<p>b. Binary option </p>\n<ol start=\"2\">\n<li>(Convert field type)</li>\n</ol>\n<p></p>\n<p><img src=\"/image-90.png\" alt=\"Alt text\">              </p>\n<ol start=\"3\">\n<li>(Filter data by name)</li>\n</ol>\n<p>a. SQL</p>\n<p>b. </p>\n<p><img src=\"/image-91.png\" alt=\"Alt text\"></p>\n<ol start=\"4\">\n<li>Merge</li>\n</ol>\n<p>sqljoin</p>\n<p><img src=\"/image-92.png\" alt=\"Alt text\"></p>\n<ol start=\"5\">\n<li>Rename by regex</li>\n</ol>\n<p></p>\n<p><img src=\"/image-93.png\" alt=\"Alt text\">          </p>\n<p>transform transform</p>\n<h2 id=\"Repeat\"><a href=\"#Repeat\" class=\"headerlink\" title=\"Repeat\"></a>Repeat</h2><p></p>\n<p>repeat 1</p>\n<p><img src=\"/image-94.png\" alt=\"Alt text\"></p>\n<p>repeat</p>\n<p>repeat </p>\n<p></p>\n<p></p>\n<p><img src=\"/image-95.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>link</p>\n<ol>\n<li><p>B</p>\n</li>\n<li><p>B</p>\n</li>\n<li><p>AB</p>\n</li>\n<li><p>BBlink</p>\n</li>\n<li><p>B</p>\n</li>\n</ol>\n<p></p>\n<p>link</p>\n<p>repeat url_event</p>\n<p> js_readyURL</p>\n<p><img src=\"/image-96.png\" alt=\"Alt text\"></p>\n<p> css_readyURL</p>\n<p><img src=\"/image-97.png\" alt=\"Alt text\"></p>\n<p>queryURL</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var-&#123;your_var_name&#125; = &#123;your_var_value&#125;</span><br></pre></td></tr></table></figure>\n\n<p>urlGrafana</p>\n<p>linkquery</p>\n<p></p>\n<ol>\n<li>page render  A</li>\n</ol>\n<p>tablerender</p>\n<p><img src=\"/image-98.png\" alt=\"Alt text\"></p>\n<ol start=\"2\">\n<li> B</li>\n</ol>\n<p></p>\n<p><img src=\"/image-99.png\" alt=\"Alt text\"></p>\n<p>SQL</p>\n<p><img src=\"/image-100.png\" alt=\"Alt text\"></p>\n<ol start=\"3\">\n<li>link</li>\n</ol>\n<p>Adata link, </p>\n<p><img src=\"/image-101.png\" alt=\"Alt text\"></p>\n<p>page render</p>\n<p>:<br><img src=\"/image-103.png\" alt=\"Alt text\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Grafana</p>\n<p>Grafana</p>\n<p>Grafana</p>\n"},{"title":"kibana create ILM","date":"2023-09-05T08:14:39.000Z","_content":"# kibanaILM\n\n## 1. \n\nkibana version: v7.9.3\n\n## 2. ILM\n\n### 2.1 \n\n#### 2.1.1 \n\n\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm01.png)\n\n-  filebeat-index-ilm\n  \n- 5050G.\n  \n- \n  \n-  \n  \n  \"\"\n  \n  \"\"3030\n  \n  \n  \n\n#### 2.1.2 \n\n\n\n Kibana warm phaseCold phase\n\n1. Warm phase\n  Warm phase\n  \n  \n  \n  - \n  - \n2. Cold phase\n  Cold phase\n  \n  \n  \n  - \n  - \n  \n  \n  \n\n#### 2.1.3 \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm03.png)\n\n-  \n  \n\n### 2.2 \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template01.png)\n\n- \n  \n-  filebeat-;filebeat-*\n  \n- \n  \n- \n  \n- _meta _meta  JSON  _meta  Elasticsearch API \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template02.png)\n\n-  \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template03.png)\n\n- : lifecyclerollover_alias\n  \n\n1.   \n   \"message\"  \"standard\"\n\n\n\n- \n  \n- \n  \n\n2.   \n   \"text\"  \"message\" \n\n\n\n- \n  \n- \n  \n\n3.   \n  \n\n\n\n- \n- .\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template05.png)\n\n- \n  \n  1. \n  2. \n  3. \n  \n   Elasticsearch  \"alias\" API \"test-20190120\" \"test\"\n  \n  ```bash\n  PUT /_aliases  {    \"actions\": [      {        \"add\": {          \"index\": \"test-20190120\",          \"alias\": \"test\"        }      }    ]  }\n  ```\n  \n  \"add\"  Elasticsearch  \"test\"  \"test-20190120\"  \"test\" \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template06.png)\n\n\n\n## 3. \n\n","source":"_posts/kubernetes/kibana-ilm.md","raw":"---\ntitle: kibana create ILM\ndate: 2023-09-05 16:14:39\ncategories:\n  - [kubernetes]\ntags: kibana\n---\n# kibanaILM\n\n## 1. \n\nkibana version: v7.9.3\n\n## 2. ILM\n\n### 2.1 \n\n#### 2.1.1 \n\n\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm01.png)\n\n-  filebeat-index-ilm\n  \n- 5050G.\n  \n- \n  \n-  \n  \n  \"\"\n  \n  \"\"3030\n  \n  \n  \n\n#### 2.1.2 \n\n\n\n Kibana warm phaseCold phase\n\n1. Warm phase\n  Warm phase\n  \n  \n  \n  - \n  - \n2. Cold phase\n  Cold phase\n  \n  \n  \n  - \n  - \n  \n  \n  \n\n#### 2.1.3 \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm03.png)\n\n-  \n  \n\n### 2.2 \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template01.png)\n\n- \n  \n-  filebeat-;filebeat-*\n  \n- \n  \n- \n  \n- _meta _meta  JSON  _meta  Elasticsearch API \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template02.png)\n\n-  \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template03.png)\n\n- : lifecyclerollover_alias\n  \n\n1.   \n   \"message\"  \"standard\"\n\n\n\n- \n  \n- \n  \n\n2.   \n   \"text\"  \"message\" \n\n\n\n- \n  \n- \n  \n\n3.   \n  \n\n\n\n- \n- .\n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template05.png)\n\n- \n  \n  1. \n  2. \n  3. \n  \n   Elasticsearch  \"alias\" API \"test-20190120\" \"test\"\n  \n  ```bash\n  PUT /_aliases  {    \"actions\": [      {        \"add\": {          \"index\": \"test-20190120\",          \"alias\": \"test\"        }      }    ]  }\n  ```\n  \n  \"add\"  Elasticsearch  \"test\"  \"test-20190120\"  \"test\" \n  \n\n![](https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template06.png)\n\n\n\n## 3. \n\n","slug":"kubernetes/kibana-ilm","published":1,"updated":"2023-09-05T08:16:32.662Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawp000tlsjxh5x04d9i","content":"<h1 id=\"kibanaILM\"><a href=\"#kibanaILM\" class=\"headerlink\" title=\"kibanaILM\"></a>kibanaILM</h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>kibana version: v7.9.3</p>\n<h2 id=\"2-ILM\"><a href=\"#2-ILM\" class=\"headerlink\" title=\"2. ILM\"></a>2. ILM</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><h4 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h4><p></p>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm01.png\"></p>\n<ul>\n<li><p> filebeat-index-ilm</p>\n</li>\n<li><p>5050G.</p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n<p></p>\n<p>3030</p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h4><p></p>\n<p> Kibana warm phaseCold phase</p>\n<ol>\n<li>Warm phase<br>  Warm phase</li>\n</ol>\n<p>  </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<ol start=\"2\">\n<li>Cold phase<br>  Cold phase</li>\n</ol>\n<p>  </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>  </p>\n<h4 id=\"2-1-3-\"><a href=\"#2-1-3-\" class=\"headerlink\" title=\"2.1.3 \"></a>2.1.3 </h4><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm03.png\"></p>\n<ul>\n<li> </li>\n</ul>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template01.png\"></p>\n<ul>\n<li><p></p>\n</li>\n<li><p> filebeat-;filebeat-*</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>_meta _meta  JSON  _meta  Elasticsearch API </p>\n</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template02.png\"></p>\n<ul>\n<li> </li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template03.png\"></p>\n<ul>\n<li>: lifecyclerollover_alias</li>\n</ul>\n<ol>\n<li><br>   message  standard</li>\n</ol>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<ol start=\"2\">\n<li><br>   text  message </li>\n</ol>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<ol start=\"3\">\n<li><br>  </li>\n</ol>\n<p></p>\n<ul>\n<li></li>\n<li>.</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template05.png\"></p>\n<ul>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> Elasticsearch  alias API test-20190120 test</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PUT /_aliases  &#123;    <span class=\"string\">&quot;actions&quot;</span>: [      &#123;        <span class=\"string\">&quot;add&quot;</span>: &#123;          <span class=\"string\">&quot;index&quot;</span>: <span class=\"string\">&quot;test-20190120&quot;</span>,          <span class=\"string\">&quot;alias&quot;</span>: <span class=\"string\">&quot;test&quot;</span>        &#125;      &#125;    ]  &#125;</span><br></pre></td></tr></table></figure>\n\n<p>add  Elasticsearch  test  test-20190120  test </p>\n</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template06.png\"></p>\n<p></p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<h1 id=\"kibanaILM\"><a href=\"#kibanaILM\" class=\"headerlink\" title=\"kibanaILM\"></a>kibanaILM</h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>kibana version: v7.9.3</p>\n<h2 id=\"2-ILM\"><a href=\"#2-ILM\" class=\"headerlink\" title=\"2. ILM\"></a>2. ILM</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><h4 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h4><p></p>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm01.png\"></p>\n<ul>\n<li><p> filebeat-index-ilm</p>\n</li>\n<li><p>5050G.</p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n<p></p>\n<p>3030</p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h4><p></p>\n<p> Kibana warm phaseCold phase</p>\n<ol>\n<li>Warm phase<br>  Warm phase</li>\n</ol>\n<p>  </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<ol start=\"2\">\n<li>Cold phase<br>  Cold phase</li>\n</ol>\n<p>  </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>  </p>\n<h4 id=\"2-1-3-\"><a href=\"#2-1-3-\" class=\"headerlink\" title=\"2.1.3 \"></a>2.1.3 </h4><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/ilm03.png\"></p>\n<ul>\n<li> </li>\n</ul>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template01.png\"></p>\n<ul>\n<li><p></p>\n</li>\n<li><p> filebeat-;filebeat-*</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>_meta _meta  JSON  _meta  Elasticsearch API </p>\n</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template02.png\"></p>\n<ul>\n<li> </li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template03.png\"></p>\n<ul>\n<li>: lifecyclerollover_alias</li>\n</ul>\n<ol>\n<li><br>   message  standard</li>\n</ol>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<ol start=\"2\">\n<li><br>   text  message </li>\n</ol>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<ol start=\"3\">\n<li><br>  </li>\n</ol>\n<p></p>\n<ul>\n<li></li>\n<li>.</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template05.png\"></p>\n<ul>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> Elasticsearch  alias API test-20190120 test</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PUT /_aliases  &#123;    <span class=\"string\">&quot;actions&quot;</span>: [      &#123;        <span class=\"string\">&quot;add&quot;</span>: &#123;          <span class=\"string\">&quot;index&quot;</span>: <span class=\"string\">&quot;test-20190120&quot;</span>,          <span class=\"string\">&quot;alias&quot;</span>: <span class=\"string\">&quot;test&quot;</span>        &#125;      &#125;    ]  &#125;</span><br></pre></td></tr></table></figure>\n\n<p>add  Elasticsearch  test  test-20190120  test </p>\n</li>\n</ul>\n<p><img src=\"https://ghproxy.com/https://github.com/wongearl/mypic/blob/main/kibana/index-template06.png\"></p>\n<p></p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p></p>\n"},{"title":"kubeovn underlay ","date":"2023-11-02T02:21:20.190Z","_content":"Provider NetworkProvider NetworkVLANSubnet\n\nVLANProvider NetworkVLAN\n\nSubnetIPSubnetProvider NetworkSubnetIP\n\nProvider NetworkVLANSubnet\n\nProvider Network\nVLANProvider Network\nSubnetIPProvider NetworkIPSubnet\nVLANSubnetVLANSubnetSubnetIPProvider NetworkVLANSubnet\nProvider NetworkVLANSubnetProvider NetworkVLANSubnetIP","source":"_posts/kubernetes/kube-ovn-underlay.md","raw":"---\ntitle: kubeovn underlay \ndate: 2023-11-02 10:21:20\n  - [kubernetes]\ntags: kubeovn\n---\nProvider NetworkProvider NetworkVLANSubnet\n\nVLANProvider NetworkVLAN\n\nSubnetIPSubnetProvider NetworkSubnetIP\n\nProvider NetworkVLANSubnet\n\nProvider Network\nVLANProvider Network\nSubnetIPProvider NetworkIPSubnet\nVLANSubnetVLANSubnetSubnetIPProvider NetworkVLANSubnet\nProvider NetworkVLANSubnetProvider NetworkVLANSubnetIP","slug":"kubernetes/kube-ovn-underlay","published":1,"updated":"2023-11-02T02:22:33.396Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawq000wlsjx7jof94p3","content":"<p>Provider NetworkProvider NetworkVLANSubnet</p>\n<p>VLANProvider NetworkVLAN</p>\n<p>SubnetIPSubnetProvider NetworkSubnetIP</p>\n<p>Provider NetworkVLANSubnet</p>\n<p>Provider Network<br>VLANProvider Network<br>SubnetIPProvider NetworkIPSubnet<br>VLANSubnetVLANSubnetSubnetIPProvider NetworkVLANSubnet<br>Provider NetworkVLANSubnetProvider NetworkVLANSubnetIP</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>Provider NetworkProvider NetworkVLANSubnet</p>\n<p>VLANProvider NetworkVLAN</p>\n<p>SubnetIPSubnetProvider NetworkSubnetIP</p>\n<p>Provider NetworkVLANSubnet</p>\n<p>Provider Network<br>VLANProvider Network<br>SubnetIPProvider NetworkIPSubnet<br>VLANSubnetVLANSubnetSubnetIPProvider NetworkVLANSubnet<br>Provider NetworkVLANSubnetProvider NetworkVLANSubnetIP</p>\n"},{"title":"kubevirt expose vm by svc","date":"2023-09-01T09:36:42.000Z","_content":"# \nkubevit\n\n```\nubuntu-4tlg7   7d22h   Running   True\nubuntu-7kgrk   7d22h   Running   True\nubuntu-94kg2   7d22h   Running   True\n```\n\npodunderlayNodePort22\n\n# \n1. vmspec.template.metadalabels,\n```\n  spec:\n    runStrategy: RerunOnFailure\n    template:\n      metadata:\n        creationTimestamp: null\n        labels:\n          kubevirtvm01: kubevirtvm01\n```\n2. \n\n```\nvirtctl -n wyl-vm restart ubuntu-4tlg7\n```\n\n3. \n```\nvirtctl expose vm ubuntu-4tlg7 --name ubuntu-4tlg7-ssh --port 22 --target-port 22 --type NodePort -n wyl-vm\n```\n\n4. svc\n\n```\nNAME               TYPE       CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE\nubuntu-4tlg7-ssh   NodePort   10.96.23.17   <none>        22:32581/TCP   14m\n```\nipsvc nodeport\n","source":"_posts/kubernetes/kubevirt-vm-expose.md","raw":"---\ntitle: kubevirt expose vm by svc\ndate: 2023-09-01 17:36:42\ncategories:\n  - [kubernetes]\ntags: kubevirt\n---\n# \nkubevit\n\n```\nubuntu-4tlg7   7d22h   Running   True\nubuntu-7kgrk   7d22h   Running   True\nubuntu-94kg2   7d22h   Running   True\n```\n\npodunderlayNodePort22\n\n# \n1. vmspec.template.metadalabels,\n```\n  spec:\n    runStrategy: RerunOnFailure\n    template:\n      metadata:\n        creationTimestamp: null\n        labels:\n          kubevirtvm01: kubevirtvm01\n```\n2. \n\n```\nvirtctl -n wyl-vm restart ubuntu-4tlg7\n```\n\n3. \n```\nvirtctl expose vm ubuntu-4tlg7 --name ubuntu-4tlg7-ssh --port 22 --target-port 22 --type NodePort -n wyl-vm\n```\n\n4. svc\n\n```\nNAME               TYPE       CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE\nubuntu-4tlg7-ssh   NodePort   10.96.23.17   <none>        22:32581/TCP   14m\n```\nipsvc nodeport\n","slug":"kubernetes/kubevirt-vm-expose","published":1,"updated":"2023-09-01T09:38:58.859Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawr000zlsjx9kl6f7l1","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>kubevit</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ubuntu-4tlg7   7d22h   Running   True</span><br><span class=\"line\">ubuntu-7kgrk   7d22h   Running   True</span><br><span class=\"line\">ubuntu-94kg2   7d22h   Running   True</span><br></pre></td></tr></table></figure>\n\n<p>podunderlayNodePort22</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>vmspec.template.metadalabels,<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spec:</span><br><span class=\"line\">  runStrategy: RerunOnFailure</span><br><span class=\"line\">  template:</span><br><span class=\"line\">    metadata:</span><br><span class=\"line\">      creationTimestamp: null</span><br><span class=\"line\">      labels:</span><br><span class=\"line\">        kubevirtvm01: kubevirtvm01</span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtctl -n wyl-vm restart ubuntu-4tlg7</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtctl expose vm ubuntu-4tlg7 --name ubuntu-4tlg7-ssh --port 22 --target-port 22 --type NodePort -n wyl-vm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>svc</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NAME               TYPE       CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE</span><br><span class=\"line\">ubuntu-4tlg7-ssh   NodePort   10.96.23.17   &lt;none&gt;        22:32581/TCP   14m</span><br></pre></td></tr></table></figure>\n<p>ipsvc nodeport</p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>kubevit</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ubuntu-4tlg7   7d22h   Running   True</span><br><span class=\"line\">ubuntu-7kgrk   7d22h   Running   True</span><br><span class=\"line\">ubuntu-94kg2   7d22h   Running   True</span><br></pre></td></tr></table></figure>\n\n<p>podunderlayNodePort22</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>vmspec.template.metadalabels,<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spec:</span><br><span class=\"line\">  runStrategy: RerunOnFailure</span><br><span class=\"line\">  template:</span><br><span class=\"line\">    metadata:</span><br><span class=\"line\">      creationTimestamp: null</span><br><span class=\"line\">      labels:</span><br><span class=\"line\">        kubevirtvm01: kubevirtvm01</span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtctl -n wyl-vm restart ubuntu-4tlg7</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtctl expose vm ubuntu-4tlg7 --name ubuntu-4tlg7-ssh --port 22 --target-port 22 --type NodePort -n wyl-vm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>svc</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NAME               TYPE       CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE</span><br><span class=\"line\">ubuntu-4tlg7-ssh   NodePort   10.96.23.17   &lt;none&gt;        22:32581/TCP   14m</span><br></pre></td></tr></table></figure>\n<p>ipsvc nodeport</p>\n"},{"title":"install metrics-server","date":"2023-08-25T02:25:58.000Z","_content":"kubectl topmetrics-server,: error: Metrics API not available\nyamlmetrics-server:\n```yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    k8s-app: metrics-server\n    rbac.authorization.k8s.io/aggregate-to-admin: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-edit: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-view: \"true\"\n  name: system:aggregated-metrics-reader\nrules:\n- apiGroups:\n  - metrics.k8s.io\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: system:metrics-server\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes/metrics\n  verbs:\n  - get\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server-auth-reader\n  namespace: kube-system\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: extension-apiserver-authentication-reader\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server:system:auth-delegator\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:auth-delegator\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: system:metrics-server\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:metrics-server\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\nspec:\n  ports:\n  - name: https\n    port: 443\n    protocol: TCP\n    targetPort: https\n  selector:\n    k8s-app: metrics-server\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      k8s-app: metrics-server\n  strategy:\n    rollingUpdate:\n      maxUnavailable: 0\n  template:\n    metadata:\n      labels:\n        k8s-app: metrics-server\n    spec:\n      containers:\n      - args:\n        - --cert-dir=/tmp\n        - --secure-port=4443\n        - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname\n        - --kubelet-use-node-status-port\n        - --metric-resolution=15s\n        - --kubelet-insecure-tls\n        image: registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server:v0.6.4\n        imagePullPolicy: IfNotPresent\n        livenessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /livez\n            port: https\n            scheme: HTTPS\n          periodSeconds: 10\n        name: metrics-server\n        ports:\n        - containerPort: 4443\n          name: https\n          protocol: TCP\n        readinessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /readyz\n            port: https\n            scheme: HTTPS\n          initialDelaySeconds: 20\n          periodSeconds: 10\n        resources:\n          requests:\n            cpu: 100m\n            memory: 200Mi\n        securityContext:\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n          runAsNonRoot: true\n          runAsUser: 1000\n        volumeMounts:\n        - mountPath: /tmp\n          name: tmp-dir\n      nodeSelector:\n        kubernetes.io/os: linux\n      priorityClassName: system-cluster-critical\n      serviceAccountName: metrics-server\n      volumes:\n      - emptyDir: {}\n        name: tmp-dir\n---\napiVersion: apiregistration.k8s.io/v1\nkind: APIService\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: v1beta1.metrics.k8s.io\nspec:\n  group: metrics.k8s.io\n  groupPriorityMinimum: 100\n  insecureSkipTLSVerify: true\n  service:\n    name: metrics-server\n    namespace: kube-system\n  version: v1beta1\n  versionPriority: 100\n```\n\n```shell\nkubectl apply -f metrics-server.yaml\n```","source":"_posts/kubernetes/metrics-server.md","raw":"---\ntitle: install metrics-server\ndate: 2023-08-25 10:25:58\ncategories:\n  - [kubernetes]\ntags: kubernetes\n---\nkubectl topmetrics-server,: error: Metrics API not available\nyamlmetrics-server:\n```yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    k8s-app: metrics-server\n    rbac.authorization.k8s.io/aggregate-to-admin: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-edit: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-view: \"true\"\n  name: system:aggregated-metrics-reader\nrules:\n- apiGroups:\n  - metrics.k8s.io\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: system:metrics-server\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes/metrics\n  verbs:\n  - get\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server-auth-reader\n  namespace: kube-system\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: extension-apiserver-authentication-reader\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server:system:auth-delegator\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:auth-delegator\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: system:metrics-server\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:metrics-server\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\nspec:\n  ports:\n  - name: https\n    port: 443\n    protocol: TCP\n    targetPort: https\n  selector:\n    k8s-app: metrics-server\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: metrics-server\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      k8s-app: metrics-server\n  strategy:\n    rollingUpdate:\n      maxUnavailable: 0\n  template:\n    metadata:\n      labels:\n        k8s-app: metrics-server\n    spec:\n      containers:\n      - args:\n        - --cert-dir=/tmp\n        - --secure-port=4443\n        - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname\n        - --kubelet-use-node-status-port\n        - --metric-resolution=15s\n        - --kubelet-insecure-tls\n        image: registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server:v0.6.4\n        imagePullPolicy: IfNotPresent\n        livenessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /livez\n            port: https\n            scheme: HTTPS\n          periodSeconds: 10\n        name: metrics-server\n        ports:\n        - containerPort: 4443\n          name: https\n          protocol: TCP\n        readinessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /readyz\n            port: https\n            scheme: HTTPS\n          initialDelaySeconds: 20\n          periodSeconds: 10\n        resources:\n          requests:\n            cpu: 100m\n            memory: 200Mi\n        securityContext:\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n          runAsNonRoot: true\n          runAsUser: 1000\n        volumeMounts:\n        - mountPath: /tmp\n          name: tmp-dir\n      nodeSelector:\n        kubernetes.io/os: linux\n      priorityClassName: system-cluster-critical\n      serviceAccountName: metrics-server\n      volumes:\n      - emptyDir: {}\n        name: tmp-dir\n---\napiVersion: apiregistration.k8s.io/v1\nkind: APIService\nmetadata:\n  labels:\n    k8s-app: metrics-server\n  name: v1beta1.metrics.k8s.io\nspec:\n  group: metrics.k8s.io\n  groupPriorityMinimum: 100\n  insecureSkipTLSVerify: true\n  service:\n    name: metrics-server\n    namespace: kube-system\n  version: v1beta1\n  versionPriority: 100\n```\n\n```shell\nkubectl apply -f metrics-server.yaml\n```","slug":"kubernetes/metrics-server","published":1,"updated":"2023-08-25T02:33:13.160Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvaws0011lsjxecjh0lxy","content":"<p>kubectl topmetrics-server,: error: Metrics API not available<br>yamlmetrics-server:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-admin:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-edit:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-view:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:aggregated-metrics-reader</span></span><br><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">metrics.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">pods</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">list</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">watch</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes/metrics</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">pods</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">list</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">watch</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">RoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server-auth-reader</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">Role</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">extension-apiserver-authentication-reader</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server:system:auth-delegator</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:auth-delegator</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Service</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">ports:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">https</span></span><br><span class=\"line\">    <span class=\"attr\">port:</span> <span class=\"number\">443</span></span><br><span class=\"line\">    <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">    <span class=\"attr\">targetPort:</span> <span class=\"string\">https</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">strategy:</span></span><br><span class=\"line\">    <span class=\"attr\">rollingUpdate:</span></span><br><span class=\"line\">      <span class=\"attr\">maxUnavailable:</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">args:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--cert-dir=/tmp</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--secure-port=4443</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-use-node-status-port</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--metric-resolution=15s</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-insecure-tls</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server:v0.6.4</span></span><br><span class=\"line\">        <span class=\"attr\">imagePullPolicy:</span> <span class=\"string\">IfNotPresent</span></span><br><span class=\"line\">        <span class=\"attr\">livenessProbe:</span></span><br><span class=\"line\">          <span class=\"attr\">failureThreshold:</span> <span class=\"number\">3</span></span><br><span class=\"line\">          <span class=\"attr\">httpGet:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/livez</span></span><br><span class=\"line\">            <span class=\"attr\">port:</span> <span class=\"string\">https</span></span><br><span class=\"line\">            <span class=\"attr\">scheme:</span> <span class=\"string\">HTTPS</span></span><br><span class=\"line\">          <span class=\"attr\">periodSeconds:</span> <span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">4443</span></span><br><span class=\"line\">          <span class=\"attr\">name:</span> <span class=\"string\">https</span></span><br><span class=\"line\">          <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">        <span class=\"attr\">readinessProbe:</span></span><br><span class=\"line\">          <span class=\"attr\">failureThreshold:</span> <span class=\"number\">3</span></span><br><span class=\"line\">          <span class=\"attr\">httpGet:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/readyz</span></span><br><span class=\"line\">            <span class=\"attr\">port:</span> <span class=\"string\">https</span></span><br><span class=\"line\">            <span class=\"attr\">scheme:</span> <span class=\"string\">HTTPS</span></span><br><span class=\"line\">          <span class=\"attr\">initialDelaySeconds:</span> <span class=\"number\">20</span></span><br><span class=\"line\">          <span class=\"attr\">periodSeconds:</span> <span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"string\">100m</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">200Mi</span></span><br><span class=\"line\">        <span class=\"attr\">securityContext:</span></span><br><span class=\"line\">          <span class=\"attr\">allowPrivilegeEscalation:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"attr\">readOnlyRootFilesystem:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">runAsNonRoot:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">runAsUser:</span> <span class=\"number\">1000</span></span><br><span class=\"line\">        <span class=\"attr\">volumeMounts:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">mountPath:</span> <span class=\"string\">/tmp</span></span><br><span class=\"line\">          <span class=\"attr\">name:</span> <span class=\"string\">tmp-dir</span></span><br><span class=\"line\">      <span class=\"attr\">nodeSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">kubernetes.io/os:</span> <span class=\"string\">linux</span></span><br><span class=\"line\">      <span class=\"attr\">priorityClassName:</span> <span class=\"string\">system-cluster-critical</span></span><br><span class=\"line\">      <span class=\"attr\">serviceAccountName:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">      <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">emptyDir:</span> &#123;&#125;</span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">tmp-dir</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apiregistration.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">APIService</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">v1beta1.metrics.k8s.io</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">group:</span> <span class=\"string\">metrics.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">groupPriorityMinimum:</span> <span class=\"number\">100</span></span><br><span class=\"line\">  <span class=\"attr\">insecureSkipTLSVerify:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">service:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"string\">v1beta1</span></span><br><span class=\"line\">  <span class=\"attr\">versionPriority:</span> <span class=\"number\">100</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl apply -f metrics-server.yaml</span><br></pre></td></tr></table></figure>","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>kubectl topmetrics-server,: error: Metrics API not available<br>yamlmetrics-server:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-admin:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-edit:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">rbac.authorization.k8s.io/aggregate-to-view:</span> <span class=\"string\">&quot;true&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:aggregated-metrics-reader</span></span><br><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">metrics.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">pods</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">list</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">watch</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes/metrics</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">resources:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">pods</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">nodes</span></span><br><span class=\"line\">  <span class=\"attr\">verbs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">get</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">list</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">watch</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">RoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server-auth-reader</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">Role</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">extension-apiserver-authentication-reader</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server:system:auth-delegator</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:auth-delegator</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">rbac.authorization.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">ClusterRoleBinding</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">roleRef:</span></span><br><span class=\"line\">  <span class=\"attr\">apiGroup:</span> <span class=\"string\">rbac.authorization.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">kind:</span> <span class=\"string\">ClusterRole</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">system:metrics-server</span></span><br><span class=\"line\"><span class=\"attr\">subjects:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">kind:</span> <span class=\"string\">ServiceAccount</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Service</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">ports:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">https</span></span><br><span class=\"line\">    <span class=\"attr\">port:</span> <span class=\"number\">443</span></span><br><span class=\"line\">    <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">    <span class=\"attr\">targetPort:</span> <span class=\"string\">https</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apps/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Deployment</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">selector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">strategy:</span></span><br><span class=\"line\">    <span class=\"attr\">rollingUpdate:</span></span><br><span class=\"line\">      <span class=\"attr\">maxUnavailable:</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span></span><br><span class=\"line\">    <span class=\"attr\">metadata:</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">spec:</span></span><br><span class=\"line\">      <span class=\"attr\">containers:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">args:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--cert-dir=/tmp</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--secure-port=4443</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-use-node-status-port</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--metric-resolution=15s</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">--kubelet-insecure-tls</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server:v0.6.4</span></span><br><span class=\"line\">        <span class=\"attr\">imagePullPolicy:</span> <span class=\"string\">IfNotPresent</span></span><br><span class=\"line\">        <span class=\"attr\">livenessProbe:</span></span><br><span class=\"line\">          <span class=\"attr\">failureThreshold:</span> <span class=\"number\">3</span></span><br><span class=\"line\">          <span class=\"attr\">httpGet:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/livez</span></span><br><span class=\"line\">            <span class=\"attr\">port:</span> <span class=\"string\">https</span></span><br><span class=\"line\">            <span class=\"attr\">scheme:</span> <span class=\"string\">HTTPS</span></span><br><span class=\"line\">          <span class=\"attr\">periodSeconds:</span> <span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">containerPort:</span> <span class=\"number\">4443</span></span><br><span class=\"line\">          <span class=\"attr\">name:</span> <span class=\"string\">https</span></span><br><span class=\"line\">          <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">        <span class=\"attr\">readinessProbe:</span></span><br><span class=\"line\">          <span class=\"attr\">failureThreshold:</span> <span class=\"number\">3</span></span><br><span class=\"line\">          <span class=\"attr\">httpGet:</span></span><br><span class=\"line\">            <span class=\"attr\">path:</span> <span class=\"string\">/readyz</span></span><br><span class=\"line\">            <span class=\"attr\">port:</span> <span class=\"string\">https</span></span><br><span class=\"line\">            <span class=\"attr\">scheme:</span> <span class=\"string\">HTTPS</span></span><br><span class=\"line\">          <span class=\"attr\">initialDelaySeconds:</span> <span class=\"number\">20</span></span><br><span class=\"line\">          <span class=\"attr\">periodSeconds:</span> <span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"attr\">resources:</span></span><br><span class=\"line\">          <span class=\"attr\">requests:</span></span><br><span class=\"line\">            <span class=\"attr\">cpu:</span> <span class=\"string\">100m</span></span><br><span class=\"line\">            <span class=\"attr\">memory:</span> <span class=\"string\">200Mi</span></span><br><span class=\"line\">        <span class=\"attr\">securityContext:</span></span><br><span class=\"line\">          <span class=\"attr\">allowPrivilegeEscalation:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"attr\">readOnlyRootFilesystem:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">runAsNonRoot:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">runAsUser:</span> <span class=\"number\">1000</span></span><br><span class=\"line\">        <span class=\"attr\">volumeMounts:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">mountPath:</span> <span class=\"string\">/tmp</span></span><br><span class=\"line\">          <span class=\"attr\">name:</span> <span class=\"string\">tmp-dir</span></span><br><span class=\"line\">      <span class=\"attr\">nodeSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">kubernetes.io/os:</span> <span class=\"string\">linux</span></span><br><span class=\"line\">      <span class=\"attr\">priorityClassName:</span> <span class=\"string\">system-cluster-critical</span></span><br><span class=\"line\">      <span class=\"attr\">serviceAccountName:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">      <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">emptyDir:</span> &#123;&#125;</span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">tmp-dir</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">apiregistration.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">APIService</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">labels:</span></span><br><span class=\"line\">    <span class=\"attr\">k8s-app:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">v1beta1.metrics.k8s.io</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"attr\">group:</span> <span class=\"string\">metrics.k8s.io</span></span><br><span class=\"line\">  <span class=\"attr\">groupPriorityMinimum:</span> <span class=\"number\">100</span></span><br><span class=\"line\">  <span class=\"attr\">insecureSkipTLSVerify:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">service:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">metrics-server</span></span><br><span class=\"line\">    <span class=\"attr\">namespace:</span> <span class=\"string\">kube-system</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"string\">v1beta1</span></span><br><span class=\"line\">  <span class=\"attr\">versionPriority:</span> <span class=\"number\">100</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl apply -f metrics-server.yaml</span><br></pre></td></tr></table></figure>"},{"title":"metrics/cadvisor,kube-state-metrics,node-exporter","date":"2023-08-18T10:30:53.000Z","_content":"# kubeletmetrics/cadvisor\nKubeletKubernetesKubelet\n\n1. Kubelet\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - Kubelet\n   - KubeletCPU\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n\n2. cAdvisor\n   - CPU\n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - I/O\n   - \n   - \n   - \n   - \n   - CPU\n\nKubeletcAdvisorKubernetes\n# kube-state-metrics\nkube-state-metricsKSMKubernetesPrometheusKubernetesKube-state-metrics\n\n1. Node MetricsCPU\n\n2. PodPod MetricsPodCPU\n\n3. Namespace MetricsPodReplication ControllerDeploymentDaemonSet\n\n4. Service Metrics\n\n5. Deployment Metrics\n\n6. Container MetricsCPU\n\n7. StatefulSetStatefulSet MetricsStatefulSet\n\n8. DaemonSet MetricsDaemonSet\n\n9. Job Metrics\n\nKubernetes\n# node-exporter\nNode Exporter  Prometheus  Linux \n\n1.  CPU  I/O \n\n2. CPU\n\n3. \n\n4. IOIO\n\n5. \n\n6. CPU  CPU CPU CPU CPU\n\n7. \n\nNode Exporter ","source":"_posts/kubernetes/monitor.md","raw":"---\ntitle: metrics/cadvisor,kube-state-metrics,node-exporter\ndate: 2023-08-18 18:30:53\ncategories:\n  - [kubernetes]\ntags: kubernetes\n---\n# kubeletmetrics/cadvisor\nKubeletKubernetesKubelet\n\n1. Kubelet\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - KubeletPod\n   - Kubelet\n   - KubeletCPU\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n   - Kubelet\n\n2. cAdvisor\n   - CPU\n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - \n   - I/O\n   - \n   - \n   - \n   - \n   - CPU\n\nKubeletcAdvisorKubernetes\n# kube-state-metrics\nkube-state-metricsKSMKubernetesPrometheusKubernetesKube-state-metrics\n\n1. Node MetricsCPU\n\n2. PodPod MetricsPodCPU\n\n3. Namespace MetricsPodReplication ControllerDeploymentDaemonSet\n\n4. Service Metrics\n\n5. Deployment Metrics\n\n6. Container MetricsCPU\n\n7. StatefulSetStatefulSet MetricsStatefulSet\n\n8. DaemonSet MetricsDaemonSet\n\n9. Job Metrics\n\nKubernetes\n# node-exporter\nNode Exporter  Prometheus  Linux \n\n1.  CPU  I/O \n\n2. CPU\n\n3. \n\n4. IOIO\n\n5. \n\n6. CPU  CPU CPU CPU CPU\n\n7. \n\nNode Exporter ","slug":"kubernetes/monitor","published":1,"updated":"2023-08-23T06:55:44.756Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvawt0015lsjxf0x9hfzx","content":"<h1 id=\"kubeletmetrics-cadvisor\"><a href=\"#kubeletmetrics-cadvisor\" class=\"headerlink\" title=\"kubeletmetrics&#x2F;cadvisor\"></a>kubeletmetrics&#x2F;cadvisor</h1><p>KubeletKubernetesKubelet</p>\n<ol>\n<li><p>Kubelet</p>\n<ul>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>Kubelet</li>\n<li>KubeletCPU</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n</ul>\n</li>\n<li><p>cAdvisor</p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>I&#x2F;O</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>CPU</li>\n</ul>\n</li>\n</ol>\n<p>KubeletcAdvisorKubernetes</p>\n<h1 id=\"kube-state-metrics\"><a href=\"#kube-state-metrics\" class=\"headerlink\" title=\"kube-state-metrics\"></a>kube-state-metrics</h1><p>kube-state-metricsKSMKubernetesPrometheusKubernetesKube-state-metrics</p>\n<ol>\n<li><p>Node MetricsCPU</p>\n</li>\n<li><p>PodPod MetricsPodCPU</p>\n</li>\n<li><p>Namespace MetricsPodReplication ControllerDeploymentDaemonSet</p>\n</li>\n<li><p>Service Metrics</p>\n</li>\n<li><p>Deployment Metrics</p>\n</li>\n<li><p>Container MetricsCPU</p>\n</li>\n<li><p>StatefulSetStatefulSet MetricsStatefulSet</p>\n</li>\n<li><p>DaemonSet MetricsDaemonSet</p>\n</li>\n<li><p>Job Metrics</p>\n</li>\n</ol>\n<p>Kubernetes</p>\n<h1 id=\"node-exporter\"><a href=\"#node-exporter\" class=\"headerlink\" title=\"node-exporter\"></a>node-exporter</h1><p>Node Exporter  Prometheus  Linux </p>\n<ol>\n<li><p> CPU  I&#x2F;O </p>\n</li>\n<li><p>CPU</p>\n</li>\n<li><p></p>\n</li>\n<li><p>IOIO</p>\n</li>\n<li><p></p>\n</li>\n<li><p>CPU  CPU CPU CPU CPU</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>Node Exporter </p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<h1 id=\"kubeletmetrics-cadvisor\"><a href=\"#kubeletmetrics-cadvisor\" class=\"headerlink\" title=\"kubeletmetrics&#x2F;cadvisor\"></a>kubeletmetrics&#x2F;cadvisor</h1><p>KubeletKubernetesKubelet</p>\n<ol>\n<li><p>Kubelet</p>\n<ul>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>KubeletPod</li>\n<li>Kubelet</li>\n<li>KubeletCPU</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n<li>Kubelet</li>\n</ul>\n</li>\n<li><p>cAdvisor</p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>I&#x2F;O</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>CPU</li>\n</ul>\n</li>\n</ol>\n<p>KubeletcAdvisorKubernetes</p>\n<h1 id=\"kube-state-metrics\"><a href=\"#kube-state-metrics\" class=\"headerlink\" title=\"kube-state-metrics\"></a>kube-state-metrics</h1><p>kube-state-metricsKSMKubernetesPrometheusKubernetesKube-state-metrics</p>\n<ol>\n<li><p>Node MetricsCPU</p>\n</li>\n<li><p>PodPod MetricsPodCPU</p>\n</li>\n<li><p>Namespace MetricsPodReplication ControllerDeploymentDaemonSet</p>\n</li>\n<li><p>Service Metrics</p>\n</li>\n<li><p>Deployment Metrics</p>\n</li>\n<li><p>Container MetricsCPU</p>\n</li>\n<li><p>StatefulSetStatefulSet MetricsStatefulSet</p>\n</li>\n<li><p>DaemonSet MetricsDaemonSet</p>\n</li>\n<li><p>Job Metrics</p>\n</li>\n</ol>\n<p>Kubernetes</p>\n<h1 id=\"node-exporter\"><a href=\"#node-exporter\" class=\"headerlink\" title=\"node-exporter\"></a>node-exporter</h1><p>Node Exporter  Prometheus  Linux </p>\n<ol>\n<li><p> CPU  I&#x2F;O </p>\n</li>\n<li><p>CPU</p>\n</li>\n<li><p></p>\n</li>\n<li><p>IOIO</p>\n</li>\n<li><p></p>\n</li>\n<li><p>CPU  CPU CPU CPU CPU</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>Node Exporter </p>\n"},{"title":"uninstall containerd","date":"2023-08-22T03:39:52.000Z","_content":" Kubernetes  containerd\n\nStep 1: \n```\n$ crictl ps -a | awk '{if(NR>1) print $1}' | xargs -I {} crictl rm {}\n```\n\n\nStep 2:  containerd \n```\n$ systemctl stop containerd\n$ systemctl disable containerd\n```\n containerd \n\nStep 3:  containerd \n```\n$ yum remove containerd -y\n```\naptdnf containerd \n\nStep 4:  containerd \n```\n$ rm -rf /etc/containerd\n```\n containerd \n\nStep 5:  containerd \n```\n$ rm -rf /var/lib/containerd\n```\n containerd \n\nStep 6:  containerd  iptables \n```\n$ iptables -t nat -F\n$ iptables -t mangle -F\n```\n containerd  iptables \n\nStep 7:  containerd \n```\n$ ls /etc/systemd/system/containerd*\n```\n\n```\n$ rm /etc/systemd/system/containerd*.service\n```\n\n Kubernetes  containerd ","source":"_posts/kubernetes/uninstall_cintainerd.md","raw":"---\ntitle: uninstall containerd\ndate: 2023-08-22 11:39:52\ncategories:\n  - [kubernetes]\ntags: containerd\n---\n Kubernetes  containerd\n\nStep 1: \n```\n$ crictl ps -a | awk '{if(NR>1) print $1}' | xargs -I {} crictl rm {}\n```\n\n\nStep 2:  containerd \n```\n$ systemctl stop containerd\n$ systemctl disable containerd\n```\n containerd \n\nStep 3:  containerd \n```\n$ yum remove containerd -y\n```\naptdnf containerd \n\nStep 4:  containerd \n```\n$ rm -rf /etc/containerd\n```\n containerd \n\nStep 5:  containerd \n```\n$ rm -rf /var/lib/containerd\n```\n containerd \n\nStep 6:  containerd  iptables \n```\n$ iptables -t nat -F\n$ iptables -t mangle -F\n```\n containerd  iptables \n\nStep 7:  containerd \n```\n$ ls /etc/systemd/system/containerd*\n```\n\n```\n$ rm /etc/systemd/system/containerd*.service\n```\n\n Kubernetes  containerd ","slug":"kubernetes/uninstall_cintainerd","published":1,"updated":"2023-08-22T07:29:52.616Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvax90024lsjxgubq5alw","content":"<p> Kubernetes  containerd</p>\n<p>Step 1: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ crictl ps -a | awk &#x27;&#123;if(NR&gt;1) print $1&#125;&#x27; | xargs -I &#123;&#125; crictl rm &#123;&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>Step 2:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl stop containerd</span><br><span class=\"line\">$ systemctl disable containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 3:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum remove containerd -y</span><br></pre></td></tr></table></figure>\n<p>aptdnf containerd </p>\n<p>Step 4:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf /etc/containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 5:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 6:  containerd  iptables </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ iptables -t nat -F</span><br><span class=\"line\">$ iptables -t mangle -F</span><br></pre></td></tr></table></figure>\n<p> containerd  iptables </p>\n<p>Step 7:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls /etc/systemd/system/containerd*</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm /etc/systemd/system/containerd*.service</span><br></pre></td></tr></table></figure>\n\n<p> Kubernetes  containerd </p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p> Kubernetes  containerd</p>\n<p>Step 1: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ crictl ps -a | awk &#x27;&#123;if(NR&gt;1) print $1&#125;&#x27; | xargs -I &#123;&#125; crictl rm &#123;&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>Step 2:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl stop containerd</span><br><span class=\"line\">$ systemctl disable containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 3:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum remove containerd -y</span><br></pre></td></tr></table></figure>\n<p>aptdnf containerd </p>\n<p>Step 4:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf /etc/containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 5:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>\n<p> containerd </p>\n<p>Step 6:  containerd  iptables </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ iptables -t nat -F</span><br><span class=\"line\">$ iptables -t mangle -F</span><br></pre></td></tr></table></figure>\n<p> containerd  iptables </p>\n<p>Step 7:  containerd </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls /etc/systemd/system/containerd*</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ rm /etc/systemd/system/containerd*.service</span><br></pre></td></tr></table></figure>\n\n<p> Kubernetes  containerd </p>\n"},{"title":"install nodejs","date":"2023-08-22T08:35:17.000Z","_content":"UbuntuNode.jsNPM\n\n1. \n\n2. \n\n   ```\n   sudo apt update\n   ```\n\n3. Node.js\n\n   ```\n   sudo apt install nodejs\n   ```\n\n   Node.js\n\n4. npm\n\n   ```\n   sudo apt install npm\n   ```\n\n   npm\n\n5. Node.jsnpm\n\n   ```\n   nodejs --version\n   npm --version\n   ```\n\n   Node.jsnpm\n\nNode.jsnpmnvmNode Version Manager\n\n1. nvm\n\n   ```\n   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n   ```\n\n   nvm\n\n2. nvm\n\n   ```\n   source ~/.bashrc\n   ```\n\n3. Node.js\n\n   ```\n   nvm install 18.17.1\n   ```\n\n   Node.js v18.17.1\n\n4. Node.js\n\n   ```\n   nvm use 18.17.1\n   ```\n\n   Node.js v18.17.1\n\n5. npm\n\n   ```\n   npm install -g npm@9.6.7\n   ```\n\n   npm v9.6.7\n\n6. Node.jsnpm\n\n   ```\n   node --version\n   npm --version\n   ```\n\n   Node.js v18.17.1npm v9.6.7\n\nnvmNode.jsNode.js`nvm use`","source":"_posts/nodejs/install_nodejs.md","raw":"---\ntitle: install nodejs\ndate: 2023-08-22 16:35:17\ntags: nodejs\n---\nUbuntuNode.jsNPM\n\n1. \n\n2. \n\n   ```\n   sudo apt update\n   ```\n\n3. Node.js\n\n   ```\n   sudo apt install nodejs\n   ```\n\n   Node.js\n\n4. npm\n\n   ```\n   sudo apt install npm\n   ```\n\n   npm\n\n5. Node.jsnpm\n\n   ```\n   nodejs --version\n   npm --version\n   ```\n\n   Node.jsnpm\n\nNode.jsnpmnvmNode Version Manager\n\n1. nvm\n\n   ```\n   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n   ```\n\n   nvm\n\n2. nvm\n\n   ```\n   source ~/.bashrc\n   ```\n\n3. Node.js\n\n   ```\n   nvm install 18.17.1\n   ```\n\n   Node.js v18.17.1\n\n4. Node.js\n\n   ```\n   nvm use 18.17.1\n   ```\n\n   Node.js v18.17.1\n\n5. npm\n\n   ```\n   npm install -g npm@9.6.7\n   ```\n\n   npm v9.6.7\n\n6. Node.jsnpm\n\n   ```\n   node --version\n   npm --version\n   ```\n\n   Node.js v18.17.1npm v9.6.7\n\nnvmNode.jsNode.js`nvm use`","slug":"nodejs/install_nodejs","published":1,"updated":"2023-08-22T08:36:07.375Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clogmvax90025lsjxe9qif01l","content":"<p>UbuntuNode.jsNPM</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt update</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install nodejs</span><br></pre></td></tr></table></figure>\n\n<p>Node.js</p>\n</li>\n<li><p>npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install npm</span><br></pre></td></tr></table></figure>\n\n<p>npm</p>\n</li>\n<li><p>Node.jsnpm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nodejs --version</span><br><span class=\"line\">npm --version</span><br></pre></td></tr></table></figure>\n\n<p>Node.jsnpm</p>\n</li>\n</ol>\n<p>Node.jsnpmnvmNode Version Manager</p>\n<ol>\n<li><p>nvm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash</span><br></pre></td></tr></table></figure>\n\n<p>nvm</p>\n</li>\n<li><p>nvm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 18.17.1</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1</p>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use 18.17.1</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1</p>\n</li>\n<li><p>npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g npm@9.6.7</span><br></pre></td></tr></table></figure>\n\n<p>npm v9.6.7</p>\n</li>\n<li><p>Node.jsnpm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node --version</span><br><span class=\"line\">npm --version</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1npm v9.6.7</p>\n</li>\n</ol>\n<p>nvmNode.jsNode.js<code>nvm use</code></p>\n","site":{"data":{"link":[{"class_name":"","class_desc":"","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":""}]},{"class_name":"","class_desc":"","link_list":[{"name":"Youtube","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":""},{"name":"Weibo","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":""},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":""}]}]}},"cover":false,"excerpt":"","more":"<p>UbuntuNode.jsNPM</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt update</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install nodejs</span><br></pre></td></tr></table></figure>\n\n<p>Node.js</p>\n</li>\n<li><p>npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install npm</span><br></pre></td></tr></table></figure>\n\n<p>npm</p>\n</li>\n<li><p>Node.jsnpm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nodejs --version</span><br><span class=\"line\">npm --version</span><br></pre></td></tr></table></figure>\n\n<p>Node.jsnpm</p>\n</li>\n</ol>\n<p>Node.jsnpmnvmNode Version Manager</p>\n<ol>\n<li><p>nvm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash</span><br></pre></td></tr></table></figure>\n\n<p>nvm</p>\n</li>\n<li><p>nvm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 18.17.1</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1</p>\n</li>\n<li><p>Node.js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use 18.17.1</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1</p>\n</li>\n<li><p>npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g npm@9.6.7</span><br></pre></td></tr></table></figure>\n\n<p>npm v9.6.7</p>\n</li>\n<li><p>Node.jsnpm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node --version</span><br><span class=\"line\">npm --version</span><br></pre></td></tr></table></figure>\n\n<p>Node.js v18.17.1npm v9.6.7</p>\n</li>\n</ol>\n<p>nvmNode.jsNode.js<code>nvm use</code></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"clogmvaw20005lsjx6to8h5la","category_id":"clogmvawb000alsjx0qma6pq6","_id":"clogmvawm000llsjxhp1849rs"},{"post_id":"clogmvaw50007lsjx8t1efzt0","category_id":"clogmvawe000elsjx7bczgk1l","_id":"clogmvawp000slsjxcl6hfx3i"},{"post_id":"clogmvawa0009lsjxdf494now","category_id":"clogmvawe000elsjx7bczgk1l","_id":"clogmvawr000xlsjx29j36chm"},{"post_id":"clogmvawc000blsjxhiezbv3w","category_id":"clogmvawo000plsjxgy5g6m9b","_id":"clogmvawt0013lsjxejj425gw"},{"post_id":"clogmvawd000clsjx74pf6nx4","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawv0018lsjx0xvo14hj"},{"post_id":"clogmvawr000zlsjx9kl6f7l1","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawv001alsjxf7z2fcre"},{"post_id":"clogmvaws0011lsjxecjh0lxy","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawv001dlsjxhe2y899g"},{"post_id":"clogmvawg000glsjxewfwdh9w","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvaww001flsjxcfqphehq"},{"post_id":"clogmvawt0015lsjxf0x9hfzx","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvaww001ilsjx6nn3akw7"},{"post_id":"clogmvawg000hlsjxeitm2p3m","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawx001klsjxftr89wy5"},{"post_id":"clogmvawl000klsjxgtjl9kgh","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawx001nlsjxglzz6joj"},{"post_id":"clogmvawn000nlsjxek41470f","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawy001rlsjx0fm61e1t"},{"post_id":"clogmvawo000qlsjxcfe1eh0g","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawy001tlsjx8kir68jf"},{"post_id":"clogmvawp000tlsjxh5x04d9i","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvawz001wlsjx9qoc32u4"},{"post_id":"clogmvax90024lsjxgubq5alw","category_id":"clogmvawq000vlsjx6veu7lpk","_id":"clogmvaxa0027lsjxhoctafi2"}],"PostTag":[{"post_id":"clogmvaw20005lsjx6to8h5la","tag_id":"clogmvaw70008lsjx3iflae2a","_id":"clogmvawf000flsjx6qgxej4u"},{"post_id":"clogmvaw50007lsjx8t1efzt0","tag_id":"clogmvawe000dlsjx9x7r2h14","_id":"clogmvawm000mlsjx3szt8fyo"},{"post_id":"clogmvawa0009lsjxdf494now","tag_id":"clogmvawe000dlsjx9x7r2h14","_id":"clogmvawp000rlsjx3wwb5f81"},{"post_id":"clogmvawc000blsjxhiezbv3w","tag_id":"clogmvawn000olsjx96iy0jp6","_id":"clogmvawr000ylsjx9ebx7t8m"},{"post_id":"clogmvawd000clsjx74pf6nx4","tag_id":"clogmvawq000ulsjx53n6ce03","_id":"clogmvawt0014lsjx7icb1yed"},{"post_id":"clogmvawg000glsjxewfwdh9w","tag_id":"clogmvaws0010lsjxgaikgb5y","_id":"clogmvawv0019lsjxe1mfcsdh"},{"post_id":"clogmvawg000hlsjxeitm2p3m","tag_id":"clogmvaws0010lsjxgaikgb5y","_id":"clogmvaww001elsjx1q69hv1i"},{"post_id":"clogmvawl000klsjxgtjl9kgh","tag_id":"clogmvawv001clsjxa9zg9h3d","_id":"clogmvawx001jlsjxhczq3rq9"},{"post_id":"clogmvawn000nlsjxek41470f","tag_id":"clogmvaww001hlsjx8r2xbbaw","_id":"clogmvawy001olsjx9z8zcnuf"},{"post_id":"clogmvawo000qlsjxcfe1eh0g","tag_id":"clogmvaww001hlsjx8r2xbbaw","_id":"clogmvawy001slsjxg1gahjpr"},{"post_id":"clogmvawp000tlsjxh5x04d9i","tag_id":"clogmvawy001qlsjxajwj0rov","_id":"clogmvawy001vlsjx77bu9og0"},{"post_id":"clogmvawq000wlsjx7jof94p3","tag_id":"clogmvawy001ulsjx6aqn7ikn","_id":"clogmvawz001ylsjx1blx02nx"},{"post_id":"clogmvawr000zlsjx9kl6f7l1","tag_id":"clogmvawz001xlsjx66blb9s8","_id":"clogmvawz0020lsjx8tzs9dxn"},{"post_id":"clogmvaws0011lsjxecjh0lxy","tag_id":"clogmvawz001zlsjx1yqhbx2j","_id":"clogmvawz0022lsjxgk8o731g"},{"post_id":"clogmvawt0015lsjxf0x9hfzx","tag_id":"clogmvawz001zlsjx1yqhbx2j","_id":"clogmvax00023lsjx2gwtelto"},{"post_id":"clogmvax90024lsjxgubq5alw","tag_id":"clogmvaxa0026lsjxa2je1ijt","_id":"clogmvaxb0029lsjxfk42cu50"},{"post_id":"clogmvax90025lsjxe9qif01l","tag_id":"clogmvaxa0028lsjx4qgs0hoe","_id":"clogmvaxb002alsjxff06a1nn"}],"Tag":[{"name":"docker","_id":"clogmvaw70008lsjx3iflae2a"},{"name":"golang","_id":"clogmvawe000dlsjx9x7r2h14"},{"name":"chrony","_id":"clogmvawn000olsjx96iy0jp6"},{"name":"deepflow","_id":"clogmvawq000ulsjx53n6ce03"},{"name":"logging","_id":"clogmvaws0010lsjxgaikgb5y"},{"name":"gateway","_id":"clogmvawv001clsjxa9zg9h3d"},{"name":"grafana","_id":"clogmvaww001hlsjx8r2xbbaw"},{"name":"kibana","_id":"clogmvawy001qlsjxajwj0rov"},{"name":"kubeovn","_id":"clogmvawy001ulsjx6aqn7ikn"},{"name":"kubevirt","_id":"clogmvawz001xlsjx66blb9s8"},{"name":"kubernetes","_id":"clogmvawz001zlsjx1yqhbx2j"},{"name":"containerd","_id":"clogmvaxa0026lsjxa2je1ijt"},{"name":"nodejs","_id":"clogmvaxa0028lsjx4qgs0hoe"}]}}